<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <meta name="author" content="二哥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://usermice.github.io/images/hero.png">
    <meta name="twitter:title" content="Jenkins :: Hugo Relearn Theme">
    <meta property="og:url" content="https://usermice.github.io/systems/linux/jenkins/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Jenkins :: Hugo Relearn Theme">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://usermice.github.io/images/hero.png">
    <meta itemprop="name" content="Jenkins :: Hugo Relearn Theme">
    <meta itemprop="datePublished" content="2024-06-13T00:29:16+08:00">
    <meta itemprop="dateModified" content="2024-06-13T00:29:16+08:00">
    <meta itemprop="image" content="https://usermice.github.io/images/hero.png">
    <title>Jenkins :: Hugo Relearn Theme</title>
    <link href="../../../images/favicon.ico?1727790689" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../css/fontawesome-all.min.css?1727790691" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fontawesome-all.min.css?1727790691" rel="stylesheet"></noscript>
    <link href="../../../css/nucleus.css?1727790691" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1727790691" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/auto-complete.css?1727790691" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar.min.css?1727790691" rel="stylesheet">
    <link href="../../../css/fonts.css?1727790691" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fonts.css?1727790691" rel="stylesheet"></noscript>
    <link href="../../../css/theme.css?1727790691" rel="stylesheet">
    <link href="../../../css/theme-relearn-auto.css?1727790691" rel="stylesheet" id="R-variant-style">
    <link href="../../../css/chroma-relearn-auto.css?1727790691" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../css/variant.css?1727790691" rel="stylesheet">
    <link href="../../../css/print.css?1727790691" rel="stylesheet" media="print">
    <link href="../../../css/format-print.css?1727790691" rel="stylesheet">
    <script src="../../../js/variant.js?1727790691"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/usermice.github.io';
      window.index_js_url="../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../systems/linux/jenkins/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Jenkins</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/jdk/install_jdk_and_jar_run/" title="Install_Jdk_And_Jar_Run (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/jenkins/use_jenkins/" title="Use_Jenkins (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="jenkins">Jenkins</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Jenkins</h1>
          <article class="default">
            <header class="headline">
            </header>

<h1 id="use_jenkins">Use_Jenkins</h1>

<h2 id="配置jenkins">配置<code>Jenkins</code></h2>
<h3 id="升级jenkins">升级<code>Jenkins</code></h3>
<blockquote>
<ul>
<li>定位<code>jenkins.war</code>包所在目录</li>
</ul>
<blockquote>
<ul>
<li><a href="https://zeyangli.github.io/" rel="external" target="_self"><code>Jenkins</code>实践文档</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ps -ef|grep jenkins  	<span style="color:#75715e"># 定位jenkins.war包所在目录</span>
</span></span><span style="display:flex;"><span>root       <span style="color:#ae81ff">1773</span>      <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1</span> 09:06 ?        00:03:00 /usr/local/jdk1.8.0_221/bin/java -Djava.awt.headless<span style="color:#f92672">=</span>true -DJENKINS_HOME<span style="color:#f92672">=</span>/var/lib/jenkins -jar /usr/lib/jenkins/jenkins.war --logfile<span style="color:#f92672">=</span>/var/log/jenkins/jenkins.log --webroot<span style="color:#f92672">=</span>/var/cache/jenkins/war --httpPort<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span> --debug<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> --handlerCountMax<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span> --handlerCountMaxIdle<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cd /usr/lib/jenkins/
</span></span><span style="display:flex;"><span>$ systemctl stop jenkins  	<span style="color:#75715e"># 停止Jenkins</span>
</span></span><span style="display:flex;"><span>$ mv jenkins.war jenkins.war.bak  	<span style="color:#75715e"># 备份</span>
</span></span><span style="display:flex;"><span>$ wget -P /usr/lib/jenkins/ http://mirrors.jenkins.io/war-stable/latest/jenkins.war
</span></span><span style="display:flex;"><span>$ systemctl start jenkins</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="汉化jenkins">汉化<code>Jenkins</code></h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->登录<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->页面选择：<!-- raw HTML omitted --><code>Manage Jenkins</code>→<code>Manage Plugins</code></li>
</ul>
<blockquote>
<p><a href="#R-image-e50e7f23ebdd77f4359ee2eec2b27750" class="lightbox-link"><img alt="选择插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-55-47.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e50e7f23ebdd77f4359ee2eec2b27750"><img alt="选择插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-55-47.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->在搜索框搜索：<!-- raw HTML omitted --><code>Locale</code><!-- raw HTML omitted -->选择安装并重启<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->页面<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->设置<!-- raw HTML omitted --><code>Local</code>：<code>Configure System</code><!-- raw HTML omitted -->(系统设置)→<!-- raw HTML omitted --><code> Locale</code><!-- raw HTML omitted -->(语言设置)→<!-- raw HTML omitted --><code>en_US</code><!-- raw HTML omitted -->(英文)、<!-- raw HTML omitted --><code>zh_CN</code><!-- raw HTML omitted -->(中文)<!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-2162ea5ae2a5484ece57b241b7116d6a" class="lightbox-link"><img alt="安装汉化插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-57-40.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2162ea5ae2a5484ece57b241b7116d6a"><img alt="安装汉化插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-57-40.png"></a></p>
</blockquote>
</blockquote>
<hr>
<h3 id="配置域名">配置域名</h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->配置<!-- raw HTML omitted --><code>Nginx</code><!-- raw HTML omitted -->配置文件方便使用域名访问<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/local/nginx/conf/vhosts/jenkins.conf<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">server {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> listen       80;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> server_name  jenkins.ken.io; #监听的域名
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> access_log  /var/log/nginx/jenkins.access.log main;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> error_log  /var/log/nginx/jenkins.error.log error;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> location / {  	# 转发或处理
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     proxy_pass http://127.0.0.1:8080; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> error_page   500 502 503 504  /50x.html;  	# 错误页
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> location = /50x.html {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     root   /usr/share/nginx/html;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="权限管理">权限管理</h3>
<blockquote>
<ul>
<li><a href="https://blog.51cto.com/wzlinux/2160778" rel="external" target="_self">持续集成之<code>Jenkins</code>配置基于角色的项目权限管理(五)</a></li>
<li><!-- raw HTML omitted -->配置<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->权限管理<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><code>Jenkins</code><!-- raw HTML omitted -->全局安装配置<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->系统管理→插件管理→安装插件:<!-- raw HTML omitted --><code>Role-based Authorization Strategy</code></li>
</ul>
<blockquote>
<ul>
<li><code>Role-based Authorization Strategy</code></li>
<li><code>Matrix Authorization Strategy</code></li>
<li><code>Authorize Project</code></li>
</ul>
<p><a href="#R-image-6f5eec598c26ddc96d604da5e258a474" class="lightbox-link"><img alt="搜索Role-based Authorization Strategy" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-18-26.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6f5eec598c26ddc96d604da5e258a474"><img alt="搜索Role-based Authorization Strategy" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-18-26.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->系统管理→全局安全配置勾选:<!-- raw HTML omitted --><code>Role-Based Strategy</code></li>
</ul>
<blockquote>
<p><a href="#R-image-64d6f9974e1e81dd89682c586e590fe4" class="lightbox-link"><img alt="选择全局安装配置" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-22-20.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-64d6f9974e1e81dd89682c586e590fe4"><img alt="选择全局安装配置" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-22-20.png"></a></p>
<p><a href="#R-image-b0e51817f8f84b7a200b251da9f236ee" class="lightbox-link"><img alt="选择：Role-Based Strategy" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-24-08.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b0e51817f8f84b7a200b251da9f236ee"><img alt="选择：Role-Based Strategy" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-24-08.png"></a></p>
</blockquote>
</blockquote>
<ul>
<li><code>Jenkisn</code><!-- raw HTML omitted -->角色分配权限<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->系统管理→管理和分配角色：<!-- raw HTML omitted --><code>Manage and Assign Roles</code></li>
</ul>
<blockquote>
<p><a href="#R-image-acfcda11168babe71d33da807dba2058" class="lightbox-link"><img alt="配置Manage and Assign Roles" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-29-36.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-acfcda11168babe71d33da807dba2058"><img alt="配置Manage and Assign Roles" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-29-36.png"></a></p>
<p><a href="#R-image-9566661f814994dc78e9af7bd31cc2a6" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-31-29.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9566661f814994dc78e9af7bd31cc2a6"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-31-29.png"></a></p>
</blockquote>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->先配置： 管理角色<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-e0a00ba15bb94ec62fb13edee56347cb" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-34-09.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e0a00ba15bb94ec62fb13edee56347cb"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-34-09.png"></a></p>
<ul>
<li><!-- raw HTML omitted -->添加<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->全局项目角色<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-f30b6f1bd7fa68fff1ab6903f2d0d249" class="lightbox-link"><img alt="全局角色" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-38-52.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f30b6f1bd7fa68fff1ab6903f2d0d249"><img alt="全局角色" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-38-52.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->添加<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->项目角色<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li>
<p><code>Role</code><!-- raw HTML omitted -->代表视图<!-- raw HTML omitted --></p>
</li>
<li>
<p><code>Pattern</code><!-- raw HTML omitted -->代表视图下<!-- raw HTML omitted --><code>test*</code><!-- raw HTML omitted -->的任务名称<!-- raw HTML omitted --></p>
</li>
</ul>
<p><a href="#R-image-f45bdde26abdd07948c928b57959d337" class="lightbox-link"><img alt="项目角色" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-46-24.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f45bdde26abdd07948c928b57959d337"><img alt="项目角色" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-46-24.png"></a></p>
</blockquote>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->给<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->角色分配执行权限<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-e9642ba965ea2d20c2a2c417c76a95ad" class="lightbox-link"><img alt="角色分配" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-54-57.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e9642ba965ea2d20c2a2c417c76a95ad"><img alt="角色分配" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-54-57.png"></a></p>
<ul>
<li><code>Jenkins</code><!-- raw HTML omitted -->全局角色<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-884f846f08ca96846b016ded3372829d" class="lightbox-link"><img alt="分配全局角色" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-58-06.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-884f846f08ca96846b016ded3372829d"><img alt="分配全局角色" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-58-06.png"></a></p>
</blockquote>
<ul>
<li><code>Jenkins</code><!-- raw HTML omitted -->项目角色<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-c7b6720a2fd309ffd6d3c3d0583003ec" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_20-02-46.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c7b6720a2fd309ffd6d3c3d0583003ec"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_20-02-46.png"></a></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h3 id="jenkins配置邮箱"><code>Jenkins</code>配置邮箱</h3>
<blockquote>
<ul>
<li><a href="#R-image-ddf9dd9955dd8302f83375e5513753b5" class="lightbox-link"><img alt="配置Jenkins邮箱" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-57-50.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ddf9dd9955dd8302f83375e5513753b5"><img alt="配置Jenkins邮箱" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-57-50.png"></a></li>
</ul>
</blockquote>
<hr>
<h3 id="jenkins服务器配置"><code>Jenkins</code>服务器配置</h3>
<h4 id="配置ssh管理服务器">配置<code>ssh</code>管理服务器</h4>
<blockquote>
<ul>
<li><code>Jenkins</code><!-- raw HTML omitted -->使用<!-- raw HTML omitted --><code>ssh</code><!-- raw HTML omitted -->管理服务器<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->搜索<!-- raw HTML omitted --><code>ssh</code><!-- raw HTML omitted -->插件：系统管理→插件管理→搜索：<!-- raw HTML omitted --><code>Publish Over SSH</code></li>
</ul>
<blockquote>
<p><a href="#R-image-62d57b2047c3f993d94753be4b0269bd" class="lightbox-link"><img alt="搜索ssh插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-03-45.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-62d57b2047c3f993d94753be4b0269bd"><img alt="搜索ssh插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-03-45.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->配置<!-- raw HTML omitted --><code>ssh</code><!-- raw HTML omitted -->插件：系统管理→系统配置→<!-- raw HTML omitted --><code>Publish over SSH</code>→<code>SSH Servers</code></li>
</ul>
<blockquote>
<p><a href="#R-image-28ec2ba6227e2cdd3c531e3a449f63e9" class="lightbox-link"><img alt="配置Publish over SSH插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-32-37.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-28ec2ba6227e2cdd3c531e3a449f63e9"><img alt="配置Publish over SSH插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-32-37.png"></a></p>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h4 id="配置ansible管理服务器">配置<code>ansible</code>管理服务器</h4>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->配置<!-- raw HTML omitted --><code>ansible</code><!-- raw HTML omitted -->实现免密登录以便<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->批量处理<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->生成密钥对，拷贝公钥到目部主机<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /usr/bin/sed -i <span style="color:#e6db74">&#34;/host_key_checking/a\\host_key_checking = false&#34;</span> /etc/ansible/ansible.cfg  	<span style="color:#75715e"># 关闭主机密钥检查</span>
</span></span><span style="display:flex;"><span>$ sudo su -s /bin/bash jenkins  	<span style="color:#75715e"># 如果Jenkins用户不是root需要切换用户  </span>
</span></span><span style="display:flex;"><span>$ ssh-keygen  	<span style="color:#75715e"># 生成密钥对  </span>
</span></span><span style="display:flex;"><span>$ ssh-copy-id root@<span style="color:#e6db74">&#34;目标IP&#34;</span>  	<span style="color:#75715e"># 拷贝公钥到目标主机  </span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->配置<!-- raw HTML omitted --><code>Ansible</code><!-- raw HTML omitted -->的<!-- raw HTML omitted --><code>hosts</code><!-- raw HTML omitted -->文件<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/etc/ansible/hosts<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">console # 自定义名称，  ansible_ssh_user=root # 用户， ansible_ssh_pass=&#34;a&#34; # 密码，ansible_ssh_port=22 # 端口， ansible_ssh_host=192.168.1.1 # 目部主机IP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->登录<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->页面，到插件管理界面搜索安装<!-- raw HTML omitted --><code>Ansible</code><!-- raw HTML omitted -->插件<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-5ee36a8ff859c3232c46a6505f2705e2" class="lightbox-link"><img alt="搜索安装<code>ansible</code>插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-06-12.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5ee36a8ff859c3232c46a6505f2705e2"><img alt="搜索安装<code>ansible</code>插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-06-12.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->安装好<!-- raw HTML omitted --><code>Ansible</code><!-- raw HTML omitted -->插件后重启<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->页面<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-3d4528436299031c2e8e66a89264c6b8" class="lightbox-link"><img alt="安装好后重启页面" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-08-30.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3d4528436299031c2e8e66a89264c6b8"><img alt="安装好后重启页面" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_19-08-30.png"></a></p>
</blockquote>
<ul>
<li>使用<code>Gitlab+Ansible</code>构建项目验证<code>Ansible</code>是否可用</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->选择：新建任务→输入任务名称：→选择：构建一个自由风格的软件项目→点击：确认<!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-3893488d538885dd46bfab6a5f2dfd87" class="lightbox-link"><img alt="创建任务" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-54-08.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3893488d538885dd46bfab6a5f2dfd87"><img alt="创建任务" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-54-08.png"></a></p>
<ul>
<li>添加<code>Ansible</code>构建</li>
</ul>
<blockquote>
<p><a href="#R-image-a96ff6974ce1b77c084c2b730f78fa12" class="lightbox-link"><img alt="添加构建Ansible" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-56-00.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a96ff6974ce1b77c084c2b730f78fa12"><img alt="添加构建Ansible" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_21-56-00.png"></a></p>
</blockquote>
<ul>
<li>配置<code>Ansible</code>构建</li>
</ul>
<blockquote>
<p><a href="#R-image-29838cd7f1503b2800d597f88445f2a4" class="lightbox-link"><img alt="配置Jenkins的ansible" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-09-30.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-29838cd7f1503b2800d597f88445f2a4"><img alt="配置Jenkins的ansible" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-09-30.png"></a></p>
</blockquote>
<ul>
<li>测试<code>Ansible</code>构建</li>
</ul>
<blockquote>
<p><a href="#R-image-728e729087deb8ee0346e11b49f2f3f5" class="lightbox-link"><img alt="测试Ansible构建" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-13-24.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-728e729087deb8ee0346e11b49f2f3f5"><img alt="测试Ansible构建" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_22-13-24.png"></a></p>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h3 id="jenkins部署插件"><code>Jenkins</code>部署插件</h3>
<blockquote>
<ul>
<li><a href="https://plugins.jenkins.io/" rel="external" target="_self">部署插件</a></li>
<li><code>General</code><!-- raw HTML omitted -->→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/gogs-webhook/" rel="external" target="_self"><code>Gogs</code></a></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->允许用户使用<!-- raw HTML omitted --><code>Gogs Webhook</code></li>
</ul>
<p><a href="#R-image-54b00bcd48cf9ecaddf67d66061b3f08" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-04-17.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-54b00bcd48cf9ecaddf67d66061b3f08"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-04-17.png"></a></p>
</blockquote>
<ul>
<li><code>General</code><!-- raw HTML omitted -->→<!-- raw HTML omitted --><code>This project is parameterized</code><!-- raw HTML omitted -->(参数化构建过程)→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/git-parameter/" rel="external" target="_self"><code>Git Parameter</code></a></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->该插件允许您在构建中分配<!-- raw HTML omitted --><code>Git</code><!-- raw HTML omitted -->分支、标签、拉取请求或修订号作为参数<!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-f11a4fe6019b28a4ce2e7489db785c5b" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-09-44.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f11a4fe6019b28a4ce2e7489db785c5b"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-09-44.png"></a></p>
</blockquote>
<ul>
<li><code>Build Triggers</code><!-- raw HTML omitted -->(构建触发器)→安装<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/gitlab-plugin/" rel="external" target="_self"><code>GitLab Plugin</code></a><!-- raw HTML omitted -->或<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/generic-webhook-trigger/" rel="external" target="_self"><code>Generic Webhook Trigger</code></a><!-- raw HTML omitted -->自动部署插件<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->此插件允许<!-- raw HTML omitted --><code>GitLab</code><!-- raw HTML omitted -->在提交代码或打开/更新合并请求时触发<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->中的构建。它还可以将构建状态发送回<!-- raw HTML omitted --><code>GitLab</code></li>
</ul>
<p><a href="#R-image-d906caf4046816c98948e129072ee275" class="lightbox-link"><img alt="GitLab webhook Plugin" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-25_15-36-23.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d906caf4046816c98948e129072ee275"><img alt="GitLab webhook Plugin" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-25_15-36-23.png"></a></p>
</blockquote>
<ul>
<li><code>Build Environment</code><!-- raw HTML omitted -->(构建环境)→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/ansicolor/" rel="external" target="_self"><code>AnsiColor</code></a></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->这个插件增加了对标准<!-- raw HTML omitted --><code>ANSI</code><!-- raw HTML omitted -->转义序列的支持，包括颜色，到控制台输出。 该插件可<!-- raw HTML omitted --><a href="http://repo.jenkins-ci.org/releases/org/jenkins-ci/plugins/ansicolor/" rel="external" target="_self">在此处</a><!-- raw HTML omitted -->获得，并且在<!-- raw HTML omitted --><code>Jenkins Wiki</code><!-- raw HTML omitted -->上有<!-- raw HTML omitted --><a href="https://wiki.jenkins-ci.org/display/JENKINS/AnsiColor+Plugin" rel="external" target="_self">一个页面</a></li>
</ul>
<p><a href="#R-image-d79ce131beb62c0ba0c8fcf3a3e080cf" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-16-21.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d79ce131beb62c0ba0c8fcf3a3e080cf"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-16-21.png"></a></p>
</blockquote>
<ul>
<li><code>Build Environment</code><!-- raw HTML omitted -->(构建环境)→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/build-user-vars-plugin/" rel="external" target="_self"><code>Set jenkins user build variables</code></a></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->描述启动构建的用户的一组<strong>环境变量</strong><!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-3a56f8034caf559dab374081754c7dbb" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-24-17.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3a56f8034caf559dab374081754c7dbb"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-24-17.png"></a></p>
</blockquote>
<ul>
<li><code>Post-build Actions</code><!-- raw HTML omitted -->(构建后操作)→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/postbuild-task/" rel="external" target="_self"><code>Post build task</code></a></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->此功能允许用户关联<!-- raw HTML omitted --><code>shell</code><!-- raw HTML omitted -->或批处理脚本，这些脚本根据构建日志输出在<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->上执行某些任务。如果日志文本在构建日志文件中的某个位置匹配，则脚本将执行并且构建后日志将附加到项目构建日志中。允许使用<!-- raw HTML omitted --><code>Java</code><!-- raw HTML omitted -->正则表达式<!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-584dc72815d615f1885086e40ae7076b" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-46-20.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-584dc72815d615f1885086e40ae7076b"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_14-46-20.png"></a></p>
</blockquote>
</blockquote>
<hr>
<h3 id="jenkins回滚插件"><code>Jenkins</code>回滚插件</h3>
<blockquote>
<ul>
<li><code>General</code><!-- raw HTML omitted -->→<!-- raw HTML omitted --><code>This project is parameterized</code><!-- raw HTML omitted -->(参数化构建过程)→<!-- raw HTML omitted --><a href="https://plugins.jenkins.io/uno-choice/" rel="external" target="_self"><code>Active Choices</code></a></li>
</ul>
<blockquote>
<ul>
<li><code>Active Choices</code><!-- raw HTML omitted -->插件用于参数化的自由式<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->作业，以创建<strong>脚本化、动态和交互式作业参数</strong>。<!-- raw HTML omitted --><code>Active Choices</code><!-- raw HTML omitted --><strong>参数</strong>可以<strong>动态更新</strong>，并且可以<strong>呈现为组合框、复选框、单选按钮或丰富的<code>HTML UI</code>小部件</strong>。<!-- raw HTML omitted --><code>Active Choices</code>参数使用<code>Groovy</code>或（可选）<code>Scriptler Groovy</code>脚本编写脚本。这些自定义脚本支持使用<code>Jenkins Java API</code><!-- raw HTML omitted -->、系统环境变量、全局节点属性以及潜在的外部<code>Java</code>和<code>Javascript</code>库<!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-4a5003621e9952b267ca544d8049c48a" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_15-17-51.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4a5003621e9952b267ca544d8049c48a"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-10-17_15-17-51.png"></a></p>
</blockquote>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="install_jenkins">Install_Jenkins</h1>

<h2 id="jenkins安装"><code>Jenkins</code>安装</h2>
<blockquote>
<table>
<thead>
<tr>
<th>名称地址</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.jenkins.io/doc/book/installing/" rel="external" target="_self"><code>Jenkins</code>安装与升级</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://www.jenkins.io/doc/book/installing/linux/#red-hat-centos" rel="external" target="_self">官方文档</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->事先最好安装：<!-- raw HTML omitted --><code>jdk-8u221</code><!-- raw HTML omitted -->以上版本，最新版本需要<!-- raw HTML omitted --><code>Java 11</code><!-- raw HTML omitted -->并且配置好环境变量<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><a href="https://repo.huaweicloud.com/java/jdk/" rel="external" target="_self"><code>Huawei Java</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;######### JDK环境变量  #######
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">export JAVA_HOME=/usr/local/jdk
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">export JRE_HOME=</span>$JAVA_HOME<span style="color:#e6db74">/jre
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">export CLASSPATH=</span>$JAVA_HOME<span style="color:#e6db74">/lib:</span>$JAVA_HOME<span style="color:#e6db74">/lib/tools.jar
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">export PATH=</span>$PATH<span style="color:#e6db74">:</span>$JAVA_HOME<span style="color:#e6db74">/bin:</span>$JAVA_HOME<span style="color:#e6db74">/jre/bin &#34;</span>&gt;&gt;/etc/profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ source /etc/profile
</span></span><span style="display:flex;"><span>$ ln -s /usr/local/jdk/bin/java /usr/bin/java  	<span style="color:#75715e"># 需要添加软连接</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ yum -y install avahi-libs copy-jdk-configs cups-libs fontconfig giflib <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>javapackages-tools libICE libSM libX11 libX11-common <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>libXau libXext libXi libXrender libXtst libfontenc <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>libjpeg-turbo libxcb libxslt lksctp-tools pcsc-lite-libs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>python-javapackages python-lxml ttmkfdir tzdata-java <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>xorg-x11-font-utils xorg-x11-fonts-Type1</span></span></code></pre></div></blockquote>
<ul>
<li><code>yum</code><!-- raw HTML omitted -->方式部署<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<ul>
<li><a href="https://pkg.jenkins.io/" rel="external" target="_self"><code>Jenkins</code>历史版本</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ yum -y install jenkins</span></span></code></pre></div></blockquote>
<ul>
<li><code>rpm</code><!-- raw HTML omitted -->方式部署<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<ul>
<li><a href="https://pkg.jenkins.io/redhat-stable-rc/" rel="external" target="_self"><code>Jenkins</code>稳定版<code>rpm</code>安装包</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum install -y ca-certificates
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ wget https://pkg.jenkins.io/redhat/jenkins-2.219-1.1.noarch.rpm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ rpm -ivh jenkins-2.156-1.1.noarch.rpm</span></span></code></pre></div></blockquote>
<ul>
<li><code>war</code><!-- raw HTML omitted -->方式部署启动<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<ul>
<li><a href="https://get.jenkins.io/war-stable/" rel="external" target="_self"><code>Jenkins</code>历史<code>war</code>包</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ wget https://get.jenkins.io/war-stable/2.319.3/jenkins.war
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ java -jar jenkins.war --httpPort<span style="color:#f92672">=</span><span style="color:#ae81ff">8080</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->通过<!-- raw HTML omitted --><code>Docker</code><!-- raw HTML omitted -->部署<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.jenkins.io/doc/book/installing/docker/" rel="external" target="_self"><code>docker</code>部署<code>Jenkins</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker run -d --name jenkins <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p 18090:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-p 50000:50000 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /opt/jenkins/data:/var/jenkins_home <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v /var/run/docker.sock:/var/run/docker.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--user root <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>jenkins/jenkins:jdk11</span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->使用<!-- raw HTML omitted --><code>docker-compose</code><!-- raw HTML omitted -->构建启动<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/opt/docker-compose/jenkins/docker-compose.yaml<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">version: &#34;3&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">services:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  jenkins:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    hostname: &#39;jenkins&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    container_name: jenkins  # 启动后名称
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    image: &#39;jenkins/jenkins:jdk11&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    restart: always
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    environment:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      TZ: Asia/Shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ports:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &#39;18090:8080&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &#39;50000:50000&#39;  	# enkins-slave-agent服务端口
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    volumes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &#39;/opt/apps/jenkins:/var/jenkins_home&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &#39;/var/run/docker.sock:/var/run/docker.sock&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="修改jenkins配置">修改<code>Jenkins</code>配置</h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->修改启动脚本：在<!-- raw HTML omitted --><code>candidates=&quot; </code><!-- raw HTML omitted -->下添加<!-- raw HTML omitted --><code>jdk</code><!-- raw HTML omitted -->文件安装路径<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ vim /etc/init.d/jenkins  
</span></span><span style="display:flex;"><span>candidates<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;  	# 大概在 99 行左右
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/usr/local/jdk1.8.0_221/bin/java</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->修改<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->主配置文件<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ vim /etc/sysconfig/jenkins  
</span></span><span style="display:flex;"><span>JENKINS_USER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;root&#34;</span>  	<span style="color:#75715e"># 修改为root用户  </span>
</span></span><span style="display:flex;"><span>JENKINS_PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>  	<span style="color:#75715e"># 修改监听端口</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->修改<!-- raw HTML omitted --><code>/usr/lib/systemd/system/jenkins.service</code><!-- raw HTML omitted -->文件下用户权限<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ vim /usr/lib/systemd/system/jenkins.service
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>jenkins  	<span style="color:#75715e"># 修改为root</span>
</span></span><span style="display:flex;"><span>Group<span style="color:#f92672">=</span>jenkins  	<span style="color:#75715e"># 修改为root</span>
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;JENKINS_PORT=8080&#34;</span>  	<span style="color:#75715e"># 端口修改</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->修改<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->目录权限<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ chown -R root:root /var/lib/jenkins
</span></span><span style="display:flex;"><span>$ chown -R root:root /var/cache/jenkins
</span></span><span style="display:flex;"><span>$ chown -R root:root /var/log/jenkins</span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->启动<!-- raw HTML omitted --><code>Jenkins</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ systemctl enable jenkins <span style="color:#f92672">&amp;&amp;</span> systemctl start jenkins</span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->修改防火墙规则放行<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->服务端口<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ firewall-cmd --add-port<span style="color:#f92672">=</span>8080/tcp --permanent
</span></span><span style="display:flex;"><span>$ firewall-cmd --reload</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="浏览器登录jenkins">浏览器登录<code>Jenkins</code></h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted --><code>http://IP:8080</code><!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-23c04d2022478eb8c30caf1859b25b73" class="lightbox-link"><img alt="浏览器访问" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-14-06.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-23c04d2022478eb8c30caf1859b25b73"><img alt="浏览器访问" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-14-06.png"></a></p>
</blockquote>
<ul>
<li><code>docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword</code><!-- raw HTML omitted -->获取登录密码<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->登录后选择安装插件，默认即可<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-af0d4d9908eca3e2ae34d88db9a47adb" class="lightbox-link"><img alt="安装插件" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/doc_2022-07-19_18-16-07.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-af0d4d9908eca3e2ae34d88db9a47adb"><img alt="安装插件" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/doc_2022-07-19_18-16-07.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->跳过创建用户界面<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-06a3785b8d4fb16388199c0a32279c2d" class="lightbox-link"><img alt="跳过创建用户界面" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-22-54.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-06a3785b8d4fb16388199c0a32279c2d"><img alt="跳过创建用户界面" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-22-54.png"></a></p>
</blockquote>
<ul>
<li><code>URL</code><!-- raw HTML omitted -->配置界面选择：保存并完成<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-0ce2f458eefa2f1ab8a48aad58d7847a" class="lightbox-link"><img alt="URL配置" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-23-18.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0ce2f458eefa2f1ab8a48aad58d7847a"><img alt="URL配置" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-23-18.png"></a></p>
</blockquote>
<ul>
<li><!-- raw HTML omitted -->选择：开始使用<!-- raw HTML omitted --><code>Jenkins</code><!-- raw HTML omitted -->安装完成<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<p><a href="#R-image-fd0b2ac304a3b0039338fea6b45db7e6" class="lightbox-link"><img alt="开始使用Jenkins" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-23-32.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fd0b2ac304a3b0039338fea6b45db7e6"><img alt="开始使用Jenkins" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/Jenkins_Server/Snipaste_2022-07-19_18-23-32.png"></a></p>
</blockquote>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="../../../js/clipboard.min.js?1727790691" defer></script>
    <script src="../../../js/perfect-scrollbar.min.js?1727790691" defer></script>
    <script src="../../../js/theme.js?1727790691" defer></script>
  </body>
</html>

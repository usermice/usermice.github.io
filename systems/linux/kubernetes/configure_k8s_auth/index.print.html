<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶ kubernetesä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼é›†ç¾¤çš„ç®¡ç†å·¥å…·ï¼Œä¿è¯é›†ç¾¤çš„å®‰å…¨æ€§æ˜¯å…¶ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ã€‚æ‰€è°“çš„å®‰å…¨æ€§å…¶å®å°±æ˜¯ä¿è¯å¯¹kubernetesçš„å„ç§å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œ åœ¨kubernetesé›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯é€šå¸¸ç”±ä¸¤ç±»ï¼š User Accountï¼šä¸€èˆ¬æ˜¯ç‹¬ç«‹äºkubernetesä¹‹å¤–çš„å…¶ä»–æœåŠ¡ç®¡ç†çš„ç”¨æˆ·è´¦å· Service Accountï¼škubernetesç®¡ç†çš„è´¦å·ï¼Œç”¨äºä¸ºPodçš„æœåŠ¡è¿›ç¨‹åœ¨è®¿é—®kubernetesæ—¶æä¾›èº«ä»½æ ‡è¯† graph LR C1((ç”¨æˆ·)) --&gt; B1(User&lt;br&gt;Account) --&gt; A((Kubernetes)) C2((Pod)) --&gt; B2(Service&lt;br&gt;Account) --&gt; A((Kubernetes)) è®¤è¯ã€æˆæƒå’Œå‡†å…¥æ§åˆ¶ API Serveræ˜¯è®¿é—®å’Œç®¡ç†èµ„æºå¯¹è±¡çš„å”¯ä¸€å…¥å£ã€‚ä»»ä½•ä¸€ä¸ªè¯·æ±‚è®¿é—®API Serverï¼Œéƒ½è¦ç»è¿‡ä¸‹é¢çš„ä¸‰ä¸ªæµç¨‹ï¼š Authentication(è®¤è¯)ï¼šèº«ä»½é‰´åˆ«ï¼Œåªæœ‰æ­£ç¡®çš„è´¦å·æ‰èƒ½é€šè¿‡è®¤è¯ Authorization(æˆæƒ)ï¼šæƒé™é‰´åˆ«ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™å¯¹è®¿é—®çš„èµ„æºæ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œ Admission Control(å‡†å…¥æ§åˆ¶)ï¼šç²¾ç»†è®¿é—®æ§åˆ¶ï¼Œç”¨äºè¡¥å……æˆæƒæœºåˆ¶ä»¥å®ç°æ›´åŠ ç²¾ç»†çš„è®¿é—®æ§åˆ¶åŠŸèƒ½ éœ€è¦æ³¨æ„ï¼šåœ¨Kubernetesä¸­ä¸èƒ½é€šè¿‡APIè°ƒç”¨å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ°é›†ç¾¤ä¸­ æ™®é€šè´¦æˆ·æ˜¯é’ˆå¯¹ï¼ˆäººï¼‰ç”¨æˆ·çš„ï¼ŒæœåŠ¡è´¦æˆ·é’ˆå¯¹Podsè¿›ç¨‹ æ™®é€šè´¦æˆ·æ˜¯å…¨å±€æ€§ï¼Œåœ¨é›†ç¾¤æ‰€æœ‰namespacesä¸­ï¼Œåç§°å…·æœ‰å”¯ä¸€æ€§ é€šå¸¸ï¼Œé›†ç¾¤çš„æ™®é€šè´¦æˆ·å¯ä»¥ä¸ä¼ä¸šæ•°æ®åº“åŒæ­¥ï¼Œæ–°çš„æ™®é€šè´¦æˆ·åˆ›å»ºéœ€è¦ç‰¹æ®Šæƒé™ï¼ŒæœåŠ¡è´¦æˆ·åˆ›å»ºç›®çš„æ˜¯æ›´è½»é‡åŒ–ï¼Œå…è®¸é›†ç¾¤ç”¨æˆ·ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºæœåŠ¡è´¦æˆ· æ™®é€šè´¦æˆ·å’ŒæœåŠ¡è´¦æˆ·çš„å®¡æ ¸æ³¨æ„äº‹é¡¹ä¸åŒ å¯¹äºå¤æ‚ç³»ç»Ÿçš„é…ç½®åŒ…ï¼Œå¯ä»¥åŒ…æ‹¬å¯¹è¯¥ç³»ç»Ÿçš„å„ç§ç»„ä»¶çš„æœåŠ¡è´¦æˆ·çš„å®šä¹‰ graph LR A((è¯·æ±‚)) --&gt; B[Authentication&lt;br&gt;è®¤è¯&lt;br&gt;èº«ä»½é‰´åˆ«&lt;br&gt;] --&gt; C[Authorization&lt;br&gt;æˆæƒ&lt;br&gt;æƒé™é‰´åˆ«&lt;br&gt;] --&gt; D[Admission Control&lt;br&gt;æ³¨å…¥æ§åˆ¶&lt;br&gt;ç²¾ç»†è®¿é—®æ§åˆ¶&lt;br&gt;] --&gt; E((Kubernetes&lt;br&gt;èµ„æº)) è®¤è¯ç®¡ç† User Accounts(æ™®é€šè´¦æˆ·) Service Accounts(æœåŠ¡è´¦æˆ·) apiVersion: v1 kind: ServiceAccount # æƒé™ç®¡ç† metadata: name: nfs-client-provisioner namespace: default kubernetesçš„å®¢æˆ·ç«¯httpå’Œhttpsèº«ä»½è®¤è¯æ–¹å¼ kuberneteså…è®¸åŒæ—¶é…ç½®å¤šç§è®¤è¯æ–¹å¼ï¼Œåªè¦å…¶ä¸­ä»»æ„ä¸€ç§æ–¹å¼è®¤è¯é€šè¿‡å³å¯ kubernetesé›†ç¾¤å®‰å…¨çš„å…³é”®ç‚¹åœ¨äºå¦‚ä½•è¯†åˆ«å¹¶è®¤è¯å®¢æˆ·ç«¯èº«ä»½ï¼Œå®ƒæä¾›äº†3ç§å®¢æˆ·ç«¯èº«ä»½è®¤è¯æ–¹å¼ 2.">
    <meta name="author" content="äºŒå“¥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Configure_K8s_Auth :: Hugo Relearn Theme">
    <meta name="twitter:description" content="å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶ kubernetesä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼é›†ç¾¤çš„ç®¡ç†å·¥å…·ï¼Œä¿è¯é›†ç¾¤çš„å®‰å…¨æ€§æ˜¯å…¶ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ã€‚æ‰€è°“çš„å®‰å…¨æ€§å…¶å®å°±æ˜¯ä¿è¯å¯¹kubernetesçš„å„ç§å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œ åœ¨kubernetesé›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯é€šå¸¸ç”±ä¸¤ç±»ï¼š User Accountï¼šä¸€èˆ¬æ˜¯ç‹¬ç«‹äºkubernetesä¹‹å¤–çš„å…¶ä»–æœåŠ¡ç®¡ç†çš„ç”¨æˆ·è´¦å· Service Accountï¼škubernetesç®¡ç†çš„è´¦å·ï¼Œç”¨äºä¸ºPodçš„æœåŠ¡è¿›ç¨‹åœ¨è®¿é—®kubernetesæ—¶æä¾›èº«ä»½æ ‡è¯† graph LR C1((ç”¨æˆ·)) --&gt; B1(User&lt;br&gt;Account) --&gt; A((Kubernetes)) C2((Pod)) --&gt; B2(Service&lt;br&gt;Account) --&gt; A((Kubernetes)) è®¤è¯ã€æˆæƒå’Œå‡†å…¥æ§åˆ¶ API Serveræ˜¯è®¿é—®å’Œç®¡ç†èµ„æºå¯¹è±¡çš„å”¯ä¸€å…¥å£ã€‚ä»»ä½•ä¸€ä¸ªè¯·æ±‚è®¿é—®API Serverï¼Œéƒ½è¦ç»è¿‡ä¸‹é¢çš„ä¸‰ä¸ªæµç¨‹ï¼š Authentication(è®¤è¯)ï¼šèº«ä»½é‰´åˆ«ï¼Œåªæœ‰æ­£ç¡®çš„è´¦å·æ‰èƒ½é€šè¿‡è®¤è¯ Authorization(æˆæƒ)ï¼šæƒé™é‰´åˆ«ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™å¯¹è®¿é—®çš„èµ„æºæ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œ Admission Control(å‡†å…¥æ§åˆ¶)ï¼šç²¾ç»†è®¿é—®æ§åˆ¶ï¼Œç”¨äºè¡¥å……æˆæƒæœºåˆ¶ä»¥å®ç°æ›´åŠ ç²¾ç»†çš„è®¿é—®æ§åˆ¶åŠŸèƒ½ éœ€è¦æ³¨æ„ï¼šåœ¨Kubernetesä¸­ä¸èƒ½é€šè¿‡APIè°ƒç”¨å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ°é›†ç¾¤ä¸­ æ™®é€šè´¦æˆ·æ˜¯é’ˆå¯¹ï¼ˆäººï¼‰ç”¨æˆ·çš„ï¼ŒæœåŠ¡è´¦æˆ·é’ˆå¯¹Podsè¿›ç¨‹ æ™®é€šè´¦æˆ·æ˜¯å…¨å±€æ€§ï¼Œåœ¨é›†ç¾¤æ‰€æœ‰namespacesä¸­ï¼Œåç§°å…·æœ‰å”¯ä¸€æ€§ é€šå¸¸ï¼Œé›†ç¾¤çš„æ™®é€šè´¦æˆ·å¯ä»¥ä¸ä¼ä¸šæ•°æ®åº“åŒæ­¥ï¼Œæ–°çš„æ™®é€šè´¦æˆ·åˆ›å»ºéœ€è¦ç‰¹æ®Šæƒé™ï¼ŒæœåŠ¡è´¦æˆ·åˆ›å»ºç›®çš„æ˜¯æ›´è½»é‡åŒ–ï¼Œå…è®¸é›†ç¾¤ç”¨æˆ·ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºæœåŠ¡è´¦æˆ· æ™®é€šè´¦æˆ·å’ŒæœåŠ¡è´¦æˆ·çš„å®¡æ ¸æ³¨æ„äº‹é¡¹ä¸åŒ å¯¹äºå¤æ‚ç³»ç»Ÿçš„é…ç½®åŒ…ï¼Œå¯ä»¥åŒ…æ‹¬å¯¹è¯¥ç³»ç»Ÿçš„å„ç§ç»„ä»¶çš„æœåŠ¡è´¦æˆ·çš„å®šä¹‰ graph LR A((è¯·æ±‚)) --&gt; B[Authentication&lt;br&gt;è®¤è¯&lt;br&gt;èº«ä»½é‰´åˆ«&lt;br&gt;] --&gt; C[Authorization&lt;br&gt;æˆæƒ&lt;br&gt;æƒé™é‰´åˆ«&lt;br&gt;] --&gt; D[Admission Control&lt;br&gt;æ³¨å…¥æ§åˆ¶&lt;br&gt;ç²¾ç»†è®¿é—®æ§åˆ¶&lt;br&gt;] --&gt; E((Kubernetes&lt;br&gt;èµ„æº)) è®¤è¯ç®¡ç† User Accounts(æ™®é€šè´¦æˆ·) Service Accounts(æœåŠ¡è´¦æˆ·) apiVersion: v1 kind: ServiceAccount # æƒé™ç®¡ç† metadata: name: nfs-client-provisioner namespace: default kubernetesçš„å®¢æˆ·ç«¯httpå’Œhttpsèº«ä»½è®¤è¯æ–¹å¼ kuberneteså…è®¸åŒæ—¶é…ç½®å¤šç§è®¤è¯æ–¹å¼ï¼Œåªè¦å…¶ä¸­ä»»æ„ä¸€ç§æ–¹å¼è®¤è¯é€šè¿‡å³å¯ kubernetesé›†ç¾¤å®‰å…¨çš„å…³é”®ç‚¹åœ¨äºå¦‚ä½•è¯†åˆ«å¹¶è®¤è¯å®¢æˆ·ç«¯èº«ä»½ï¼Œå®ƒæä¾›äº†3ç§å®¢æˆ·ç«¯èº«ä»½è®¤è¯æ–¹å¼ 2.">
    <meta property="og:url" content="https://erge.blog/systems/linux/kubernetes/configure_k8s_auth/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Configure_K8s_Auth :: Hugo Relearn Theme">
    <meta property="og:description" content="å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶ kubernetesä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼é›†ç¾¤çš„ç®¡ç†å·¥å…·ï¼Œä¿è¯é›†ç¾¤çš„å®‰å…¨æ€§æ˜¯å…¶ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ã€‚æ‰€è°“çš„å®‰å…¨æ€§å…¶å®å°±æ˜¯ä¿è¯å¯¹kubernetesçš„å„ç§å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œ åœ¨kubernetesé›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯é€šå¸¸ç”±ä¸¤ç±»ï¼š User Accountï¼šä¸€èˆ¬æ˜¯ç‹¬ç«‹äºkubernetesä¹‹å¤–çš„å…¶ä»–æœåŠ¡ç®¡ç†çš„ç”¨æˆ·è´¦å· Service Accountï¼škubernetesç®¡ç†çš„è´¦å·ï¼Œç”¨äºä¸ºPodçš„æœåŠ¡è¿›ç¨‹åœ¨è®¿é—®kubernetesæ—¶æä¾›èº«ä»½æ ‡è¯† graph LR C1((ç”¨æˆ·)) --&gt; B1(User&lt;br&gt;Account) --&gt; A((Kubernetes)) C2((Pod)) --&gt; B2(Service&lt;br&gt;Account) --&gt; A((Kubernetes)) è®¤è¯ã€æˆæƒå’Œå‡†å…¥æ§åˆ¶ API Serveræ˜¯è®¿é—®å’Œç®¡ç†èµ„æºå¯¹è±¡çš„å”¯ä¸€å…¥å£ã€‚ä»»ä½•ä¸€ä¸ªè¯·æ±‚è®¿é—®API Serverï¼Œéƒ½è¦ç»è¿‡ä¸‹é¢çš„ä¸‰ä¸ªæµç¨‹ï¼š Authentication(è®¤è¯)ï¼šèº«ä»½é‰´åˆ«ï¼Œåªæœ‰æ­£ç¡®çš„è´¦å·æ‰èƒ½é€šè¿‡è®¤è¯ Authorization(æˆæƒ)ï¼šæƒé™é‰´åˆ«ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™å¯¹è®¿é—®çš„èµ„æºæ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œ Admission Control(å‡†å…¥æ§åˆ¶)ï¼šç²¾ç»†è®¿é—®æ§åˆ¶ï¼Œç”¨äºè¡¥å……æˆæƒæœºåˆ¶ä»¥å®ç°æ›´åŠ ç²¾ç»†çš„è®¿é—®æ§åˆ¶åŠŸèƒ½ éœ€è¦æ³¨æ„ï¼šåœ¨Kubernetesä¸­ä¸èƒ½é€šè¿‡APIè°ƒç”¨å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ°é›†ç¾¤ä¸­ æ™®é€šè´¦æˆ·æ˜¯é’ˆå¯¹ï¼ˆäººï¼‰ç”¨æˆ·çš„ï¼ŒæœåŠ¡è´¦æˆ·é’ˆå¯¹Podsè¿›ç¨‹ æ™®é€šè´¦æˆ·æ˜¯å…¨å±€æ€§ï¼Œåœ¨é›†ç¾¤æ‰€æœ‰namespacesä¸­ï¼Œåç§°å…·æœ‰å”¯ä¸€æ€§ é€šå¸¸ï¼Œé›†ç¾¤çš„æ™®é€šè´¦æˆ·å¯ä»¥ä¸ä¼ä¸šæ•°æ®åº“åŒæ­¥ï¼Œæ–°çš„æ™®é€šè´¦æˆ·åˆ›å»ºéœ€è¦ç‰¹æ®Šæƒé™ï¼ŒæœåŠ¡è´¦æˆ·åˆ›å»ºç›®çš„æ˜¯æ›´è½»é‡åŒ–ï¼Œå…è®¸é›†ç¾¤ç”¨æˆ·ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºæœåŠ¡è´¦æˆ· æ™®é€šè´¦æˆ·å’ŒæœåŠ¡è´¦æˆ·çš„å®¡æ ¸æ³¨æ„äº‹é¡¹ä¸åŒ å¯¹äºå¤æ‚ç³»ç»Ÿçš„é…ç½®åŒ…ï¼Œå¯ä»¥åŒ…æ‹¬å¯¹è¯¥ç³»ç»Ÿçš„å„ç§ç»„ä»¶çš„æœåŠ¡è´¦æˆ·çš„å®šä¹‰ graph LR A((è¯·æ±‚)) --&gt; B[Authentication&lt;br&gt;è®¤è¯&lt;br&gt;èº«ä»½é‰´åˆ«&lt;br&gt;] --&gt; C[Authorization&lt;br&gt;æˆæƒ&lt;br&gt;æƒé™é‰´åˆ«&lt;br&gt;] --&gt; D[Admission Control&lt;br&gt;æ³¨å…¥æ§åˆ¶&lt;br&gt;ç²¾ç»†è®¿é—®æ§åˆ¶&lt;br&gt;] --&gt; E((Kubernetes&lt;br&gt;èµ„æº)) è®¤è¯ç®¡ç† User Accounts(æ™®é€šè´¦æˆ·) Service Accounts(æœåŠ¡è´¦æˆ·) apiVersion: v1 kind: ServiceAccount # æƒé™ç®¡ç† metadata: name: nfs-client-provisioner namespace: default kubernetesçš„å®¢æˆ·ç«¯httpå’Œhttpsèº«ä»½è®¤è¯æ–¹å¼ kuberneteså…è®¸åŒæ—¶é…ç½®å¤šç§è®¤è¯æ–¹å¼ï¼Œåªè¦å…¶ä¸­ä»»æ„ä¸€ç§æ–¹å¼è®¤è¯é€šè¿‡å³å¯ kubernetesé›†ç¾¤å®‰å…¨çš„å…³é”®ç‚¹åœ¨äºå¦‚ä½•è¯†åˆ«å¹¶è®¤è¯å®¢æˆ·ç«¯èº«ä»½ï¼Œå®ƒæä¾›äº†3ç§å®¢æˆ·ç«¯èº«ä»½è®¤è¯æ–¹å¼ 2.">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Systems">
    <meta property="article:published_time" content="2024-06-25T01:12:49+08:00">
    <meta property="article:modified_time" content="2024-06-25T01:12:49+08:00">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Configure_K8s_Auth :: Hugo Relearn Theme">
    <meta itemprop="description" content="å®‰å…¨æ§åˆ¶ è®¿é—®æ§åˆ¶ kubernetesä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼é›†ç¾¤çš„ç®¡ç†å·¥å…·ï¼Œä¿è¯é›†ç¾¤çš„å®‰å…¨æ€§æ˜¯å…¶ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ã€‚æ‰€è°“çš„å®‰å…¨æ€§å…¶å®å°±æ˜¯ä¿è¯å¯¹kubernetesçš„å„ç§å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œ åœ¨kubernetesé›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯é€šå¸¸ç”±ä¸¤ç±»ï¼š User Accountï¼šä¸€èˆ¬æ˜¯ç‹¬ç«‹äºkubernetesä¹‹å¤–çš„å…¶ä»–æœåŠ¡ç®¡ç†çš„ç”¨æˆ·è´¦å· Service Accountï¼škubernetesç®¡ç†çš„è´¦å·ï¼Œç”¨äºä¸ºPodçš„æœåŠ¡è¿›ç¨‹åœ¨è®¿é—®kubernetesæ—¶æä¾›èº«ä»½æ ‡è¯† graph LR C1((ç”¨æˆ·)) --&gt; B1(User&lt;br&gt;Account) --&gt; A((Kubernetes)) C2((Pod)) --&gt; B2(Service&lt;br&gt;Account) --&gt; A((Kubernetes)) è®¤è¯ã€æˆæƒå’Œå‡†å…¥æ§åˆ¶ API Serveræ˜¯è®¿é—®å’Œç®¡ç†èµ„æºå¯¹è±¡çš„å”¯ä¸€å…¥å£ã€‚ä»»ä½•ä¸€ä¸ªè¯·æ±‚è®¿é—®API Serverï¼Œéƒ½è¦ç»è¿‡ä¸‹é¢çš„ä¸‰ä¸ªæµç¨‹ï¼š Authentication(è®¤è¯)ï¼šèº«ä»½é‰´åˆ«ï¼Œåªæœ‰æ­£ç¡®çš„è´¦å·æ‰èƒ½é€šè¿‡è®¤è¯ Authorization(æˆæƒ)ï¼šæƒé™é‰´åˆ«ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™å¯¹è®¿é—®çš„èµ„æºæ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œ Admission Control(å‡†å…¥æ§åˆ¶)ï¼šç²¾ç»†è®¿é—®æ§åˆ¶ï¼Œç”¨äºè¡¥å……æˆæƒæœºåˆ¶ä»¥å®ç°æ›´åŠ ç²¾ç»†çš„è®¿é—®æ§åˆ¶åŠŸèƒ½ éœ€è¦æ³¨æ„ï¼šåœ¨Kubernetesä¸­ä¸èƒ½é€šè¿‡APIè°ƒç”¨å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ°é›†ç¾¤ä¸­ æ™®é€šè´¦æˆ·æ˜¯é’ˆå¯¹ï¼ˆäººï¼‰ç”¨æˆ·çš„ï¼ŒæœåŠ¡è´¦æˆ·é’ˆå¯¹Podsè¿›ç¨‹ æ™®é€šè´¦æˆ·æ˜¯å…¨å±€æ€§ï¼Œåœ¨é›†ç¾¤æ‰€æœ‰namespacesä¸­ï¼Œåç§°å…·æœ‰å”¯ä¸€æ€§ é€šå¸¸ï¼Œé›†ç¾¤çš„æ™®é€šè´¦æˆ·å¯ä»¥ä¸ä¼ä¸šæ•°æ®åº“åŒæ­¥ï¼Œæ–°çš„æ™®é€šè´¦æˆ·åˆ›å»ºéœ€è¦ç‰¹æ®Šæƒé™ï¼ŒæœåŠ¡è´¦æˆ·åˆ›å»ºç›®çš„æ˜¯æ›´è½»é‡åŒ–ï¼Œå…è®¸é›†ç¾¤ç”¨æˆ·ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºæœåŠ¡è´¦æˆ· æ™®é€šè´¦æˆ·å’ŒæœåŠ¡è´¦æˆ·çš„å®¡æ ¸æ³¨æ„äº‹é¡¹ä¸åŒ å¯¹äºå¤æ‚ç³»ç»Ÿçš„é…ç½®åŒ…ï¼Œå¯ä»¥åŒ…æ‹¬å¯¹è¯¥ç³»ç»Ÿçš„å„ç§ç»„ä»¶çš„æœåŠ¡è´¦æˆ·çš„å®šä¹‰ graph LR A((è¯·æ±‚)) --&gt; B[Authentication&lt;br&gt;è®¤è¯&lt;br&gt;èº«ä»½é‰´åˆ«&lt;br&gt;] --&gt; C[Authorization&lt;br&gt;æˆæƒ&lt;br&gt;æƒé™é‰´åˆ«&lt;br&gt;] --&gt; D[Admission Control&lt;br&gt;æ³¨å…¥æ§åˆ¶&lt;br&gt;ç²¾ç»†è®¿é—®æ§åˆ¶&lt;br&gt;] --&gt; E((Kubernetes&lt;br&gt;èµ„æº)) è®¤è¯ç®¡ç† User Accounts(æ™®é€šè´¦æˆ·) Service Accounts(æœåŠ¡è´¦æˆ·) apiVersion: v1 kind: ServiceAccount # æƒé™ç®¡ç† metadata: name: nfs-client-provisioner namespace: default kubernetesçš„å®¢æˆ·ç«¯httpå’Œhttpsèº«ä»½è®¤è¯æ–¹å¼ kuberneteså…è®¸åŒæ—¶é…ç½®å¤šç§è®¤è¯æ–¹å¼ï¼Œåªè¦å…¶ä¸­ä»»æ„ä¸€ç§æ–¹å¼è®¤è¯é€šè¿‡å³å¯ kubernetesé›†ç¾¤å®‰å…¨çš„å…³é”®ç‚¹åœ¨äºå¦‚ä½•è¯†åˆ«å¹¶è®¤è¯å®¢æˆ·ç«¯èº«ä»½ï¼Œå®ƒæä¾›äº†3ç§å®¢æˆ·ç«¯èº«ä»½è®¤è¯æ–¹å¼ 2.">
    <meta itemprop="datePublished" content="2024-06-25T01:12:49+08:00">
    <meta itemprop="dateModified" content="2024-06-25T01:12:49+08:00">
    <meta itemprop="wordCount" content="538">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Configure_K8s_Auth :: Hugo Relearn Theme</title>
    <link href="../../../../images/favicon.ico?1721405970" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../../css/fontawesome-all.min.css?1721405971" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fontawesome-all.min.css?1721405971" rel="stylesheet"></noscript>
    <link href="../../../../css/nucleus.css?1721405971" rel="stylesheet">
    <link href="../../../../css/auto-complete.css?1721405971" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/auto-complete.css?1721405971" rel="stylesheet"></noscript>
    <link href="../../../../css/perfect-scrollbar.min.css?1721405971" rel="stylesheet">
    <link href="../../../../css/fonts.css?1721405971" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fonts.css?1721405971" rel="stylesheet"></noscript>
    <link href="../../../../css/theme.css?1721405971" rel="stylesheet">
    <link href="../../../../css/theme-relearn-auto.css?1721405971" rel="stylesheet" id="R-variant-style">
    <link href="../../../../css/chroma-relearn-auto.css?1721405971" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../../css/variant.css?1721405971" rel="stylesheet">
    <link href="../../../../css/print.css?1721405971" rel="stylesheet" media="print">
    <link href="../../../../css/format-print.css?1721405971" rel="stylesheet">
    <script src="../../../../js/variant.js?1721405971"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../../systems/linux/kubernetes/configure_k8s_auth/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/kubernetes/"><span itemprop="name">Kubernetes</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Configure_K8s_Auth</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/kubernetes/configure_k8s_helm/" title="Configure_K8s_Helm (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/ldap/" title="LDAP (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="configure_k8s_auth">Configure_K8s_Auth</h1>

<h2 id="å®‰å…¨æ§åˆ¶">å®‰å…¨æ§åˆ¶</h2>
<h3 id="è®¿é—®æ§åˆ¶">è®¿é—®æ§åˆ¶</h3>
<ul>
<li>
<ol>
<li><code>kubernetes</code>ä½œä¸ºä¸€ä¸ªåˆ†å¸ƒå¼é›†ç¾¤çš„ç®¡ç†å·¥å…·ï¼Œä¿è¯é›†ç¾¤çš„å®‰å…¨æ€§æ˜¯å…¶ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ã€‚æ‰€è°“çš„å®‰å…¨æ€§å…¶å®å°±æ˜¯ä¿è¯å¯¹<code>kubernetes</code>çš„å„ç§å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯å’Œæˆæƒæ“ä½œ</li>
</ol>
</li>
<li>
<ol start="2">
<li>åœ¨<code>kubernetes</code>é›†ç¾¤ä¸­ï¼Œå®¢æˆ·ç«¯é€šå¸¸ç”±ä¸¤ç±»ï¼š</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>User Account</code><!-- raw HTML omitted -->ï¼šä¸€èˆ¬æ˜¯ç‹¬ç«‹äº<!-- raw HTML omitted --><code>kubernetes</code><!-- raw HTML omitted -->ä¹‹å¤–çš„å…¶ä»–æœåŠ¡ç®¡ç†çš„ç”¨æˆ·è´¦å·<!-- raw HTML omitted --></li>
<li><code>Service Account</code>ï¼š<code>kubernetes</code><!-- raw HTML omitted -->ç®¡ç†çš„è´¦å·ï¼Œç”¨äºä¸º<!-- raw HTML omitted --><code>Pod</code><!-- raw HTML omitted -->çš„æœåŠ¡è¿›ç¨‹åœ¨è®¿é—®<!-- raw HTML omitted --><code>kubernetes</code><!-- raw HTML omitted -->æ—¶æä¾›èº«ä»½æ ‡è¯†<!-- raw HTML omitted --></li>
</ul>

<pre class="mermaid align-center zoomable">graph LR
C1((ç”¨æˆ·)) --&gt; B1(User&lt;br&gt;Account) --&gt; A((Kubernetes))
C2((Pod)) --&gt; B2(Service&lt;br&gt;Account) --&gt; A((Kubernetes))</pre></blockquote>
<hr>
<h3 id="è®¤è¯æˆæƒå’Œå‡†å…¥æ§åˆ¶">è®¤è¯ã€æˆæƒå’Œå‡†å…¥æ§åˆ¶</h3>
<ul>
<li>
<ol>
<li><code>API Server</code><!-- raw HTML omitted -->æ˜¯è®¿é—®å’Œç®¡ç†èµ„æºå¯¹è±¡çš„å”¯ä¸€å…¥å£ã€‚ä»»ä½•ä¸€ä¸ªè¯·æ±‚è®¿é—®<!-- raw HTML omitted --><code>API Server</code>ï¼Œ<!-- raw HTML omitted -->éƒ½è¦ç»è¿‡ä¸‹é¢çš„ä¸‰ä¸ªæµç¨‹ï¼š<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>Authentication</code>(è®¤è¯)<!-- raw HTML omitted -->ï¼šèº«ä»½é‰´åˆ«ï¼Œåªæœ‰æ­£ç¡®çš„è´¦å·æ‰èƒ½é€šè¿‡è®¤è¯<!-- raw HTML omitted --></li>
<li><code>Authorization</code>(æˆæƒ)<!-- raw HTML omitted -->ï¼šæƒé™é‰´åˆ«ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰æƒé™å¯¹è®¿é—®çš„èµ„æºæ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œ<!-- raw HTML omitted --></li>
<li><code>Admission Control</code>(å‡†å…¥æ§åˆ¶)<!-- raw HTML omitted -->ï¼šç²¾ç»†è®¿é—®æ§åˆ¶ï¼Œç”¨äºè¡¥å……æˆæƒæœºåˆ¶ä»¥å®ç°æ›´åŠ ç²¾ç»†çš„è®¿é—®æ§åˆ¶åŠŸèƒ½<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->éœ€è¦æ³¨æ„ï¼š<!-- raw HTML omitted -->åœ¨<code>Kubernetes</code>ä¸­ä¸èƒ½é€šè¿‡<code>API</code>è°ƒç”¨å°†æ™®é€šç”¨æˆ·æ·»åŠ åˆ°é›†ç¾¤ä¸­</li>
</ul>
<blockquote>
<ul>
<li>æ™®é€šè´¦æˆ·æ˜¯é’ˆå¯¹ï¼ˆäººï¼‰ç”¨æˆ·çš„ï¼ŒæœåŠ¡è´¦æˆ·é’ˆå¯¹<code>Pods</code>è¿›ç¨‹</li>
<li>æ™®é€šè´¦æˆ·æ˜¯å…¨å±€æ€§ï¼Œåœ¨é›†ç¾¤æ‰€æœ‰<code>namespaces</code>ä¸­ï¼Œåç§°å…·æœ‰å”¯ä¸€æ€§</li>
<li>é€šå¸¸ï¼Œé›†ç¾¤çš„æ™®é€šè´¦æˆ·å¯ä»¥ä¸ä¼ä¸šæ•°æ®åº“åŒæ­¥ï¼Œæ–°çš„æ™®é€šè´¦æˆ·åˆ›å»ºéœ€è¦ç‰¹æ®Šæƒé™ï¼ŒæœåŠ¡è´¦æˆ·åˆ›å»ºç›®çš„æ˜¯æ›´è½»é‡åŒ–ï¼Œå…è®¸é›†ç¾¤ç”¨æˆ·ä¸ºç‰¹å®šä»»åŠ¡åˆ›å»ºæœåŠ¡è´¦æˆ·</li>
<li>æ™®é€šè´¦æˆ·å’ŒæœåŠ¡è´¦æˆ·çš„å®¡æ ¸æ³¨æ„äº‹é¡¹ä¸åŒ</li>
<li>å¯¹äºå¤æ‚ç³»ç»Ÿçš„é…ç½®åŒ…ï¼Œå¯ä»¥åŒ…æ‹¬å¯¹è¯¥ç³»ç»Ÿçš„å„ç§ç»„ä»¶çš„æœåŠ¡è´¦æˆ·çš„å®šä¹‰</li>
</ul>
</blockquote>

<pre class="mermaid align-center zoomable">graph LR
A((è¯·æ±‚)) --&gt; B[Authentication&lt;br&gt;è®¤è¯&lt;br&gt;èº«ä»½é‰´åˆ«&lt;br&gt;] --&gt; C[Authorization&lt;br&gt;æˆæƒ&lt;br&gt;æƒé™é‰´åˆ«&lt;br&gt;] --&gt; D[Admission Control&lt;br&gt;æ³¨å…¥æ§åˆ¶&lt;br&gt;ç²¾ç»†è®¿é—®æ§åˆ¶&lt;br&gt;] --&gt; E((Kubernetes&lt;br&gt;èµ„æº))</pre></blockquote>
<hr>
<h4 id="è®¤è¯ç®¡ç†">è®¤è¯ç®¡ç†</h4>
<h5 id="user-accountsæ™®é€šè´¦æˆ·"><code>User Accounts</code>(æ™®é€šè´¦æˆ·)</h5>
<hr>
<h5 id="service-accountsæœåŠ¡è´¦æˆ·"><code>Service Accounts</code>(æœåŠ¡è´¦æˆ·)</h5>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ServiceAccount   </span> <span style="color:#75715e"># æƒé™ç®¡ç†</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">nfs-client-provisioner</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">default</span></span></span></code></pre></div></blockquote>
<hr>
<h5 id="kubernetesfont-colorredçš„å®¢æˆ·ç«¯fonthttpfont-colorredå’Œfonthttpsfont-colorredèº«ä»½è®¤è¯æ–¹å¼font"><code>kubernetes</code><!-- raw HTML omitted -->çš„å®¢æˆ·ç«¯<!-- raw HTML omitted --><code>http</code><!-- raw HTML omitted -->å’Œ<!-- raw HTML omitted --><code>https</code><!-- raw HTML omitted -->èº«ä»½è®¤è¯æ–¹å¼<!-- raw HTML omitted --></h5>
<ul>
<li>
<ol>
<li><code>kubernetes</code><!-- raw HTML omitted -->å…è®¸åŒæ—¶é…ç½®å¤šç§è®¤è¯æ–¹å¼ï¼Œ<!-- raw HTML omitted -->åªè¦å…¶ä¸­ä»»æ„ä¸€ç§æ–¹å¼è®¤è¯é€šè¿‡å³å¯</li>
</ol>
</li>
<li>
<ol start="2">
<li><code>kubernetes</code>é›†ç¾¤å®‰å…¨çš„å…³é”®ç‚¹åœ¨äºå¦‚ä½•è¯†åˆ«å¹¶è®¤è¯å®¢æˆ·ç«¯èº«ä»½ï¼Œå®ƒæä¾›äº†<code>3</code>ç§å®¢æˆ·ç«¯èº«ä»½è®¤è¯æ–¹å¼</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li>2.1 <code>HTTP Base</code><!-- raw HTML omitted -->è®¤è¯ï¼š<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->é€šè¿‡ç”¨æˆ·å+å¯†ç çš„æ–¹å¼è¿›è¡Œè®¤è¯ï¼Œ<!-- raw HTML omitted -->è¿™ç§æ–¹å¼æ˜¯æŠŠ<code>ç”¨æˆ·å:å¯†ç </code>ç”¨<code>BASE64</code>ç®—æ³•è¿›è¡Œç¼–ç åçš„å­—ç¬¦ä¸²æ”¾åœ¨<code>HTTP</code>è¯·æ±‚ä¸­çš„<code>Header</code>çš„<code>Authorization</code>åŸŸé‡Œé¢å‘é€ç»™æœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯æ”¶åˆ°åè¿›è¡Œè§£ç ï¼Œè·å–ç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶åè¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯çš„è¿‡ç¨‹</li>
</ul>
</blockquote>
<ul>
<li>2.2 <code>HTTP Token</code><!-- raw HTML omitted -->è®¤è¯ï¼š<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->é€šè¿‡ä¸€ä¸ª<code>Token</code>æ¥è¯†åˆ«åˆæ³•ç”¨æˆ·ï¼Œ<!-- raw HTML omitted -->è¿™ç§è®¤è¯æ–¹å¼æ˜¯ç”¨ä¸€ä¸ªå¾ˆé•¿çš„éš¾ä»¥è¢«æ¨¡ä»¿çš„å­—ç¬¦ä¸²<code>--Token</code>æ¥è¡¨æ˜å®¢æˆ·ç«¯èº«ä»½çš„ä¸€ç§æ–¹å¼ã€‚æ¯ä¸ª<code>Token</code>å¯¹åº”ä¸€ä¸ªç”¨æˆ·åï¼Œå½“å®¢æˆ·ç«¯å‘èµ·<code>API</code>è°ƒç”¨è¯·æ±‚çš„æ—¶å€™ï¼Œéœ€è¦åœ¨<code>HTTP</code>çš„<code>Header</code>ä¸­æ”¾å…¥<code>Token</code>ï¼Œ<code>API Server</code>æ¥å—åˆ°<code>Token</code>åä¼šå’ŒæœåŠ¡å™¨ä¸­ä¿å­˜çš„<code>Token</code>è¿›è¡Œæ¯”å¯¹ï¼Œç„¶åè¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯çš„è¿‡ç¨‹ã€‚</li>
</ul>
</blockquote>
<ul>
<li>2.3 <code>HTTPS</code><!-- raw HTML omitted -->è¯ä¹¦è®¤è¯ï¼š <!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->åŸºäº<code>CA</code>æ ¹è¯ä¹¦ç­¾åçš„åŒå‘æ•°å­—è¯ä¹¦è®¤è¯æ–¹å¼ï¼Œ<!-- raw HTML omitted -->è¿™ç§è®¤è¯æ–¹å¼æ˜¯å®‰å…¨æ€§æœ€é«˜çš„ä¸€ç§æ–¹å¼ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿæ˜¯æ“ä½œèµ·æ¥æœ€éº»çƒ¦çš„ä¸€ç§æ–¹å¼</li>
<li><!-- raw HTML omitted -->è¯ä¹¦ç”³è¯·å’Œä¸‹å‘ï¼š<!-- raw HTML omitted --><code>HTTPS</code>é€šä¿¡åŒæ–¹çš„æœåŠ¡å™¨å‘<code>CA</code>æœºæ„ç”³è¯·è¯ä¹¦ï¼Œ<code>CA</code>æœºæ„å‘æ ¹è¯ä¹¦ã€æœåŠ¡ç«¯è¯ä¹¦åŠç§é’¥ç»™ç”³è¯·è€…</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„åŒå‘è®¤è¯<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<blockquote>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ï¼Œ<!-- raw HTML omitted -->æœåŠ¡ç«¯ä¸‹å‘è‡ªå·±çš„è¯ä¹¦ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ”¶åˆ°è¯ä¹¦åï¼Œé€šè¿‡ç§é’¥è§£å¯†è¯ä¹¦ï¼Œåœ¨è¯ä¹¦ä¸­è·å–æœåŠ¡ç«¯çš„ç§é’¥ã€‚å®¢æˆ·ç«¯åˆ©ç”¨æœåŠ¡å™¨ç«¯çš„å…¬é’¥è®¤è¯è¯ä¹¦ä¸­çš„ä¿¡æ¯ï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™è®¤å¯è¿™ä¸ªæœåŠ¡å™¨ã€‚</li>
<li><!-- raw HTML omitted -->å®¢æˆ·ç«¯å‘é€è‡ªå·±çš„è¯ä¹¦ç»™æœåŠ¡å™¨ç«¯ï¼Œ<!-- raw HTML omitted -->æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯ä¹¦åï¼Œé€šè¿‡ç§é’¥è§£å¯†è¯ä¹¦ã€‚åœ¨è¯ä¹¦ä¸­è·å–å®¢æˆ·ç«¯çš„å…¬é’¥ï¼Œå¹¶ç”¨è¯¥å…¬é’¥è®¤è¯è¯ä¹¦ä¿¡æ¯ï¼Œç¡®è®¤å®¢æˆ·ç«¯æ˜¯å¦åˆæ³•ã€‚</li>
</ul>
</blockquote>
</blockquote>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<blockquote>
<blockquote>
<ul>
<li>æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯åå•†å¥½åŠ å¯†æ–¹æ¡ˆåï¼Œå®¢æˆ·ç«¯ä¼šäº§ç”Ÿä¸€ä¸ªéšæœºçš„ç§é’¥å¹¶åŠ å¯†ï¼Œç„¶åå‘é€åˆ°æœåŠ¡å™¨ç«¯</li>
<li>æœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°è¿™ä¸ªç§é’¥åï¼ŒåŒæ–¹æ¥ä¸‹æ¥é€šä¿¡çš„æ‰€æœ‰å†…å®¹éƒ½é€šè¿‡è¯¥éšæœºç§é’¥åŠ å¯†</li>
</ul>
</blockquote>
</blockquote>

<pre class="mermaid align-center zoomable">graph TB
A((CAæœºæ„)) -- ç”³è¯·è¯ä¹¦ --&gt;B((æœåŠ¡ç«¯))
A((CAæœºæ„)) -- ç”³è¯·è¯ä¹¦ --&gt; C((å®¢æˆ·ç«¯))
B((æœåŠ¡ç«¯)) -- ä¸‹å‘è¯ä¹¦ --&gt; A((CAæœºæ„))
C((å®¢æˆ·ç«¯)) -- ä¸‹å‘è¯ä¹¦ --&gt; A((CAæœºæ„))

B((æœåŠ¡ç«¯)) &lt;-- åŒå‘èº«ä»½è®¤è¯ --&gt; C((å®¢æˆ·ç«¯))
B((æœåŠ¡ç«¯)) &lt;-- åŒå‘é€šä¿¡ --&gt; C((å®¢æˆ·ç«¯))</pre></blockquote>
<hr>
<h4 id="æˆæƒç®¡ç†">æˆæƒç®¡ç†</h4>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->æˆæƒå‘ç”Ÿåœ¨è®¤è¯æˆåŠŸä¹‹åï¼Œ<!-- raw HTML omitted -->é€šè¿‡è®¤è¯å°±å¯ä»¥çŸ¥é“è¯·æ±‚ç”¨æˆ·æ˜¯è°ï¼Œç„¶å<code>kubernetes</code>ä¼šæ ¹æ®äº‹å…ˆå®šä¹‰çš„æˆæƒç­–ç•¥æ¥å†³å®šç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±ç§°ä¸ºæˆæƒ</li>
</ol>
</li>
<li>
<ol start="2">
<li>æ¯ä¸ªå‘é€åˆ°<code>API Server</code>çš„è¯·æ±‚éƒ½å¸¦ä¸Šäº†ç”¨æˆ·å’Œèµ„æºçš„ä¿¡æ¯ï¼šæ¯”å¦‚å‘é€è¯·æ±‚çš„ç”¨æˆ·ã€è¯·æ±‚çš„è·¯å¾„ã€è¯·æ±‚çš„åŠ¨ä½œç­‰ï¼Œæˆæƒå°±æ˜¯æ ¹æ®è¿™äº›ä¿¡æ¯å’Œæˆæƒç­–ç•¥è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç¬¦åˆç­–ç•¥ï¼Œåˆ™è®¤ä¸ºæˆæƒé€šè¿‡ï¼Œå¦åˆ™ä¼šè¿”å›é”™è¯¯ã€‚</li>
</ol>
</li>
<li>
<ol start="3">
<li><code>API Server</code>ç›®å‰æ”¯æŒçš„å‡ ç§æˆæƒç­–ç•¥</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>AlwaysDeny</code><!-- raw HTML omitted -->ï¼šè¡¨ç¤ºæ‹’ç»æ‰€æœ‰è¯·æ±‚ï¼Œä¸€èˆ¬ç”¨äºæµ‹è¯•<!-- raw HTML omitted --></li>
<li><code>AlwaysAllow</code><!-- raw HTML omitted -->ï¼šå…è®¸æ¥æ”¶æ‰€æœ‰çš„è¯·æ±‚ï¼Œç›¸å½“äºé›†ç¾¤ä¸éœ€è¦æˆæƒæµç¨‹ï¼ˆ<code>kubernetes</code>é»˜è®¤çš„ç­–ç•¥ï¼‰<!-- raw HTML omitted --></li>
<li><code>ABAC</code><!-- raw HTML omitted -->ï¼šåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼Œè¡¨ç¤ºä½¿ç”¨ç”¨æˆ·é…ç½®çš„æˆæƒè§„åˆ™å¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡ŒåŒ¹é…å’Œæ§åˆ¶<!-- raw HTML omitted --></li>
<li><code>Webhook</code><!-- raw HTML omitted -->ï¼šé€šè¿‡è°ƒç”¨å¤–éƒ¨<code>REST</code>æœåŠ¡å¯¹ç”¨æˆ·è¿›è¡Œæˆæƒ<!-- raw HTML omitted --></li>
<li><code>Node</code><!-- raw HTML omitted -->ï¼šæ˜¯ä¸€ç§ä¸“ç”¨æ¨¡å¼ï¼Œç”¨äºå¯¹<code>kubelet</code>å‘å‡ºçš„è¯·æ±‚è¿›è¡Œè®¿é—®æ§åˆ¶<!-- raw HTML omitted --></li>
<li><code>RBAC</code><!-- raw HTML omitted -->ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆ<code>kubeadm</code>å®‰è£…æ–¹å¼ä¸‹çš„é»˜è®¤é€‰é¡¹ï¼‰<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<hr>
<h5 id="rbacåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶"><code>RBAC</code>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</h5>
<blockquote>
<ul>
<li><code>RBAC</code><!-- raw HTML omitted -->åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶<!-- raw HTML omitted -->(<code>Role Based Access Control</code>)<!-- raw HTML omitted -->ä¸»è¦æ˜¯åœ¨æè¿°ä¸€ä»¶äº‹æƒ…ï¼šç»™å“ªäº›å¯¹è±¡æˆæƒäº†å“ªäº›æƒé™<!-- raw HTML omitted --></li>
<li><code>RBAC</code>æ¶‰åŠåˆ°äº†ä¸‹é¢å‡ ä¸ªæ¦‚å¿µï¼š</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->å¯¹è±¡ï¼š<!-- raw HTML omitted --><code>User</code>ã€<code>Groups</code>ã€<code>ServiceAccount</code>ã€‚</li>
<li><!-- raw HTML omitted -->è§’è‰²ï¼š<!-- raw HTML omitted -->ä»£è¡¨ç€ä¸€ç»„å®šä¹‰åœ¨èµ„æºä¸Šçš„å¯æ“ä½œçš„åŠ¨ä½œï¼ˆæƒé™ï¼‰çš„é›†åˆ</li>
<li><!-- raw HTML omitted -->ç»‘å®šï¼š<!-- raw HTML omitted -->å°†å®šä¹‰å¥½çš„è§’è‰²å’Œç”¨æˆ·ç»‘å®šåœ¨ä¸€èµ·</li>
</ul>
</blockquote>
<ul>
<li><code>RBAC</code>å¼•å…¥çš„<code>4</code>ä¸ªé¡¶çº§èµ„æºå¯¹è±¡ï¼š</li>
</ul>
<blockquote>
<ul>
<li><code>Role</code>(è§’è‰²)<!-- raw HTML omitted -->ï¼Œç”¨äºæŒ‡å®šä¸€ç»„æƒé™<!-- raw HTML omitted --></li>
<li><code>ClusterRole</code>(é›†ç¾¤è§’è‰²)<!-- raw HTML omitted -->ï¼Œç”¨äºæŒ‡å®šä¸€ç»„æƒé™<!-- raw HTML omitted --></li>
<li><code>RoleBinding</code>(è§’è‰²ç»‘å®š)<!-- raw HTML omitted -->ï¼Œç”¨äºå°†è§’è‰²ï¼ˆæƒé™çš„é›†åˆï¼‰èµ‹äºˆç»™å¯¹è±¡<!-- raw HTML omitted --></li>
<li><code>ClusterRoleBinding</code>(é›†ç¾¤è§’è‰²ç»‘å®š)<!-- raw HTML omitted -->ï¼Œç”¨äºå°†è§’è‰²ï¼ˆæƒé™çš„é›†åˆï¼‰èµ‹äºˆç»™å¯¹è±¡<!-- raw HTML omitted --></li>
</ul>
</blockquote>

<pre class="mermaid align-center zoomable">graph TB
A1(Group) --- A[RoleBinding]
A2(User) --- A[RoleBinding]
A3(Service&lt;br&gt;Account) --- A[RoleBinding]

A[RoleBinding] --- B[Role]

B[Role] --- Pod --- |a=1|B1[List]
B[Role] --- Pod --- |a=2|B2[Get]
B[Role] --- Pod --- |a=3|B3[Watch]

B[Role] --- Deployment --- |b=1|B4[List]
B[Role] --- Deployment --- |b=2|B5[Get]
B[Role] --- Deployment --- |b=3|B6[Watch]</pre></blockquote>
<hr>
<h5 id="roleæ™®é€šè§’è‰²"><code>Role</code>(æ™®é€šè§’è‰²)</h5>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->ä¸€ä¸ªè§’è‰²å°±æ˜¯ä¸€ç»„æƒé™çš„é›†åˆï¼Œè¿™é‡Œçš„æƒé™éƒ½æ˜¯è®¸å¯å½¢å¼çš„ï¼ˆç™½åå•ï¼‰<!-- raw HTML omitted --></li>
<li><code>Role</code><!-- raw HTML omitted -->åªèƒ½å¯¹å‘½åç©ºé—´çš„èµ„æºè¿›è¡Œæˆæƒï¼Œéœ€è¦æŒ‡å®š<!-- raw HTML omitted --><code>namespace</code></li>
</ul>
</blockquote>
<ul>
<li>
<ol>
<li><code>rules:</code><!-- raw HTML omitted -->ä¸­çš„å‚æ•°è¯´æ˜ï¼š<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl explain role.rules.resources  	<span style="color:#75715e"># æ˜¾ç¤º resources ä½¿ç”¨æ–¹å¼</span></span></span></code></pre></div><ul>
<li>1.1 <code>apiGroups:</code></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->æ”¯æŒçš„<!-- raw HTML omitted --><code>API</code><!-- raw HTML omitted -->ç»„åˆ—è¡¨ï¼Œ<!-- raw HTML omitted --><code>&quot;&quot;</code>,<code>&quot;apps&quot;</code>,<code>&quot;autoscaling</code>&quot;&quot;,<code>&quot;batch&quot;</code>ã€‚</li>
</ul>
</blockquote>
<ul>
<li>1.2 <code>resources:</code></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->æ”¯æŒçš„èµ„æºå¯¹è±¡åˆ—è¡¨ï¼Œ<!-- raw HTML omitted --><code>&quot;namespaces&quot;</code>,<code>&quot;services&quot;</code>,<code>&quot;endpoints&quot;</code>,<code>&quot;pods&quot;</code>,<code>&quot;secrets&quot;</code>,<code>&quot;configmaps&quot;</code>,<code>&quot;crontabs&quot;</code>,<code>&quot;deployments&quot;</code>,<code>&quot;jobs&quot;</code>,<code>&quot;nodes&quot;</code>,<code>&quot;rolebindings&quot;</code>,<code>&quot;clusterroles&quot;</code>,<code>&quot;daemonsets&quot;</code>,<code>&quot;replicasets&quot;</code>,<code>&quot;statefulsets&quot;</code>,<code>&quot;horizontalpodautoscalers&quot;</code>,<code>&quot;replicationcontrollers&quot;</code>,<code>&quot;cronjobs&quot;</code></li>
</ul>
</blockquote>
<ul>
<li>1.3 <code>verbs:</code></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->å¯¹èµ„æºå¯¹è±¡çš„æ“ä½œæ–¹æ³•åˆ—è¡¨ï¼Œ<!-- raw HTML omitted --><code>&quot;get&quot;</code>,<code> &quot;list&quot;</code>,<code> &quot;watch&quot;</code>,<code> &quot;create&quot;</code>,<code> &quot;update&quot;</code>,<code> &quot;patch&quot;</code>, <code>&quot;delete&quot;</code>,<code>&quot;exec&quot;</code></li>
</ul>
</blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Role</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-role</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">rules</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">apiGroups</span>: [<span style="color:#e6db74">&#34;&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„APIç»„åˆ—è¡¨ï¼Œ&#34;&#34;ç©ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ ¸å¿ƒAPIç¾¤</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">resources</span>: [<span style="color:#e6db74">&#34;pods&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„èµ„æºå¯¹è±¡åˆ—è¡¨</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">verbs</span>: [<span style="color:#e6db74">&#34;get&#34;</span>,<span style="color:#e6db74">&#34;watch&#34;</span>,<span style="color:#e6db74">&#34;list&#34;</span>]</span></span></code></pre></div></blockquote>
<hr>
<h5 id="rolebindingæ™®é€šè§’è‰²ç»‘å®š"><code>RoleBinding</code>(æ™®é€šè§’è‰²ç»‘å®š)</h5>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->è§’è‰²ç»‘å®šç”¨æ¥æŠŠä¸€ä¸ªè§’è‰²ç»‘å®šåˆ°ä¸€ä¸ªç›®æ ‡å¯¹è±¡ä¸Šï¼Œç»‘å®šç›®æ ‡å¯ä»¥æ˜¯<!-- raw HTML omitted --><code>User</code>ã€<code>Group</code>æˆ–è€…<code>ServiceAccount</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>RoleBinding</code>å¯ä»¥å°†åŒä¸€<code>namespace</code>ä¸­çš„<code>subject</code>å¯¹è±¡ç»‘å®šåˆ°æŸä¸ª<code>Role</code>ä¸‹ï¼Œåˆ™æ­¤<code>Subject</code>å…·æœ‰è¯¥<code>Role</code>å®šä¹‰çš„æƒé™</li>
<li><code>subjects:</code><!-- raw HTML omitted --><!-- raw HTML omitted --></li>
<li><code>roleRef:</code><!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">RoleBinding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-role-binding</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">subjects</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">User  	# Userï¼ŒGroupï¼ŒServiceAccoun  </span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">user-name</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">roleRef</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Role</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-role</span></span></span></code></pre></div></blockquote>
<hr>
<h5 id="clusterroleé›†ç¾¤è§’è‰²"><code>ClusterRole</code>(é›†ç¾¤è§’è‰²)</h5>
<ul>
<li>
<ol>
<li><code>ClusterRole</code><!-- raw HTML omitted -->å¯ä»¥å¯¹é›†ç¾¤èŒƒå›´å†…çš„èµ„æºã€è·¨<code>namespace</code>çš„èŒƒå›´èµ„æºã€éèµ„æºç±»å‹è¿›è¡Œæˆæƒ<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ClusterRole</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span> <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-clusterrole</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">rules</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">apiGroups</span>: [<span style="color:#e6db74">&#34;&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„APIç»„åˆ—è¡¨ï¼Œ&#34;&#34;ç©ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ ¸å¿ƒAPIç¾¤</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">resources</span>: [<span style="color:#e6db74">&#34;pods&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„èµ„æºå¯¹è±¡åˆ—è¡¨</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">verbs</span>: [<span style="color:#e6db74">&#34;get&#34;</span>,<span style="color:#e6db74">&#34;watch&#34;</span>,<span style="color:#e6db74">&#34;list&#34;</span>]</span></span></code></pre></div></blockquote>
<hr>
<h5 id="clusterrolebindingé›†ç¾¤è§’è‰²ç»‘å®š"><code>ClusterRoleBinding</code>(é›†ç¾¤è§’è‰²ç»‘å®š)</h5>
<blockquote>
<ul>
<li><code>ClusterRoleBinding</code>åœ¨æ•´ä¸ªé›†ç¾¤çº§åˆ«å’Œæ‰€æœ‰<code>namespaces</code>å°†ç‰¹å®šçš„<code>subject</code>ä¸<code>ClusterRole</code>ç»‘å®šï¼Œæˆäºˆæƒé™</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ClusterRoleBinding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-clusterrole-binding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">subjects</span>:  <span style="color:#75715e"># åº”ç”¨ä»€ä¹ˆç±»å‹çš„ä¸»ä½“  </span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">User  	# Userï¼ŒGroupï¼ŒServiceAccoun </span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">user-name  	# å¯¹åº”çš„åå­—</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">roleRef</span>:  	<span style="color:#75715e"># è§’è‰²ç»‘å®š </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io  	# å¯¹åº”çš„Apiåˆ†ç»„  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ClusterRole  	# è§’è‰²ç±»å‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-clusterrole</span></span></span></code></pre></div></blockquote>
<hr>
<h4 id="å‡†å…¥æ§åˆ¶">å‡†å…¥æ§åˆ¶</h4>
<ul>
<li>
<ol>
<li>é€šè¿‡äº†å‰é¢çš„è®¤è¯å’Œæˆæƒä¹‹åï¼Œè¿˜éœ€è¦ç»è¿‡å‡†å…¥æ§åˆ¶é€šè¿‡ä¹‹åï¼Œ<code>API Server</code>æ‰ä¼šå¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</li>
</ol>
</li>
<li>
<ol start="2">
<li>å‡†å…¥æ§åˆ¶æ˜¯ä¸€ä¸ªå¯é…ç½®çš„æ§åˆ¶å™¨åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡åœ¨<code>API Server</code>ä¸Šé€šè¿‡å‘½ä»¤è¡Œè®¾ç½®é€‰æ‹©æ‰§è¡Œå“ªäº›æ³¨å…¥æ§åˆ¶å™¨ã€‚</li>
</ol>
</li>
<li>
<ol start="3">
<li>åªæœ‰å½“æ‰€æœ‰çš„æ³¨å…¥æ§åˆ¶å™¨éƒ½æ£€æŸ¥é€šè¿‡ä¹‹åï¼Œ<code>API Server</code>æ‰ä¼šæ‰§è¡Œè¯¥è¯·æ±‚ï¼Œå¦åˆ™è¿”å›æ‹’ç»ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>--enable-admission-plugins=NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,DefaultStorageClass,ResourceQuota,DefaultTolerationSeconds</span></span></code></pre></div></blockquote>
<hr>
<h5 id="admission-controlfont-colorredå‡†å…¥æ§åˆ¶font"><code>Admission Control</code><!-- raw HTML omitted -->(å‡†å…¥æ§åˆ¶)<!-- raw HTML omitted --></h5>
<blockquote>
<ul>
<li><code>AlwaysAdmit</code><!-- raw HTML omitted -->ï¼šå…è®¸æ‰€æœ‰è¯·æ±‚<!-- raw HTML omitted --></li>
<li><code>AlwaysDeny</code><!-- raw HTML omitted -->ï¼šç¦æ­¢æ‰€æœ‰è¯·æ±‚ï¼Œä¸€èˆ¬ç”¨äºæµ‹è¯•<!-- raw HTML omitted --></li>
<li><code>AlwaysPullImages</code><!-- raw HTML omitted -->ï¼šåœ¨å¯åŠ¨å®¹å™¨ä¹‹å‰æ€»å»ä¸‹è½½é•œåƒ<!-- raw HTML omitted --></li>
<li><code>DenyExecOnPrivileged</code>ï¼šå®ƒä¼šæ‹¦æˆªæ‰€æœ‰æƒ³åœ¨<code>Privileged Container</code>ä¸Šæ‰§è¡Œå‘½ä»¤çš„è¯·æ±‚</li>
<li><code>ImagePolicyWebhook</code>ï¼šè¿™ä¸ªæ’ä»¶å°†å…è®¸åç«¯çš„ä¸€ä¸ª<code>Webhook</code>ç¨‹åºæ¥å®Œæˆ<code>admission controller</code>çš„åŠŸèƒ½</li>
<li><code>Service Account</code>ï¼šå®ç°<code>ServiceAccount</code>å®ç°äº†è‡ªåŠ¨åŒ–</li>
<li><code>SecurityContextDeny</code>ï¼šè¿™ä¸ªæ’ä»¶å°†ä½¿ç”¨<code>SecurityContext</code>çš„<code>Pod</code>ä¸­çš„å®šä¹‰å…¨éƒ¨å¤±æ•ˆ</li>
<li><code>ResourceQuota</code>ï¼šç”¨äºèµ„æºé…é¢ç®¡ç†ç›®çš„ï¼Œè§‚å¯Ÿæ‰€æœ‰è¯·æ±‚ï¼Œç¡®ä¿åœ¨<code>namespace</code>ä¸Šçš„é…é¢ä¸ä¼šè¶…æ ‡</li>
<li><code>LimitRanger</code>ï¼šç”¨äºèµ„æºé™åˆ¶ç®¡ç†ï¼Œä½œç”¨äº<code>namespace</code>ä¸Šï¼Œç¡®ä¿å¯¹<code>Pod</code>è¿›è¡Œèµ„æºé™åˆ¶</li>
<li><code>InitialResources</code>ï¼šä¸ºæœªè®¾ç½®èµ„æºè¯·æ±‚ä¸é™åˆ¶çš„<code>Pod</code>ï¼Œæ ¹æ®å…¶é•œåƒçš„å†å²èµ„æºçš„ä½¿ç”¨æƒ…å†µè¿›è¡Œè®¾ç½®</li>
<li><code>NamespaceLifecycle</code>ï¼šå¦‚æœå°è¯•åœ¨ä¸€ä¸ªä¸å­˜åœ¨çš„<code>namespace</code>ä¸­åˆ›å»ºèµ„æºå¯¹è±¡ï¼Œåˆ™è¯¥åˆ›å»ºè¯·æ±‚å°†è¢«æ‹’ ç»ã€‚å½“åˆ é™¤ä¸€ä¸ª<code>namespace</code>æ—¶ï¼Œç³»ç»Ÿå°†ä¼šåˆ é™¤è¯¥<code>namespace</code>ä¸­æ‰€æœ‰å¯¹è±¡</li>
<li><code>DefaultStorageClass</code>ï¼šä¸ºäº†å®ç°å…±äº«å­˜å‚¨çš„åŠ¨æ€ä¾›åº”ï¼Œä¸ºæœªæŒ‡å®š<code>StorageClass</code>æˆ–<code>PV</code>çš„<code>PVC</code>å°è¯•åŒ¹é…é»˜è®¤<code>StorageClass</code>ï¼Œå°½å¯èƒ½å‡å°‘ç”¨æˆ·åœ¨ç”³è¯·<code>PVC</code>æ—¶æ‰€éœ€äº†è§£çš„åç«¯å­˜å‚¨ç»†èŠ‚</li>
<li><code>DefaultTolerationSeconds</code>ï¼šè¿™ä¸ªæ’ä»¶ä¸ºé‚£äº›æ²¡æœ‰è®¾ç½®<code>forgiveness tolerations</code>å¹¶å…·æœ‰<code>notready:NoExecute</code>å’Œ<code>unreachable:NoExecute</code>ä¸¤ç§<code>taints</code>çš„<code>Pod</code>è®¾ç½®é»˜è®¤çš„<code>â€œå®¹å¿â€</code>æ—¶é—´ï¼Œä¸º<code>5min</code></li>
<li><code>PodSecurityPolicy</code>ï¼šè¿™ä¸ªæ’ä»¶ç”¨äºåœ¨åˆ›å»ºæˆ–ä¿®æ”¹Podæ—¶å†³å®šæ˜¯å¦æ ¹æ®<code>Pod</code>çš„<code>security context</code>å’Œå¯ç”¨çš„<code>PodSecurityPolicy</code>å¯¹<code>Pod</code>çš„å®‰å…¨ç­–ç•¥è¿›è¡Œæ§åˆ¶</li>
</ul>
</blockquote>
<hr>
<h3 id="rbacå®æˆ˜"><code>RBAC</code>å®æˆ˜</h3>
<ul>
<li>
<ol>
<li>åˆ›å»ºä¸€ä¸ªåªèƒ½ç®¡ç†<code>dev</code>å‘½åç©ºé—´ä¸‹<code>Pods</code>èµ„æºçš„è´¦å·ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->åˆ›å»ºå¯†é’¥<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /etc/kubernetes/pki/
</span></span><span style="display:flex;"><span>$ <span style="color:#f92672">(</span>umask 077;openssl genrsa -out user-name.key 2048<span style="color:#f92672">)</span></span></span></code></pre></div><ul>
<li>ç”¨<code>API Server</code>çš„å¯†é’¥å»ç­¾ç½²è¯ä¹¦</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->è¯ä¹¦ç”³è¯·ï¼š<!-- raw HTML omitted -->ç”³è¯·çš„ç”¨æˆ·æ˜¯<code>user-name</code>ï¼Œç»„æ˜¯<code>group-name</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ openssl req -new -key user-name.key -out user-name.csr -subj <span style="color:#e6db74">&#34;/CN=user-name/O=group-name&#34;</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->ç­¾ç½²è¯ä¹¦<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ openssl x509 -req -in user-name.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out user-name.crt -days <span style="color:#ae81ff">3650</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->è®¾ç½®é›†ç¾¤ã€ç”¨æˆ·ã€ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl config set-cluster kubernetes --embed-certs<span style="color:#f92672">=</span>true --certificate-authority<span style="color:#f92672">=</span>/etc/kubernetes/pki/ca.crt --server<span style="color:#f92672">=</span>https://192.168.18.100:6443
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl config set-credentials user-name --embed-certs<span style="color:#f92672">=</span>true --client-certificate<span style="color:#f92672">=</span>/etc/kubernetes/pki/user-name.crt --client-key<span style="color:#f92672">=</span>/etc/kubernetes/pki/user-name.key
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl config set-context user-name@kubernetes --cluster<span style="color:#f92672">=</span>kubernetes --user<span style="color:#f92672">=</span>user-name</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æµ‹è¯•è´¦æˆ·ã€åˆ‡æ¢<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->åˆ‡æ¢è´¦å·åˆ°<!-- raw HTML omitted --><code>user-name</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl config use-context user-name@kubernetes</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹<code>default</code>ä¸‹çš„<code>Pod</code>ï¼Œå‘ç°æ²¡æœ‰æƒé™ï¼š<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl get pods -n default</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->åˆ‡æ¢åˆ°<code>admin</code>è´¦æˆ·ï¼š<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl config use-context kubernetes-admin@kubernetes</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h4 id="rolebindingfont-colorredå¼•ç”¨fontclusterrolefont-colorredè¿›è¡Œæˆæƒfont"><code>RoleBinding</code><!-- raw HTML omitted -->å¼•ç”¨<!-- raw HTML omitted --><code>ClusterRole</code><!-- raw HTML omitted -->è¿›è¡Œæˆæƒ<!-- raw HTML omitted --></h4>
<ul>
<li>
<ol>
<li><code>RoleBinding</code>(è§’è‰²ç»‘å®š)å¯ä»¥å¼•ç”¨<code>ClusterRole</code>(é›†ç¾¤è§’è‰²)ï¼Œå¯¹å±äºåŒä¸€å‘½åç©ºé—´å†…<code>ClusterRole</code>å®šä¹‰çš„èµ„æºä¸»ä½“è¿›è¡Œæˆæƒã€‚</li>
</ol>
</li>
<li>
<ol start="2">
<li>ä¸€ç§å¾ˆå¸¸ç”¨çš„åšæ³•æ˜¯ï¼Œé›†ç¾¤ç®¡ç†å‘˜ä¸ºé›†ç¾¤èŒƒå›´é¢„å®šä¹‰å¥½ä¸€ç»„è§’è‰²<code>ClusterRole</code>ï¼Œç„¶ååœ¨å¤šä¸ªå‘½åç©ºé—´ä¸­é‡å¤ä½¿ç”¨è¿™äº›<code>ClusterRole</code>ã€‚è¿™æ ·å¯ä»¥å¤§å¹…åº¦æé«˜æˆæƒç®¡ç†å·¥ä½œæ•ˆç‡ï¼Œä¹Ÿä½¿å¾—å„ä¸ªå‘½åç©ºé—´ä¸‹çš„åŸºç¡€æ€§æˆæƒè§„åˆ™å’Œä½¿ç”¨ä½“éªŒä¿æŒä¸€è‡´ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li>è™½ç„¶<code>authorization-clusterrole</code>æ˜¯ä¸€ä¸ªé›†ç¾¤è§’è‰²ï¼Œä½†æ˜¯å› ä¸ºä½¿ç”¨äº†<code>RoleBinding</code>ï¼Œæ‰€ä»¥<code>xudaxian</code>åªèƒ½è¯»å–<code>default</code>å‘½åç©ºé—´ä¸­çš„èµ„æº</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">RoleBinding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-clusterrole-binding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">subjects</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">xudaxian</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">User</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">roleRef</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">ClusterRole</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-clusterrole</span></span></span></code></pre></div></blockquote>
<hr>
<h4 id="font-colorredåˆ›å»ºfontrolefont-colorredå’Œfontrolebindingfont-colorredä¸ºfontuser-namefont-colorredæˆæƒfont"><!-- raw HTML omitted -->åˆ›å»º<!-- raw HTML omitted --><code>Role</code><!-- raw HTML omitted -->å’Œ<!-- raw HTML omitted --><code>RoleBinding</code><!-- raw HTML omitted -->ï¼Œä¸º<!-- raw HTML omitted --><code>user-name</code><!-- raw HTML omitted -->æˆæƒ<!-- raw HTML omitted --></h4>
<ul>
<li>
<ol>
<li>åˆ›å»º<code>dev-role.yaml</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Role</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">name</span>: <span style="color:#ae81ff">dev-role</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">rules</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">apiGroups</span>: [<span style="color:#e6db74">&#34;&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„APIç»„åˆ—è¡¨ï¼Œ&#34;&#34;ç©ºå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ ¸å¿ƒAPIç¾¤</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">resources</span>: [<span style="color:#e6db74">&#34;pods&#34;</span>]  	<span style="color:#75715e"># æ”¯æŒçš„èµ„æºå¯¹è±¡åˆ—è¡¨</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">verbs</span>: [<span style="color:#e6db74">&#34;get&#34;</span>,<span style="color:#e6db74">&#34;watch&#34;</span>,<span style="color:#e6db74">&#34;list&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io/v1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">RoleBinding</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">name</span>: <span style="color:#ae81ff">authorization-role-binding </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">subjects</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">User</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">user-name</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">roleRef</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Role </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">dev-role</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">apiGroup</span>: <span style="color:#ae81ff">rbac.authorization.k8s.io</span></span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li>åˆ›å»º<code>Role</code>å’Œ<code>RoleBinding</code>ï¼š</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl create -f dev-role.yaml</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li>åˆ‡æ¢è´¦æˆ·åˆ°<code>user-name</code>ç”¨æˆ·ï¼Œå†æ¬¡éªŒè¯ï¼š</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ kubectl config use-context user-name@kubernetes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å†æ¬¡æŸ¥çœ‹ï¼š</span>
</span></span><span style="display:flex;"><span>$ kubectl get pod -n default
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ‡å›adminè´¦æˆ·ï¼š</span>
</span></span><span style="display:flex;"><span>$ kubectl config use-context kubernetes-admin@kubernetes</span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../../js/clipboard.min.js?1721405971" defer></script>
    <script src="../../../../js/perfect-scrollbar.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-color.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-dispatch.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-drag.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-ease.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-interpolate.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-selection.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-timer.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-transition.min.js?1721405971" defer></script>
    <script src="../../../../js/d3/d3-zoom.min.js?1721405971" defer></script>
    <script src="../../../../js/js-yaml.min.js?1721405971" defer></script>
    <script src="../../../../js/mermaid.min.js?1721405971" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"securityLevel\": \"loose\" }");
    </script>
    <script src="../../../../js/theme.js?1721405971" defer></script>
  </body>
</html>

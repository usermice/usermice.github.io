<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Prometheus åç§°åœ°å€ æè¿° Prometheuså®˜ç½‘ prometheus-book Github-Prometheus Prometheuså­¦ä¹ ç¬”è®° Prometheusä»‹ç»å’Œä½¿ç”¨ Prometheus&#43;Grafanaè¯¦è§£ Prometheusè‡ªå®šä¹‰ç›‘æ§éƒ¨ç½² Prometheus CLIENT LIBRARIES ä½¿ç”¨Prometheus&#43;Grafanaå¿«é€Ÿæ‰“é€ é«˜é€¼æ ¼ç›‘æ§å¹³å° æ¦‚è¿° Prometheusæ˜¯ä¸€ä¸ªå¼€æºç›‘æ§ç³»ç»Ÿï¼Œå®ƒå‰èº«æ˜¯SoundCloudçš„å‘Šè­¦å·¥å…·åŒ…ã€‚ä»2012å¹´å¼€å§‹ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡å¼€å§‹ä½¿ç”¨Prometheusã€‚è¯¥é¡¹ç›®çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å’Œç”¨æˆ·å‚ä¸åˆ°è¯¥é¡¹ç›®ä¸­ã€‚ç›®å‰å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•å…¬å¸ã€‚ä¸ºäº†å¼ºè°ƒè¿™ç‚¹å’Œæ˜ç¡®è¯¥é¡¹ç›®æ²»ç†ç»“æ„ï¼ŒPrometheusåœ¨2016å¹´ç»§Kurberntesä¹‹åï¼ŒåŠ å…¥äº†Cloud Native Computing Foundation">
    <meta name="author" content="äºŒå“¥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Install_Prometheus :: Hugo Relearn Theme">
    <meta name="twitter:description" content="Prometheus åç§°åœ°å€ æè¿° Prometheuså®˜ç½‘ prometheus-book Github-Prometheus Prometheuså­¦ä¹ ç¬”è®° Prometheusä»‹ç»å’Œä½¿ç”¨ Prometheus&#43;Grafanaè¯¦è§£ Prometheusè‡ªå®šä¹‰ç›‘æ§éƒ¨ç½² Prometheus CLIENT LIBRARIES ä½¿ç”¨Prometheus&#43;Grafanaå¿«é€Ÿæ‰“é€ é«˜é€¼æ ¼ç›‘æ§å¹³å° æ¦‚è¿° Prometheusæ˜¯ä¸€ä¸ªå¼€æºç›‘æ§ç³»ç»Ÿï¼Œå®ƒå‰èº«æ˜¯SoundCloudçš„å‘Šè­¦å·¥å…·åŒ…ã€‚ä»2012å¹´å¼€å§‹ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡å¼€å§‹ä½¿ç”¨Prometheusã€‚è¯¥é¡¹ç›®çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å’Œç”¨æˆ·å‚ä¸åˆ°è¯¥é¡¹ç›®ä¸­ã€‚ç›®å‰å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•å…¬å¸ã€‚ä¸ºäº†å¼ºè°ƒè¿™ç‚¹å’Œæ˜ç¡®è¯¥é¡¹ç›®æ²»ç†ç»“æ„ï¼ŒPrometheusåœ¨2016å¹´ç»§Kurberntesä¹‹åï¼ŒåŠ å…¥äº†Cloud Native Computing Foundation">
    <meta property="og:url" content="https://erge.blog/systems/linux/monitor/install_prometheus/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Install_Prometheus :: Hugo Relearn Theme">
    <meta property="og:description" content="Prometheus åç§°åœ°å€ æè¿° Prometheuså®˜ç½‘ prometheus-book Github-Prometheus Prometheuså­¦ä¹ ç¬”è®° Prometheusä»‹ç»å’Œä½¿ç”¨ Prometheus&#43;Grafanaè¯¦è§£ Prometheusè‡ªå®šä¹‰ç›‘æ§éƒ¨ç½² Prometheus CLIENT LIBRARIES ä½¿ç”¨Prometheus&#43;Grafanaå¿«é€Ÿæ‰“é€ é«˜é€¼æ ¼ç›‘æ§å¹³å° æ¦‚è¿° Prometheusæ˜¯ä¸€ä¸ªå¼€æºç›‘æ§ç³»ç»Ÿï¼Œå®ƒå‰èº«æ˜¯SoundCloudçš„å‘Šè­¦å·¥å…·åŒ…ã€‚ä»2012å¹´å¼€å§‹ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡å¼€å§‹ä½¿ç”¨Prometheusã€‚è¯¥é¡¹ç›®çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å’Œç”¨æˆ·å‚ä¸åˆ°è¯¥é¡¹ç›®ä¸­ã€‚ç›®å‰å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•å…¬å¸ã€‚ä¸ºäº†å¼ºè°ƒè¿™ç‚¹å’Œæ˜ç¡®è¯¥é¡¹ç›®æ²»ç†ç»“æ„ï¼ŒPrometheusåœ¨2016å¹´ç»§Kurberntesä¹‹åï¼ŒåŠ å…¥äº†Cloud Native Computing Foundation">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Systems">
    <meta property="article:published_time" content="2024-06-21T14:16:56+08:00">
    <meta property="article:modified_time" content="2024-06-21T14:16:56+08:00">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Install_Prometheus :: Hugo Relearn Theme">
    <meta itemprop="description" content="Prometheus åç§°åœ°å€ æè¿° Prometheuså®˜ç½‘ prometheus-book Github-Prometheus Prometheuså­¦ä¹ ç¬”è®° Prometheusä»‹ç»å’Œä½¿ç”¨ Prometheus&#43;Grafanaè¯¦è§£ Prometheusè‡ªå®šä¹‰ç›‘æ§éƒ¨ç½² Prometheus CLIENT LIBRARIES ä½¿ç”¨Prometheus&#43;Grafanaå¿«é€Ÿæ‰“é€ é«˜é€¼æ ¼ç›‘æ§å¹³å° æ¦‚è¿° Prometheusæ˜¯ä¸€ä¸ªå¼€æºç›‘æ§ç³»ç»Ÿï¼Œå®ƒå‰èº«æ˜¯SoundCloudçš„å‘Šè­¦å·¥å…·åŒ…ã€‚ä»2012å¹´å¼€å§‹ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡å¼€å§‹ä½¿ç”¨Prometheusã€‚è¯¥é¡¹ç›®çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å’Œç”¨æˆ·å‚ä¸åˆ°è¯¥é¡¹ç›®ä¸­ã€‚ç›®å‰å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•å…¬å¸ã€‚ä¸ºäº†å¼ºè°ƒè¿™ç‚¹å’Œæ˜ç¡®è¯¥é¡¹ç›®æ²»ç†ç»“æ„ï¼ŒPrometheusåœ¨2016å¹´ç»§Kurberntesä¹‹åï¼ŒåŠ å…¥äº†Cloud Native Computing Foundation">
    <meta itemprop="datePublished" content="2024-06-21T14:16:56+08:00">
    <meta itemprop="dateModified" content="2024-06-21T14:16:56+08:00">
    <meta itemprop="wordCount" content="846">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Install_Prometheus :: Hugo Relearn Theme</title>
    <link href="../../../../images/favicon.ico?1724932927" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../../css/fontawesome-all.min.css?1724932929" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fontawesome-all.min.css?1724932929" rel="stylesheet"></noscript>
    <link href="../../../../css/nucleus.css?1724932929" rel="stylesheet">
    <link href="../../../../css/auto-complete.css?1724932929" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/auto-complete.css?1724932929" rel="stylesheet"></noscript>
    <link href="../../../../css/perfect-scrollbar.min.css?1724932929" rel="stylesheet">
    <link href="../../../../css/fonts.css?1724932929" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fonts.css?1724932929" rel="stylesheet"></noscript>
    <link href="../../../../css/theme.css?1724932929" rel="stylesheet">
    <link href="../../../../css/theme-relearn-auto.css?1724932929" rel="stylesheet" id="R-variant-style">
    <link href="../../../../css/chroma-relearn-auto.css?1724932929" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../../css/variant.css?1724932929" rel="stylesheet">
    <link href="../../../../css/print.css?1724932929" rel="stylesheet" media="print">
    <link href="../../../../css/format-print.css?1724932929" rel="stylesheet">
    <script src="../../../../js/variant.js?1724932929"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../../systems/linux/monitor/install_prometheus/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/monitor/"><span itemprop="name">Monitor</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Install_Prometheus</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/monitor/install_zabbix/" title="Install_Zabbix (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/monitor/install_open_falcon/" title="Install_Open_Falcon (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="install_prometheus">Install_Prometheus</h1>

<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="prometheus"><code>Prometheus</code></h2>
<blockquote>
<table>
<thead>
<tr>
<th>åç§°åœ°å€</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://prometheus.io/docs/introduction/first_steps/" rel="external" target="_self"><code>Prometheus</code>å®˜ç½‘</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://yunlzheng.gitbook.io/prometheus-book" rel="external" target="_self"><code>prometheus-book</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://github.com/prometheus" rel="external" target="_self"><code>Github-Prometheus</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://blog.gmem.cc/prometheus-study-note" rel="external" target="_self"><code>Prometheus</code>å­¦ä¹ ç¬”è®°</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://blog.51cto.com/qiangsh/3093700" rel="external" target="_self"><code>Prometheus</code>ä»‹ç»å’Œä½¿ç”¨</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://juejin.im/post/5d79d804e51d453b7779d5ce" rel="external" target="_self"><code>Prometheus</code>+<code>Grafana</code>è¯¦è§£</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://www.cnblogs.com/qianjingchen/articles/9578341.html" rel="external" target="_self"><code>Prometheus</code>è‡ªå®šä¹‰ç›‘æ§éƒ¨ç½²</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://prometheus.io/docs/instrumenting/clientlibs/" rel="external" target="_self"><code>Prometheus  CLIENT LIBRARIES</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://juejin.im/post/5d397c2fe51d45775e33f64a" rel="external" target="_self">ä½¿ç”¨<code>Prometheus</code>+<code>Grafana</code>å¿«é€Ÿæ‰“é€ é«˜é€¼æ ¼ç›‘æ§å¹³å°</a></td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->æ¦‚è¿°<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><code>Prometheus</code>æ˜¯ä¸€ä¸ªå¼€æºç›‘æ§ç³»ç»Ÿï¼Œå®ƒå‰èº«æ˜¯<a href="https://soundcloud.com" rel="external" target="_self"><code>SoundCloud</code></a>çš„å‘Šè­¦å·¥å…·åŒ…ã€‚ä»<code>2012</code>å¹´å¼€å§‹ï¼Œè®¸å¤šå…¬å¸å’Œç»„ç»‡å¼€å§‹ä½¿ç”¨<code>Prometheus</code>ã€‚è¯¥é¡¹ç›®çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ç¤¾åŒºéå¸¸æ´»è·ƒï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å’Œç”¨æˆ·å‚ä¸åˆ°è¯¥é¡¹ç›®ä¸­ã€‚ç›®å‰å®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€æºé¡¹ç›®ï¼Œä¸”ä¸ä¾èµ–äºä»»ä½•å…¬å¸ã€‚ä¸ºäº†å¼ºè°ƒè¿™ç‚¹å’Œæ˜ç¡®è¯¥é¡¹ç›®æ²»ç†ç»“æ„ï¼Œ<code>Prometheus</code>åœ¨<code>2016</code>å¹´ç»§<a href="https://kubernetes.io" rel="external" target="_self"><code>Kurberntes</code></a>ä¹‹åï¼ŒåŠ å…¥äº†<a href="https://www.cncf.io" rel="external" target="_self"><code>Cloud Native Computing Foundation</code></a></p>
<ul>
<li>1.1 <code>prometheus</code><!-- raw HTML omitted -->ç‰¹ç‚¹<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->å¤šç»´åº¦æ•°æ®æ¨¡å‹ï¼Œä¸€ä¸ªæ—¶é—´åºåˆ—ç”±ä¸€ä¸ªåº¦é‡æŒ‡æ ‡å’Œå¤šä¸ªæ ‡ç­¾é”®å€¼å¯¹ç¡®å®š<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->çµæ´»çš„æŸ¥è¯¢è¯­è¨€ï¼Œå¯¹æ”¶é›†çš„æ—¶è®¸æ•°æ®è¿›è¡Œé‡ç»„<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–åŠŸèƒ½ï¼Œé™¤äº†å†…ç½®çš„æµè§ˆå™¨ï¼Œä¹Ÿæ”¯æŒ<!-- raw HTML omitted --><code>grafana</code><!-- raw HTML omitted -->é›†æˆ<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->é«˜æ•ˆå­˜å‚¨ï¼Œå†…å­˜åŠ æœ¬åœ°ç£ç›˜ï¼Œå¯é€šè¿‡åŠŸèƒ½åˆ†ç‰‡å’Œè”ç›Ÿæ¥æ‹“å±•æ€§èƒ½<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->è¿ç»´ç®€å•ï¼Œåªä¾èµ–äºæœ¬åœ°ç£ç›˜ï¼Œ<!-- raw HTML omitted --><code>go</code><!-- raw HTML omitted -->äºŒè¿›åˆ¶å®‰è£…åŒ…æ²¡æœ‰ä»»ä½•å…¶ä»–ä¾èµ– <!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->ç²¾ç®€å‘Šè­¦<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->éå¸¸å¤šçš„å®¢æˆ·ç«¯åº“<!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->æä¾›äº†è®¸å¤šå¯¼å‡ºå™¨æ¥æ”¶é›†å¸¸ç”¨ç³»ç»ŸæŒ‡æ ‡<!-- raw HTML omitted --></li>
</ul>
</blockquote>
</blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted -->æ•°æ®æ¨¡å‹ <!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><code>Prometheus</code>ä»æ ¹æœ¬ä¸Šå­˜å‚¨çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯æ—¶é—´åºåˆ—æ•°æ®ï¼ˆ<code>Time Serie Data</code>ï¼Œç®€ç§°æ—¶åºæ•°æ®ï¼‰ã€‚æ—¶åºæ•°æ®æ˜¯å…·æœ‰æ—¶é—´æˆ³çš„æ•°æ®æµï¼Œè¯¥æ•°æ®æµå±äºæŸä¸ªåº¦é‡æŒ‡æ ‡ï¼ˆ<code>Metric</code>ï¼‰å’Œè¯¥åº¦é‡æŒ‡æ ‡ä¸‹çš„å¤šä¸ªæ ‡ç­¾ï¼ˆ<code>Label</code>ï¼‰ã€‚é™¤äº†æä¾›å­˜å‚¨åŠŸèƒ½ï¼Œ<code>Prometheus</code>è¿˜å¯ä»¥åˆ©ç”¨æŸ¥è¯¢è¡¨è¾¾å¼æ¥æ‰§è¡Œéå¸¸çµæ´»å’Œå¤æ‚çš„æŸ¥è¯¢ã€‚</p>
<ul>
<li>
<p><!-- raw HTML omitted -->åº¦é‡æŒ‡æ ‡å’Œæ ‡ç­¾<!-- raw HTML omitted --></p>
<p>æ¯ä¸ªæ—¶é—´åºåˆ—ï¼ˆ<code>Time Serie</code>ï¼Œç®€ç§°æ—¶åºï¼‰ç”±åº¦é‡æŒ‡æ ‡å’Œä¸€ç»„æ ‡ç­¾é”®å€¼å¯¹å”¯ä¸€ç¡®å®šã€‚</p>
</li>
<li>
<p>åº¦é‡æŒ‡æ ‡åç§°æè¿°äº†è¢«ç›‘æ§ç³»ç»Ÿçš„æŸä¸ªæµ‹é‡ç‰¹å¾ï¼ˆæ¯”å¦‚<code>http_requests_total</code>è¡¨ç¤º<code>http</code>è¯·æ±‚æ€»æ•°ï¼‰ã€‚åº¦é‡æŒ‡æ ‡åç§°ç”±<code>ASCII</code>å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œå†’å·ç»„æˆï¼Œé¡»åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼<code>[a-zA-Z_:][a-zA-Z0-9_:]*</code>ã€‚</p>
</li>
<li>
<p>æ ‡ç­¾å¼€å¯äº†<code>Prometheus</code>çš„å¤šç»´æ•°æ®æ¨¡å‹ã€‚å¯¹äºåŒä¸€ä¸ªåº¦é‡æŒ‡æ ‡ï¼Œä¸åŒæ ‡ç­¾å€¼ç»„åˆä¼šå½¢æˆç‰¹å®šç»´åº¦çš„æ—¶åºã€‚<code>Prometheus</code>çš„æŸ¥è¯¢è¯­è¨€å¯ä»¥é€šè¿‡åº¦é‡æŒ‡æ ‡å’Œæ ‡ç­¾å¯¹æ—¶åºæ•°æ®è¿›è¡Œè¿‡æ»¤å’Œèšåˆã€‚æ”¹å˜ä»»ä½•åº¦é‡æŒ‡æ ‡ä¸Šçš„ä»»ä½•æ ‡ç­¾å€¼ï¼Œéƒ½ä¼šå½¢æˆæ–°çš„æ—¶åºã€‚æ ‡ç­¾åç§°å¯ä»¥åŒ…å«<code>ASCII</code>å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¡»åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼<code>[a-zA-Z_][a-zA-Z0-9_]*</code>ï¼Œå¸¦æœ‰ _ ä¸‹åˆ’çº¿çš„æ ‡ç­¾åç§°ä¿ç•™ä¸ºå†…éƒ¨ä½¿ç”¨ã€‚æ ‡ç­¾å€¼å¯ä»¥åŒ…å«ä»»æ„<code>Unicode</code>å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸­æ–‡ã€‚</p>
</li>
<li>
<p><!-- raw HTML omitted -->é‡‡æ ·å€¼(<code>Sample</code>)<!-- raw HTML omitted --></p>
</li>
</ul>
<blockquote>
<p>æ—¶åºæ•°æ®å…¶å®å°±æ˜¯ä¸€ç³»åˆ—é‡‡æ ·å€¼ã€‚æ¯ä¸ªé‡‡æ ·å€¼åŒ…æ‹¬ï¼š</p>
<ul>
<li><!-- raw HTML omitted -->ä¸€ä¸ª<code>64</code>ä½çš„æµ®ç‚¹æ•°å€¼  <!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->ä¸€ä¸ªç²¾ç¡®åˆ°æ¯«ç§’çš„æ—¶é—´æˆ³  <!-- raw HTML omitted --></li>
<li><!-- raw HTML omitted -->æ³¨è§£(<code>Notation</code>)<!-- raw HTML omitted --></li>
</ul>
<p>ä¸€ä¸ªæ³¨è§£ç”±ä¸€ä¸ªåº¦é‡æŒ‡æ ‡å’Œä¸€ç»„æ ‡ç­¾é”®å€¼å¯¹æ„æˆã€‚å½¢å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>metric name<span style="color:#f92672">]{[</span>label name<span style="color:#f92672">]=[</span>label value<span style="color:#f92672">]</span>, ...<span style="color:#f92672">}</span>  </span></span></code></pre></div><p>ä¾‹å¦‚ï¼Œåº¦é‡æŒ‡æ ‡ä¸º<code>api_http_requests_total</code>ï¼Œæ ‡ç­¾ä¸º<code>method=&quot;POST&quot;</code>ã€<code>handler=&quot;/messages&quot;</code>çš„æ³¨è§£è¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>api_http_requests_total<span style="color:#f92672">{</span>method<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span>, handler<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/messages&#34;</span><span style="color:#f92672">}</span></span></span></code></pre></div></blockquote>
</blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted -->åº¦é‡æŒ‡æ ‡ç±»å‹ <!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->è®¡æ•°å™¨(<code>Counter</code>)<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>è®¡æ•°å™¨æ˜¯ä¸€ç§ç´¯è®¡å‹çš„åº¦é‡æŒ‡æ ‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªåªèƒ½é€’å¢çš„æ•°å€¼ã€‚è®¡æ•°å™¨ä¸»è¦ç”¨äºç»Ÿè®¡ç±»ä¼¼äºæœåŠ¡è¯·æ±‚æ•°ã€ä»»åŠ¡å®Œæˆæ•°å’Œé”™è¯¯å‡ºç°æ¬¡æ•°è¿™æ ·çš„æ•°æ®</code></pre></div><ul>
<li><!-- raw HTML omitted -->è®¡é‡å™¨(<code>Gauge</code>)<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>è®¡é‡å™¨è¡¨ç¤ºä¸€ä¸ªæ—¢å¯ä»¥å¢åŠ , åˆå¯ä»¥å‡å°‘çš„åº¦é‡æŒ‡æ ‡å€¼ã€‚è®¡é‡å™¨ä¸»è¦ç”¨äºæµ‹é‡ç±»ä¼¼äºæ¸©åº¦ã€å†…å­˜ä½¿ç”¨é‡è¿™æ ·çš„ç¬æ—¶æ•°æ®</code></pre></div><ul>
<li><!-- raw HTML omitted -->ç›´æ–¹å›¾(<code>Histogram</code>)<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›´æ–¹å›¾å¯¹è§‚å¯Ÿç»“æœï¼ˆé€šå¸¸æ˜¯è¯·æ±‚æŒç»­æ—¶é—´æˆ–è€…å“åº”å¤§å°è¿™æ ·çš„æ•°æ®ï¼‰è¿›è¡Œé‡‡æ ·ï¼Œå¹¶åœ¨å¯é…ç½®çš„æ¡¶ä¸­å¯¹å…¶è¿›è¡Œç»Ÿè®¡ã€‚æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥äº§ç”Ÿç›´æ–¹å›¾ï¼ˆå‡è®¾åº¦é‡æŒ‡æ ‡ä¸º ï¼‰ï¼š  </code></pre></div><ul>
<li><!-- raw HTML omitted -->æŒ‰æ¡¶è®¡æ•°<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›¸å½“äº&lt;basename&gt;_bucket{le=&#34;&lt;upper inclusive bound&gt;&#34;}</code></pre></div><ul>
<li><!-- raw HTML omitted -->é‡‡æ ·å€¼æ€»å’Œ<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›¸å½“äº &lt;basename&gt;_sum  </code></pre></div><ul>
<li><!-- raw HTML omitted -->é‡‡æ ·å€¼æ€»æ•°<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›¸å½“äº &lt;basename&gt;_count ï¼Œä¹Ÿç­‰åŒäºæŠŠæ‰€æœ‰é‡‡æ ·å€¼æ”¾åˆ°ä¸€ä¸ªæ¡¶é‡Œæ¥è®¡æ•° &lt;basename&gt;_bucket{le=&#34;+Inf&#34;}</code></pre></div><ul>
<li><!-- raw HTML omitted -->æ±‡æ€»(<code>Summary</code>)<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç±»ä¼¼äºç›´æ–¹å›¾ï¼Œæ±‡æ€»ä¹Ÿå¯¹è§‚å¯Ÿç»“æœè¿›è¡Œé‡‡æ ·ã€‚é™¤äº†å¯ä»¥ç»Ÿè®¡é‡‡æ ·å€¼æ€»å’Œå’Œæ€»æ•°ï¼Œå®ƒè¿˜èƒ½å¤ŸæŒ‰åˆ†ä½æ•°ç»Ÿè®¡ã€‚æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥äº§ç”Ÿæ±‡æ€»ï¼ˆå‡è®¾åº¦é‡æŒ‡æ ‡ä¸º ï¼‰ï¼š</code></pre></div><ul>
<li><!-- raw HTML omitted -->é‡‡æ ·å€¼æ€»å’Œ<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›¸å½“äº &lt;basename&gt;_sum</code></pre></div><ul>
<li><!-- raw HTML omitted -->é‡‡æ ·å€¼æ€»æ•°<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>ç›¸å½“äº &lt;basename&gt;_count  </code></pre></div></blockquote>
<ul>
<li>
<ol start="4">
<li><!-- raw HTML omitted -->ä»»åŠ¡(<code>Job</code>)å’Œå®ä¾‹(<code>Instance</code>)<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p>åœ¨<code>Prometheus</code>é‡Œï¼Œå¯ä»¥ä»ä¸­æŠ“å–é‡‡æ ·å€¼çš„ç«¯ç‚¹ç§°ä¸ºå®ä¾‹ï¼Œä¸ºäº†æ€§èƒ½æ‰©å±•è€Œå¤åˆ¶å‡ºæ¥çš„å¤šä¸ªè¿™æ ·çš„å®ä¾‹å½¢æˆäº†ä¸€ä¸ªä»»åŠ¡</p>
<ul>
<li><!-- raw HTML omitted -->ä¾‹å¦‚ä¸‹é¢çš„<!-- raw HTML omitted --><code>api-server</code><!-- raw HTML omitted -->ä»»åŠ¡æœ‰å››ä¸ªç›¸åŒçš„å®ä¾‹<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0"><code>job: api-server
instance 1: 1.2.3.4:5670
instance 2: 1.2.3.4:5671
instance 3: 5.6.7.8:5670
instance 4: 5.6.7.8:5671</code></pre></div><p>â€‹	<code>Prometheus</code>æŠ“å–å®Œé‡‡æ ·å€¼åï¼Œä¼šè‡ªåŠ¨ç»™é‡‡æ ·å€¼æ·»åŠ ä¸‹é¢çš„æ ‡ç­¾å’Œå€¼ï¼š</p>
<ul>
<li>
<p><code>job:</code><!-- raw HTML omitted --> æŠ“å–æ‰€å±ä»»åŠ¡<!-- raw HTML omitted --></p>
</li>
<li>
<p><code>instance</code><!-- raw HTML omitted -->ï¼š æŠ“å–æ¥æºå®ä¾‹<!-- raw HTML omitted --></p>
<p>å¦å¤–æ¯æ¬¡æŠ“å–æ—¶ï¼Œ<code>Prometheus</code>è¿˜ä¼šè‡ªåŠ¨åœ¨ä»¥ä¸‹æ—¶åºé‡Œæ’å…¥é‡‡æ ·å€¼ï¼š</p>
</li>
<li>
<p><code>up{job=&quot;[job-name]&quot;, instance=&quot;instance-id&quot;}</code><!-- raw HTML omitted -->ï¼šé‡‡æ ·å€¼ä¸º 1 è¡¨ç¤ºå®ä¾‹å¥åº·ï¼Œå¦åˆ™ä¸ºä¸å¥åº·<!-- raw HTML omitted --></p>
</li>
<li>
<p><code>scrape_duration_seconds{job=&quot;[job-name]&quot;, instance=&quot;[instance-id]&quot;}</code><!-- raw HTML omitted -->ï¼šé‡‡æ ·å€¼ä¸ºæœ¬æ¬¡æŠ“å–æ¶ˆè€—æ—¶é—´<!-- raw HTML omitted --></p>
</li>
<li>
<p><code>scrape_samples_post_metric_relabeling{job=&quot;&lt;job-name&gt;&quot;, instance=&quot;&lt;instance-id&gt;&quot;}</code><!-- raw HTML omitted -->ï¼šé‡‡æ ·å€¼ä¸ºé‡æ–°æ‰“æ ‡ç­¾åçš„é‡‡æ ·å€¼ä¸ªæ•°  <!-- raw HTML omitted --></p>
</li>
<li>
<p><code>scrape_samples_scraped{job=&quot;&lt;job-name&gt;&quot;, instance=&quot;&lt;instance-id&gt;&quot;}</code><!-- raw HTML omitted -->ï¼šé‡‡æ ·å€¼ä¸ºæœ¬æ¬¡æŠ“å–åˆ°çš„é‡‡æ ·å€¼ä¸ªæ•°  <!-- raw HTML omitted --></p>
</li>
</ul>
</blockquote>
<hr>
<h3 id="prometheusä¸å…¶ä»–ç›‘æ§ç³»ç»Ÿå¯¹æ¯”"><code>Prometheus</code>ä¸å…¶ä»–ç›‘æ§ç³»ç»Ÿå¯¹æ¯”</h3>
<ul>
<li>
<ol>
<li><code>Prometheus vs Zabbix</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.zabbix.com" rel="external" target="_self"><code>Zabbix</code></a><!-- raw HTML omitted -->ä½¿ç”¨çš„æ˜¯<!-- raw HTML omitted --><code>C</code><!-- raw HTML omitted -->å’Œ<!-- raw HTML omitted --><code>PHP</code>, <code>Prometheus</code><!-- raw HTML omitted -->ä½¿ç”¨<!-- raw HTML omitted --><code>Golang</code><!-- raw HTML omitted -->æ•´ä½“è€Œè¨€<!-- raw HTML omitted --><code>Prometheus</code><!-- raw HTML omitted -->è¿è¡Œé€Ÿåº¦æ›´å¿«ä¸€ç‚¹<!-- raw HTML omitted --></li>
<li><code>Zabbix</code><!-- raw HTML omitted -->å±äºä¼ ç»Ÿä¸»æœºç›‘æ§ï¼Œä¸»è¦ç”¨äºç‰©ç†ä¸»æœºã€äº¤æ¢æœºã€ç½‘ç»œç­‰ç›‘æ§ï¼Œ<!-- raw HTML omitted --><code>Prometheus</code><!-- raw HTML omitted -->ä¸ä»…é€‚ç”¨ä¸»æœºç›‘æ§ï¼Œè¿˜é€‚ç”¨äº<!-- raw HTML omitted --><code>Cloud</code>ã€<code>SaaS</code>ã€<code>Openstack</code>ã€<code>Container</code><!-- raw HTML omitted -->ç›‘æ§<!-- raw HTML omitted --></li>
<li><code>Zabbix</code><!-- raw HTML omitted -->åœ¨ä¼ ç»Ÿä¸»æœºç›‘æ§æ–¹é¢ï¼Œæœ‰æ›´ä¸°å¯Œçš„æ’ä»¶<!-- raw HTML omitted --></li>
<li><code>Zabbix</code><!-- raw HTML omitted -->å¯ä»¥åœ¨<!-- raw HTML omitted --><code>WebGui</code><!-- raw HTML omitted -->ä¸­é…ç½®å¾ˆå¤šäº‹æƒ…ï¼Œ<!-- raw HTML omitted --><code>Prometheus</code><!-- raw HTML omitted -->éœ€è¦æ‰‹åŠ¨ä¿®æ”¹æ–‡ä»¶é…ç½®<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<ul>
<li>
<ol start="2">
<li><code>Prometheus vs Nagios</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.nagios.org" rel="external" target="_self"><code>Nagios</code></a><!-- raw HTML omitted -->æ•°æ®ä¸æ”¯æŒè‡ªå®šä¹‰<!-- raw HTML omitted --><code>Labels</code><!-- raw HTML omitted -->, ä¸æ”¯æŒæŸ¥è¯¢ï¼Œå‘Šè­¦ä¹Ÿä¸æ”¯æŒå»å™ªã€åˆ†ç»„, æ²¡æœ‰æ•°æ®å­˜å‚¨ï¼Œå¦‚æœæƒ³æŸ¥è¯¢å†å²çŠ¶æ€ï¼Œéœ€è¦å®‰è£…æ’ä»¶<!-- raw HTML omitted --></li>
<li><code>Nagios</code><!-- raw HTML omitted -->æ˜¯ä¸Šä¸–çºª 90 å¹´ä»£çš„ç›‘æ§ç³»ç»Ÿï¼Œæ¯”è¾ƒé€‚åˆå°é›†ç¾¤æˆ–é™æ€ç³»ç»Ÿçš„ç›‘æ§<!-- raw HTML omitted --><code>Nagios</code><!-- raw HTML omitted -->å¤ªå¤è€ï¼Œå¾ˆå¤šç‰¹æ€§éƒ½æ²¡æœ‰<!-- raw HTML omitted --><code>Prometheus</code><!-- raw HTML omitted -->è¦ä¼˜ç§€å¾ˆå¤š<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<ul>
<li>
<ol start="3">
<li><code>Prometheus vs Sensu</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://sensu.io" rel="external" target="_self"><code>Sensu</code></a><!-- raw HTML omitted -->å¹¿ä¹‰ä¸Šè®²æ˜¯<!-- raw HTML omitted --><code>Nagios</code><!-- raw HTML omitted -->çš„å‡çº§ç‰ˆæœ¬ï¼Œå®ƒè§£å†³äº†å¾ˆå¤š<!-- raw HTML omitted --><code>Nagios</code><!-- raw HTML omitted -->çš„é—®é¢˜ï¼Œå¦‚æœä½ å¯¹<!-- raw HTML omitted --><code>Nagios</code><!-- raw HTML omitted -->å¾ˆç†Ÿæ‚‰ï¼Œä½¿ç”¨<!-- raw HTML omitted --><code>Sensu</code><!-- raw HTML omitted -->æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©<!-- raw HTML omitted --></li>
<li><code>Sensu</code><!-- raw HTML omitted -->ä¾èµ–<!-- raw HTML omitted --><code>RabbitMQ</code><!-- raw HTML omitted -->å’Œ<!-- raw HTML omitted --><code>Redis</code><!-- raw HTML omitted -->ï¼Œæ•°æ®å­˜å‚¨ä¸Šæ‰©å±•æ€§æ›´å¥½<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<ul>
<li>
<ol start="4">
<li><code>Prometheus vs InfluxDB</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.influxdata.com" rel="external" target="_self"><code>InflusDB</code></a><!-- raw HTML omitted -->æ˜¯ä¸€ä¸ªå¼€æºçš„æ—¶åºæ•°æ®åº“ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ•°æ®ï¼Œå¦‚æœæƒ³æ­å»ºç›‘æ§å‘Šè­¦ç³»ç»Ÿï¼Œéœ€è¦ä¾èµ–å…¶ä»–ç³»ç»Ÿ<!-- raw HTML omitted --></li>
<li><code>InfluxDB</code><!-- raw HTML omitted -->åœ¨å­˜å‚¨æ°´å¹³æ‰©å±•ä»¥åŠé«˜å¯ç”¨æ–¹é¢åšçš„æ›´å¥½, æ¯•ç«Ÿæ ¸å¿ƒæ˜¯æ•°æ®åº“<!-- raw HTML omitted --></li>
</ul>
</blockquote>
<hr>
<h3 id="altermanageræ ¸å¿ƒæ¦‚å¿µ"><code>altermanager</code>æ ¸å¿ƒæ¦‚å¿µ</h3>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->åˆ†ç»„<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li>åˆ†ç»„å°†ç±»ä¼¼æ€§è´¨çš„è­¦æŠ¥åˆ†ç±»ä¸ºå•ä¸ªé€šçŸ¥ã€‚åœ¨è®¸å¤šç³»ç»Ÿä¸€æ¬¡æ€§å¤±è´¥å¹¶ä¸”æ•°ç™¾åˆ°æ•°åƒä¸ªè­¦æŠ¥å¯èƒ½åŒæ—¶å‘ç”Ÿçš„è¾ƒå¤§ä¸­æ–­æœŸé—´ï¼Œè¿™å°¤å…¶æœ‰ç”¨</li>
<li>ç¤ºä¾‹ï¼šå‘ç”Ÿç½‘ç»œåˆ†åŒºæ—¶ï¼Œç¾¤é›†ä¸­æ­£åœ¨è¿è¡Œæ•°åæˆ–æ•°ç™¾ä¸ªæœåŠ¡å®ä¾‹ã€‚ä¸€åŠçš„æœåŠ¡å®ä¾‹æ— æ³•å†è®¿é—®æ•°æ®åº“ã€‚<code>Prometheus</code>ä¸­çš„è­¦æŠ¥è§„åˆ™é…ç½®ä¸ºåœ¨æ¯ä¸ªæœåŠ¡å®ä¾‹æ— æ³•ä¸æ•°æ®åº“é€šä¿¡æ—¶å‘é€è­¦æŠ¥ã€‚ç»“æœï¼Œæ•°ç™¾ä¸ªè­¦æŠ¥è¢«å‘é€åˆ°<code>Alertmanager</code></li>
<li>ä½œä¸ºç”¨æˆ·ï¼Œäººä»¬åªæƒ³è·å¾—å•ä¸ªé¡µé¢ï¼ŒåŒæ—¶ä»èƒ½å¤Ÿç¡®åˆ‡åœ°çœ‹åˆ°å“ªäº›æœåŠ¡å®ä¾‹å—åˆ°å½±å“ã€‚å› æ­¤ï¼Œå¯ä»¥å°†<code>Alertmanager</code>é…ç½®ä¸ºæŒ‰ç¾¤é›†å’Œ<code>alertname</code>å¯¹è­¦æŠ¥è¿›è¡Œåˆ†ç»„ï¼Œä»¥ä¾¿å‘é€å•ä¸ªç´§å‡‘é€šçŸ¥</li>
<li>é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„è·¯ç”±æ ‘é…ç½®è­¦æŠ¥çš„åˆ†ç»„ï¼Œåˆ†ç»„é€šçŸ¥çš„å®šæ—¶ä»¥åŠè¿™äº›é€šçŸ¥çš„æ¥æ”¶å™¨</li>
</ul>
</blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted -->æŠ‘åˆ¶<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li>å¦‚æœæŸäº›å…¶ä»–è­¦æŠ¥å·²ç»è§¦å‘ï¼Œåˆ™æŠ‘åˆ¶æ˜¯æŠ‘åˆ¶æŸäº›è­¦æŠ¥çš„é€šçŸ¥çš„æ¦‚å¿µã€‚ç¤ºä¾‹ï¼šæ­£åœ¨è§¦å‘è­¦æŠ¥ï¼Œé€šçŸ¥æ— æ³•è®¿é—®æ•´ä¸ªé›†ç¾¤ã€‚<code>Alertmanager</code>å¯ä»¥é…ç½®ä¸ºåœ¨è¯¥ç‰¹å®šè­¦æŠ¥è§¦å‘æ—¶å°†ä¸è¯¥é›†ç¾¤æœ‰å…³çš„æ‰€æœ‰å…¶ä»–è­¦æŠ¥é™éŸ³ã€‚è¿™å¯ä»¥é˜²æ­¢æ•°ç™¾æˆ–æ•°åƒä¸ªä¸å®é™…é—®é¢˜æ— å…³çš„è§¦å‘è­¦æŠ¥çš„é€šçŸ¥ã€‚é€šè¿‡<code>Alertmanager</code>çš„é…ç½®æ–‡ä»¶é…ç½®ç¦æ­¢</li>
</ul>
</blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted -->æ²‰é»˜<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li>3æ²‰é»˜æ˜¯åœ¨ç»™å®šæ—¶é—´å†…ç®€å•åœ°é™éŸ³è­¦æŠ¥çš„ç®€å•æ–¹æ³•ã€‚åŸºäºåŒ¹é…å™¨é…ç½®é™é»˜ï¼Œå°±åƒè·¯ç”±æ ‘ä¸€æ ·ã€‚æ£€æŸ¥ä¼ å…¥è­¦æŠ¥å®ƒä»¬æ˜¯å¦åŒ¹é…æ´»åŠ¨é™é»˜çš„æ‰€æœ‰ç›¸ç­‰æˆ–æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å™¨ã€‚å¦‚æœä»–ä»¬è¿™æ ·åšï¼Œåˆ™ä¸ä¼šå‘é€è¯¥è­¦æŠ¥çš„é€šçŸ¥ã€‚åœ¨<code>Alertmanager</code>çš„<code>Web</code>ç•Œé¢ä¸­é…ç½®äº†é™éŸ³</li>
</ul>
</blockquote>
<ul>
<li>
<ol start="4">
<li><!-- raw HTML omitted -->å®¢æˆ·ç«¯è¡Œä¸º<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>Alertmanager</code>å¯¹å…¶å®¢æˆ·çš„è¡Œä¸ºæœ‰ç‰¹æ®Šè¦æ±‚ã€‚è¿™äº›ä»…é€‚ç”¨äºä¸ä½¿ç”¨<code>Prometheus</code>å‘é€è­¦æŠ¥çš„é«˜çº§ç”¨ä¾‹</li>
</ul>
</blockquote>
<ul>
<li>
<ol start="5">
<li><!-- raw HTML omitted -->é«˜å¯ç”¨<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>Alertmanager</code>æ”¯æŒé…ç½®ä»¥åˆ›å»ºç”¨äºé«˜å¯ç”¨æ€§çš„é›†ç¾¤ã€‚è¿™å¯ä»¥ä½¿ç”¨<code>--cluster- *</code>æ ‡å¿—è¿›è¡Œé…ç½®ã€‚é‡è¦çš„æ˜¯ä¸è¦åœ¨<code>Prometheus</code>å’Œå®ƒçš„<code>Alertmanagers</code>ä¹‹é—´åŠ è½½å¹³è¡¡æµé‡ï¼Œè€Œæ˜¯å°†<code>Prometheus</code>æŒ‡å‘æ‰€æœ‰<code>Alertmanagers</code>çš„åˆ—è¡¨</li>
</ul>
</blockquote>
<ul>
<li>
<ol start="6">
<li><!-- raw HTML omitted -->ç›‘æ§è¦ç‚¹<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>ç›‘æ§æ–¹å¼</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¡¬ä»¶ç›‘æ§</td>
<td>æ¸©åº¦ã€ç¡¬ä»¶æ•…éšœç­‰</td>
</tr>
<tr>
<td>ç³»ç»Ÿç›‘æ§</td>
<td><code>CPU</code>ã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘å¡æµé‡ã€<code>TCP</code>çŠ¶æ€ã€è¿›ç¨‹æ•°</td>
</tr>
<tr>
<td>åº”ç”¨ç›‘æ§</td>
<td><code>Nginx</code>ã€<code>Tomcat</code>ã€<code>PHP</code>ã€<code>MySQL</code>ã€<code>Redis</code>ç­‰</td>
</tr>
<tr>
<td>æ—¥å¿—ç›‘æ§</td>
<td>ç³»ç»Ÿæ—¥å¿—ã€æœåŠ¡æ—¥å¿—ã€è®¿é—®æ—¥å¿—ã€é”™è¯¯æ—¥å¿—</td>
</tr>
<tr>
<td>å®‰å…¨ç›‘æ§</td>
<td><code>WAF</code>ã€æ•æ„Ÿæ–‡ä»¶ç›‘æ§</td>
</tr>
<tr>
<td><code>API</code>ç›‘æ§</td>
<td>å¯ç”¨æ€§ã€æ¥å£è¯·æ±‚ã€ç›¸åº”æ—¶é—´</td>
</tr>
<tr>
<td>ä¸šåŠ¡ç›‘æ§</td>
<td>ä¾‹å¦‚ç”µå•†ç½‘ç«™ã€æ¯åˆ†é’Ÿç”Ÿæˆå¤šå°‘è®¢å•ã€æ³¨å†Œç”¨æˆ·å¤šå°‘ã€æ¨å¹¿æ´»åŠ¨æ•ˆæœ</td>
</tr>
<tr>
<td>æµé‡åˆ†æ</td>
<td>æ ¹æ®æµé‡è·å–ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·åœ°ç†ä½ç½®ã€æŸé¡µé¢è®¿é—®çŠ¶æ€ã€é¡µé¢åœç•™æ—¶é—´ç­‰</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Counter</code></td>
<td>é€’å¢è®¡æ•°å™¨ <code>eg</code>ï¼š <code>API</code></td>
</tr>
<tr>
<td><code>Gauge</code></td>
<td>å¯ä»¥ä»»æ„å˜åŒ–çš„æ•°å€¼ <code>eg. cpu</code>å ç”¨ç‡</td>
</tr>
<tr>
<td><code>Histogram</code></td>
<td>å¯¹ä¸€æ®µæ—¶é—´èŒƒå›´å†…æ•°æ®è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å¯¹æ‰€æœ‰æ•°å€¼æ±‚å’Œä¸ç»Ÿè®¡æ•°é‡<code>eg</code>æŸ±çŠ¶å›¾</td>
</tr>
<tr>
<td><code>Summary</code></td>
<td>ä¸<code>Histogram</code>ç±»ä¼¼</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="å®‰è£…éƒ¨ç½²">å®‰è£…éƒ¨ç½²</h3>
<h4 id="prometheuså®‰è£…"><code>prometheus</code>å®‰è£…</h4>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted --><a href="https://prometheus.io/docs/prometheus/latest/installation/" rel="external" target="_self"><code>docker</code>å®‰è£…</a><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mkdir -p /opt/prometheus/<span style="color:#f92672">{</span>conf,logs,data<span style="color:#f92672">}</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker run --detach --name prometheus <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--restart always --publish 19090:9090 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--volume /opt/prometheus/data:/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--volume /opt/prometheus/conf:/etc/prometheus <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--config.file<span style="color:#f92672">=</span>/opt/prometheus/conf/prometheus.yml <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>prom/prometheus:v2.40.0  	<span style="color:#75715e"># --config.file ä½¿ç”¨é¢å¤–å·</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat &gt;/opt/docker-compost/prometheus/docker-compose.yml<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">version: &#34;3&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">services:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">prometheus:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">container_name: prometheus  # å¯åŠ¨ååç§°
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">image: &#39;prom/prometheus:v2.40.0&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># image: &#39;prom/prometheus:v2.40.4&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># image: &#39;prom/prometheus:v2.40.3&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">restart: always
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">hostname: &#39;prometheus&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">environment:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  TZ: Asia/Shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ports:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;19090:9090&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      volumes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;/opt/prometheus/data:/data&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;/opt/prometheus/conf:/etc/prometheus&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker-compose up -d</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted --><a href="https://prometheus.io/docs/prometheus/latest/getting_started/" rel="external" target="_self">äºŒè¿›åˆ¶å®‰è£…</a><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /opt/src <span style="color:#f92672">&amp;&amp;</span> wget https://github.com/prometheus/prometheus/releases/download/v2.40.0/prometheus-2.40.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ tar -zxf prometheus-2.40.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ mv prometheus-2.40.0.linux-amd64 prometheus  
</span></span><span style="display:flex;"><span>$ chown root.root prometheus -R </span></span></code></pre></div><ul>
<li>2.1 <!-- raw HTML omitted -->ç¼–å†™å¯åŠ¨æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/lib/systemd/system/prometheus.service <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=Prometheus
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Documentation=https://prometheus.io/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/opt/prometheus/prometheus --config.file=/opt/prometheus/prometheus.yml
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecReload=/bin/kill -HUP $MAINPID
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=on-failure  	# æˆ–è€…ä½¿ç”¨ always
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">StandardOutput=syslog
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">StandardError=syslog
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">SyslogIdentifier=prometheus
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">User=user_name
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Group=user_name
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">LimitNOFILE=65535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li>å¯åŠ¨æœåŠ¡ã€ä»¥åŠè®¾ç½®å¼€æœºè‡ªå¯<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nohup ./prometheus --config.file<span style="color:#f92672">=</span>prometheus.yml 2&gt;&amp;<span style="color:#ae81ff">1</span> 1&gt;prometheus.log &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ systemctl enable prometheus
</span></span><span style="display:flex;"><span>$ systemctl start prometheus</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹æœåŠ¡<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ netstat -lntup |grep prometheus
</span></span><span style="display:flex;"><span>tcp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9090                 :::*                    LISTEN      16655/prometheus</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted -->æºç å®‰è£…<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ go get github.com/prometheus/prometheus/cmd/...  
</span></span><span style="display:flex;"><span>$ prometheus --config.file<span style="color:#f92672">=</span>your_config.yml  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æˆ–è€…make build  </span>
</span></span><span style="display:flex;"><span>$ mkdir -p $GOPATH/src/github.com/prometheus
</span></span><span style="display:flex;"><span>$ cd $GOPATH/src/github.com/prometheus
</span></span><span style="display:flex;"><span>$ git clone https://github.com/prometheus/prometheus.git
</span></span><span style="display:flex;"><span>$ cd prometheus
</span></span><span style="display:flex;"><span>$ make build
</span></span><span style="display:flex;"><span>$ ./prometheus --config.file<span style="color:#f92672">=</span>your_config.yml</span></span></code></pre></div></blockquote>
<hr>
<h4 id="alertmanagerå®‰è£…"><code>alertmanager</code>å®‰è£…</h4>
<ul>
<li>
<ol>
<li><code>docker</code><!-- raw HTML omitted -->å®‰è£…<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://quay.io/repository/prometheus/alertmanager?tab=tags&tag=latest" rel="external" target="_self"><code>Alertmanager</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mkdir -p /opt/alertmanager/<span style="color:#f92672">{</span>conf,logs,data<span style="color:#f92672">}</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker run --detach --name alertmanager <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --restart always --publish 19093:9093 --publish 19094:9094 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --volume /opt/alertmanager/data:/data <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --volume /opt/alertmanager/conf:/etc/alertmanager <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  quay.io/prometheus/alertmanager:latest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat &gt;/opt/docker-compost/alertmanager/docker-compose.yml<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">version: &#34;3&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  services:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    alertmanager:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      container_name: alertmanager  # å¯åŠ¨ååç§°
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      image: &#39;quay.io/prometheus/alertmanager:latest&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      # image: &#39;quay.io/prometheus/alertmanager:v0.24.0&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      # image: &#39;quay.io/prometheus/alertmanager:v0.23.0&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      restart: always
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      hostname: &#39;alertmanager&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      environment:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        TZ: Asia/Shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      ports:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;19093:9093&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;19094:9094&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      volumes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;/opt/alertmanager/data:/data&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        - &#39;/opt/alertmanager/conf:/etc/alertmanager&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker-compose up -d</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted -->äºŒè¿›åˆ¶å®‰è£…<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /opt <span style="color:#f92672">&amp;&amp;</span> wget -c https://github.com/prometheus/alertmanager/releases/download/v0.24.0/alertmanager-0.24.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ tar zxf alertmanager-0.24.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ mv alertmanager-0.24.0.linux-amd64 alertmanager
</span></span><span style="display:flex;"><span>$ chown root.root alertmanager -R</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->ç¼–å†™å¯åŠ¨æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/lib/systemd/system/alertmanager.service <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=Alertmanager
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Documentation=https://prometheus.io/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/opt/alertmanager/alertmanager --config.file=/opt/alertmanager/alertmanager.yml
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=on-failure
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->å¯åŠ¨æœåŠ¡ã€ä»¥åŠè®¾ç½®å¼€æœºè‡ªå¯<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nohup ./alertmanager --config.file<span style="color:#f92672">=</span>alertmanager.yml 2&gt;&amp;<span style="color:#ae81ff">1</span> 1&gt;alertmanager.log &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ systemctl enable alertmanager
</span></span><span style="display:flex;"><span>$ systemctl start alertmanager</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹å¯åŠ¨æœåŠ¡çš„ç«¯å£<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ netstat -lntup |grep alertmanager
</span></span><span style="display:flex;"><span>tcp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9094                 :::*                    LISTEN      17237/alertmanager
</span></span><span style="display:flex;"><span>tcp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9093                 :::*                    LISTEN      17237/alertmanager
</span></span><span style="display:flex;"><span>udp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9094                 :::*                                17237/alertmanager</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted -->ç¼–è¯‘å®‰è£…<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ GO15VENDOREXPERIMENT<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> go get github.com/prometheus/alertmanager/cmd/...
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cd $GOPATH/src/github.com/prometheus/alertmanager</span>
</span></span><span style="display:flex;"><span>$ alertmanager --config.file<span style="color:#f92672">=</span>&lt;your_file&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ‰‹åŠ¨æºç æ„å»º</span>
</span></span><span style="display:flex;"><span>$ mkdir -p $GOPATH/src/github.com/prometheus
</span></span><span style="display:flex;"><span>$ cd $GOPATH/src/github.com/prometheus
</span></span><span style="display:flex;"><span>$ git clone https://github.com/prometheus/alertmanager.git
</span></span><span style="display:flex;"><span>$ cd alertmanager
</span></span><span style="display:flex;"><span>$ make build
</span></span><span style="display:flex;"><span>$ ./alertmanager --config.file<span style="color:#f92672">=</span>&lt;your_file&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># amtoolæ„å»º</span>
</span></span><span style="display:flex;"><span>$ make build BINARIES<span style="color:#f92672">=</span>amtool</span></span></code></pre></div></blockquote>
<hr>
<h4 id="èŠ‚ç‚¹å®‰è£…node_export">èŠ‚ç‚¹å®‰è£…<code>node_export</code></h4>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->åˆ©ç”¨<!-- raw HTML omitted --><code>node_export</code><!-- raw HTML omitted -->æ¥ç›‘æ§ä¸»æœºï¼Œå®˜æ–¹ä¹Ÿæä¾›äº†å¾ˆå¤šå…¶ä»–çš„<!-- raw HTML omitted --><code>export</code><!-- raw HTML omitted -->å¯ä»¥ç”¨æ¥ç›´æ¥ä½¿ç”¨<!-- raw HTML omitted --></li>
<li><a href="https://prometheus.io/docs/instrumenting/exporters/" rel="external" target="_self"><code>EXPORTERS AND INTEGRATIONS</code></a></li>
<li><a href="https://prometheus.io/docs/guides/node-exporter/" rel="external" target="_self">ä½¿ç”¨<code>NODE EXPORTER</code>ç›‘æ§<code>LINUX</code>ä¸»æœºæŒ‡æ ‡</a></li>
<li><a href="https://grafana.com/grafana/dashboards/8919-1-node-exporter-for-prometheus-dashboard-cn-0413-consulmanager/" rel="external" target="_self"><code>1 Node Exporter Dashboard 22/04/13 ConsulManager</code>è‡ªåŠ¨åŒæ­¥ç‰ˆ</a></li>
</ul>
</blockquote>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->äºŒè¿›åˆ¶å®‰è£…  <!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /opt <span style="color:#f92672">&amp;&amp;</span> wget -c https://github.com/prometheus/node_exporter/releases/download/v1.4.0/node_exporter-1.4.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ tar zxvf node_exporter-1.4.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ mv node_exporter-1.4.0.linux-amd64 node_exporter
</span></span><span style="display:flex;"><span>$ chown root.root node_exporter -R</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->ç¼–å†™å¯åŠ¨æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/lib/systemd/system/node_exporter.service <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=node_exporter
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Documentation=https://prometheus.io/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/opt/node_exporter/node_exporter
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=on-failure
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->å¯åŠ¨æœåŠ¡ã€ä»¥åŠè®¾ç½®å¼€æœºè‡ªå¯<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nohup ./node_exporter --config.file<span style="color:#f92672">=</span>node_exporter.yml 2&gt;&amp;<span style="color:#ae81ff">1</span> 1&gt;node_exporter.log &amp;  
</span></span><span style="display:flex;"><span>$ systemctl enable node_exporter
</span></span><span style="display:flex;"><span>$ systemctl start node_exporter</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹å¯åŠ¨çš„æœåŠ¡ç«¯å£<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ netstat -lntup |grep node_export
</span></span><span style="display:flex;"><span>tcp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9100                 :::*                    LISTEN      4551/node_exporter</span></span></code></pre></div></blockquote>
<hr>
<h4 id="éƒ¨ç½²cadvisoré‡‡é›†æº">éƒ¨ç½²<code>cAdvisor</code>é‡‡é›†æº</h4>
<ul>
<li>
<ol>
<li><code>Docker</code><!-- raw HTML omitted -->éƒ¨ç½²<!-- raw HTML omitted --><code>cAdvisor</code></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://grafana.com/grafana/dashboards/893-main/" rel="external" target="_self"><code>Docker and system monitoring Grafana dashboard</code></a></li>
<li><a href="https://grafana.com/grafana/dashboards/10585-docker-dashboard/" rel="external" target="_self"><code>Grafana Docker Dashboard</code></a></li>
<li><a href="https://grafana.com/grafana/dashboards/16314-docker-container-os-node-node-exporter-cadvisor/?tab=revisions" rel="external" target="_self"><code>docker container &amp; OS node(node_exporter, cadvisor)</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker run -d --name<span style="color:#f92672">=</span>cadvisor <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -p 8080:8080 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v /:/rootfs:ro <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v /var/run:/var/run:rw <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v /sys:/sys:ro <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -v /var/lib/docker/:/var/lib/docker:ro <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  google/cadvisor:v0.33.0</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹æŒ‡æ ‡<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ http://&lt;ç›®æ ‡èŠ‚ç‚¹IP&gt;:8080/metrics</span></span></code></pre></div></blockquote>
<hr>
<h4 id="æ•°æ®åº“æœåŠ¡å™¨éƒ¨ç½²mysqld_exporter">æ•°æ®åº“æœåŠ¡å™¨éƒ¨ç½²<code>mysqld_exporter</code></h4>
<blockquote>
<ul>
<li><a href="https://grafana.com/grafana/dashboards/17320-1-mysqld-exporter-dashboard-22-11-06/" rel="external" target="_self"><code>1 Mysqld Exporter Dashboard 22/11/06ä¸­æ–‡ç‰ˆ</code></a></li>
</ul>
</blockquote>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->äºŒè¿›åˆ¶å®‰è£…  <!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /opt <span style="color:#f92672">&amp;&amp;</span> wget https://github.com/prometheus/mysqld_exporter/releases/download/v0.14.0/mysqld_exporter-0.14.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ tar zxvf mysqld_exporter-0.14.0.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ mv mysqld_exporter-0.14.0.linux-amd64 mysqld_exporter  
</span></span><span style="display:flex;"><span>$ chown -R root. mysqld_exporter  </span></span></code></pre></div><ul>
<li><code>mysqld_exporter</code><!-- raw HTML omitted -->éœ€è¦è¿æ¥<!-- raw HTML omitted --><code>Mysql</code><!-- raw HTML omitted -->ï¼Œé¦–å…ˆä¸ºå®ƒåˆ›å»ºç”¨æˆ·å¹¶èµ‹äºˆæ‰€éœ€çš„æƒé™<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> REPLICATION CLIENT, PROCESS <span style="color:#66d9ef">ON</span> <span style="color:#f92672">*</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;exporter&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;123456&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">ON</span> performance_schema.<span style="color:#f92672">*</span> <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;exporter&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">flush</span> <span style="color:#66d9ef">privileges</span>;</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->åœ¨æ•°æ®åº“æœåŠ¡å™¨<!-- raw HTML omitted --><code>mysqld_exporter</code><!-- raw HTML omitted -->ç›®å½•ä¸‹åˆ›å»º<!-- raw HTML omitted --><code>.my.cnf</code><!-- raw HTML omitted -->æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/opt/mysqld_exporter/.my.cnf<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[client]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user=mysql_monitor
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">password=mysql_monitor
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->ç¼–å†™å¯åŠ¨æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/lib/systemd/system/mysqld_exporter.service <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=mysql_exporter
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Documentation=https://prometheus.io/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/opt/mysqld_exporter/mysqld_exporter --config.my-cnf=/opt/mysqld_exporter/.my.cnf 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=on-failure
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->å¯åŠ¨æœåŠ¡ã€ä»¥åŠè®¾ç½®å¼€æœºè‡ªå¯<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ./mysqld_exporter  --config.my-cnf<span style="color:#f92672">=</span>/opt/mysqld_exporter/.my.cnf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ systemctl enable mysqld_exporter
</span></span><span style="display:flex;"><span>$ systemctl start mysqld_exporter</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹å¯åŠ¨çš„æœåŠ¡ç«¯å£<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ss -unplt|grep mysqld_exporter
</span></span><span style="display:flex;"><span>tcp    LISTEN     <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">128</span>    <span style="color:#f92672">[</span>::<span style="color:#f92672">]</span>:9104               <span style="color:#f92672">[</span>::<span style="color:#f92672">]</span>:*                   users:<span style="color:#f92672">((</span><span style="color:#e6db74">&#34;mysqld_exporter&#34;</span>,pid<span style="color:#f92672">=</span>7339,fd<span style="color:#f92672">=</span>3<span style="color:#f92672">))</span></span></span></code></pre></div></blockquote>
<hr>
<h4 id="éƒ¨ç½²pushgatewayæ¨é€ç½‘å…³">éƒ¨ç½²<code>pushgateway</code>(æ¨é€ç½‘å…³)</h4>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->äºŒè¿›åˆ¶å®‰è£…  <!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cd /opt <span style="color:#f92672">&amp;&amp;</span> wget -c https://github.com/prometheus/pushgateway/releases/download/v1.4.3/pushgateway-1.4.3.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ tar zxf pushgateway-1.4.3.linux-amd64.tar.gz
</span></span><span style="display:flex;"><span>$ mv pushgateway-1.4.3.linux-amd64 pushgateway
</span></span><span style="display:flex;"><span>$ chown root.root pushgateway -R</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->ç¼–å†™å¯åŠ¨æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/usr/lib/systemd/system/pushgateway.service <span style="color:#e6db74">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Unit]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Description=pushgateway
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Documentation=https://prometheus.io/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">After=network.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Service]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Type=simple
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ExecStart=/opt/pushgateway/pushgateway
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Restart=on-failure
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[Install]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">WantedBy=multi-user.target
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->å¯åŠ¨æœåŠ¡ã€ä»¥åŠè®¾ç½®å¼€æœºè‡ªå¯<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ nohup ./pushgateway --config.file<span style="color:#f92672">=</span>node_exporter.yml 2&gt;&amp;<span style="color:#ae81ff">1</span> 1&gt;node_exporter.log &amp;  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ systemctl enable pushgateway
</span></span><span style="display:flex;"><span>$ systemctl start pushgateway</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æŸ¥çœ‹å¯åŠ¨çš„æœåŠ¡ç«¯å£<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ netstat -lntup |grep push
</span></span><span style="display:flex;"><span>tcp6       <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> :::9091                 :::*                    LISTEN      5982/pushgateway</span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../../js/clipboard.min.js?1724932929" defer></script>
    <script src="../../../../js/perfect-scrollbar.min.js?1724932929" defer></script>
    <script src="../../../../js/theme.js?1724932929" defer></script>
  </body>
</html>

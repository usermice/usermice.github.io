<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <meta name="author" content="二哥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Use_Linux :: Hugo Relearn Theme">
    <meta property="og:url" content="https://erge.blog/systems/linux/use_linux/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Use_Linux :: Hugo Relearn Theme">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Use_Linux :: Hugo Relearn Theme">
    <meta itemprop="datePublished" content="2024-06-19T13:32:52+08:00">
    <meta itemprop="dateModified" content="2024-06-19T13:32:52+08:00">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Use_Linux :: Hugo Relearn Theme</title>
    <link href="../../../images/favicon.ico?1719590823" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../css/fontawesome-all.min.css?1719590824" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fontawesome-all.min.css?1719590824" rel="stylesheet"></noscript>
    <link href="../../../css/nucleus.css?1719590824" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1719590824" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/auto-complete.css?1719590824" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar.min.css?1719590824" rel="stylesheet">
    <link href="../../../css/fonts.css?1719590824" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fonts.css?1719590824" rel="stylesheet"></noscript>
    <link href="../../../css/theme.css?1719590824" rel="stylesheet">
    <link href="../../../css/theme-relearn-auto.css?1719590824" rel="stylesheet" id="R-variant-style">
    <link href="../../../css/chroma-relearn-auto.css?1719590824" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../css/variant.css?1719590824" rel="stylesheet">
    <link href="../../../css/print.css?1719590824" rel="stylesheet" media="print">
    <link href="../../../css/format-print.css?1719590824" rel="stylesheet">
    <script src="../../../js/variant.js?1719590824"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../systems/linux/use_linux/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Use_Linux</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/docker/install_docker/" title="Install_Docker (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/use_linux/system_optimization/" title="System_Optimization (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="use_linux">Use_Linux</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Use_Linux</h1>
          <article class="default">
            <header class="headline">
            </header>

<h1 id="system_optimization">System_Optimization</h1>

<h2 id="linux系统优化"><code>Linux</code>系统优化</h2>
<h3 id="系统初始化">系统初始化</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install vim lrzsz epel-release
</span></span><span style="display:flex;"><span>$ yum -y update
</span></span><span style="display:flex;"><span>$ setenforce <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> sed -i <span style="color:#e6db74">&#34;s/SELINUX=enforcing/SELINUX=disabled/g&#34;</span> /etc/selinux/config</span></span></code></pre></div></blockquote>
<hr>
<h3 id="优化系统内核">优化系统内核</h3>
<ul>
<li>
<ol>
<li><a href="https://wiki.archlinux.org/title/sysctl#Installation" rel="external" target="_self">系统控制</a></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo  <span style="color:#e6db74">&#34;# 所有配置都是：0：为关闭，1：为开启
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 关闭ipv6
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.all.disable_ipv6 = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.disable_ipv6 = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 调整 IPv6
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.router_solicitations = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.accept_ra_rtr_pref = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.accept_ra_pinfo = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.accept_ra_defrtr = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.autoconf = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.dad_transmits = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.max_addresses = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 忽略 ICMP 回显请求、设置服务器禁ping
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.icmp_echo_ignore_all = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.icmp.echo_ignore_all = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 避免放大攻击
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.icmp_echo_ignore_broadcasts = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 开启恶意icmp错误消息保护
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.icmp_ignore_bogus_error_responses = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 开启/关闭路由转发 1：为开启，0：为关闭
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.ip_forward = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.forwarding = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.all.forwarding = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 开启反向路径过滤、通过启用反向路径过滤，内核将对从机器上所有接口接收到的数据包进行源验证。这可以防止攻击者使用 IP 欺骗方法造成伤害
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.rp_filter = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.rp_filter = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 打开并记录欺骗、源路由和重定向数据包
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.log_martians = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.log_martians = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 处理无源路由的包
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.accept_source_route = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.accept_source_route = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 关闭sysrq功能
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.sysrq = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># core文件名中添加pid作为扩展名
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.core_uses_pid = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># TCP/IP 堆栈加固、开启SYNCookies,当出现SYN等待队列溢出时,启用cookies 来处理
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_syncookies = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 修改消息队列长度
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.msgmnb = 65536
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.msgmax = 65536
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 优化 LB 端口使用 增加系统文件描述符限制
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fs.file-max = 65535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 允许更多的 PID（以减少翻转问题）； 可能会破坏某些程序 32768
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.pid_max = 65535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 设置最大内存共享段大小bytes
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.shmmax = 68719476736
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel.shmall = 4294967296
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 启用timewait快速回收
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_tw_recycle = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_sack = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_window_scaling = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 增加专用于网络接口的内存
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.rmem_default = 1048576
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.rmem_max = 16777216
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.wmem_default = 1048576
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.wmem_max = 16777216
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.optmem_max = 65536
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_rmem = 4096 1048576 2097152
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_wmem = 4096 65536 16777216
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.udp_rmem_min = 8192
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.udp_wmem_min = 8192
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 启用 TCP 快速打开、通过在发送方的初始 TCP SYN 期间启用数据交换来帮助减少网络延迟。使用该值3而不是默认值1允许
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_fastopen = 3
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 增加最大连接数、警告：增加此值可能只会提高高负载服务器的性能，并可能导致处理速度变慢（例如单线程阻塞服务器）或工作线程/进程数量不足
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.core.somaxconn = 8192
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 下述内存单位是页，而不是字节。可参考的优化值是:786432 1048576 1572864
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.ipv4.tcp_tw_len = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 增加接收队列的大小、每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.core.netdev_max_backlog = 262144
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 限制仅仅是为了防止简单的DoS 攻击
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_max_orphans = 3276800
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 调整挂起的连接处理、未收到客户端确认信息的连接请求的最大值
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_max_syn_backlog = 8192
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 等待时间，默认是:180000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_max_tw_buckets = 6000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 开启重用。允许将TIME-WAIT sockets 重新用于新的TCP 连接
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_tw_reuse = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_fin_timeout = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_slow_start_after_idle = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># TCP 时间戳
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_timestamps = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 内核放弃建立连接之前发送SYNACK 包的数量
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_synack_retries = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 内核放弃建立连接之前发送SYN 包的数量
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_syn_retries = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_mem = 94500000 915000000 927000000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 启用 MTU 探测、最大传输单元 (MTU)越长，性能越好，但可靠性越差
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.ipv4.tcp_mtu_probing = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 更改 TCP 保活参数、当keepalive 起用的时候，TCP 发送keepalive 消息的频度。缺省是2 小时
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_keepalive_time = 60
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_keepalive_intvl = 10
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_keepalive_probes = 6
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_keepalive_time = 30
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 增加临时端口范围、允许系统打开的端口范围
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.ip_local_port_range = 1024 65000
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 修改防火墙表大小，默认65536
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.netfilter.nf_conntrack_max=655350
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.netfilter.nf_conntrack_tcp_timeout_established=1200
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 可选值：0、1、2，1， 表示内核允许分配所有的物理内存，而不管当前的内存状态如何
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">vm.overcommit_memory=1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">vm.swappiness = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 禁用 ICMP 重定向、确保无人能修改路由表
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.accept_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.accept_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.secure_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.secure_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.all.accept_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv6.conf.default.accept_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 在非路由器上禁用 ICMP 重定向发送
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.all.send_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.conf.default.send_redirects = 0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># Other tunings
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">net.ipv4.tcp_no_metrics_save = 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">vm.min_free_kbytes = 65536
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 启用 BBR 拥塞控制算法可以帮助实现更高的带宽和更低的互联网流量延迟。首先，加载模块tcp_bbr。
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.core.default_qdisc = cake
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># net.ipv4.tcp_congestion_control = bbr
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 将脏字节设置为足够小的值、例如 4M
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># vm.dirty_background_bytes = 4194304
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># vm.dirty_bytes = 4194304
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># 磁盘IO配置，linux会设置40%的可用内存用来做系统cache，当flush数据时这40%内存中的数据由于和IO同步问题导致超时(120s)，所将40%减小到10%，避免超时
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># vm.dirty_ratio=10
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># vm.dirty_background_ratio=5
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># nfs
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fs.nfs.nfs_callback_tcpport = 32764
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fs.nfs.nlm_tcpport = 32768
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fs.nfs.nlm_udpport = 32768 &#34;</span> &gt;&gt; /etc/sysctl.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sysctl -p  	<span style="color:#75715e"># 重载使之生效</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="修改系统ulimit">修改系统<code>Ulimit</code></h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 临时修改</span>
</span></span><span style="display:flex;"><span>$ ulimit -n <span style="color:#ae81ff">65535</span>  	
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 写到配置文件永久生效</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* soft nproc 65535  	# soft 软限制
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* hard nproc 65535  	# hard 硬限制
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">root soft nofile 65535  	# 针对用户单独做限制
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">root hard nofile 65535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* soft nofile 25535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* hard nofile 25535
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* soft memlock unlimited
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* soft memlock unlimited &#34;</span> &gt;&gt;/etc/security/limits.conf</span></span></code></pre></div></blockquote>
<hr>
<h3 id="修改sshd">修改<code>sshd</code></h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;AllowUsers myadmin@0.0.0.0/0&#34;</span> &gt;&gt;/etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;AllowUsers myadmin@192.168.0.115&#34;</span> &gt;&gt;/etc/ssh/sshd_config  	<span style="color:#75715e"># 限制用指定IP登录</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 禁止root用户远程登录服务器</span>
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/#PermitRootLogin yes/PermitRootLogin no/g&#34;</span> /etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>$ systemctl restart sshd  </span></span></code></pre></div></blockquote>
<hr>
<h3 id="优化系统服务cgroup">优化系统服务<code>Cgroup</code></h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 限制CPU</span>
</span></span><span style="display:flex;"><span>$ mkdir /sys/fs/cgroup/cpu,cpuacct/cgroup_mysql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;30000&#34;</span> &gt;/sys/fs/cgroup/cpu,cpuacct/cgroup_mysql/cpu.cfs_quota_us
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;mysql pid&#34;</span> &gt;/sys/fs/cgroup/cpu,cpuacct/cgroup_mysql/task
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 限制内存， 限制单位为：字节(Bytes)</span>
</span></span><span style="display:flex;"><span>$ mkdir /sys/fs/cgroup/memory/cgroup_mysql
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;1073741824&#34;</span> &gt;/sys/fs/cgroup/memory/cgroup_mysql/memory.limit_in_bytes  	<span style="color:#75715e"># 1G 为：1073741824Bytes(字节)</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;mysql pid&#34;</span> &gt;/sys/fs/cgroup/memory/cgroup_mysql/task</span></span></code></pre></div></blockquote>
<hr>
<h3 id="优化histsize显示操作时间连接ip以及用户">优化<code>HISTSIZE</code>显示操作时间、连接<code>IP</code>以及用户</h3>
<ul>
<li>
<ol>
<li><a href="https://www.51cto.com/article/639680.html" rel="external" target="_self">谁动了我的主机? 之活用<code>History</code>命令</a></li>
</ol>
</li>
<li>
<ol start="2">
<li><a href="https://ftp.gnu.org/gnu/" rel="external" target="_self">下载<code>GNU</code>软件</a></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 监控登陆过系统的用户、IP地址、操作命令以及操作时间</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;export HISTTIMEFORMAT=&#34;</span>%F %T <span style="color:#e6db74">`</span>who <span style="color:#ae81ff">\-</span>u am i 2&gt;/dev/null | awk <span style="color:#e6db74">&#39;{print $NF}&#39;</span> | sed <span style="color:#ae81ff">\-</span>e <span style="color:#e6db74">&#39;s/[()]//g&#39;</span><span style="color:#e6db74">`</span> <span style="color:#e6db74">`</span>whoami<span style="color:#e6db74">`</span> <span style="color:#e6db74">&#34;&#34;</span> &gt;&gt;/etc/profile.d/history.sh</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted --><code>Ubuntu</code>安装<code>messages</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo apt-get install --reinstall rsyslog
</span></span><span style="display:flex;"><span>$ cat &gt;/etc/rsyslog.d/50-default.conf<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">*.=info;*.=notice;*.=warn;\  	# 31 行左右取消注释
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     auth,authpriv.none;\
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     cron,daemon.none;\
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     mail,news.none          -/var/log/messages
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>$ sudo service rsyslog restart</span></span></code></pre></div><ul>
<li>3.1 <!-- raw HTML omitted --><code>Ubuntu</code>安装<code>bash</code><!-- raw HTML omitted --></li>
</ul>
<p><a href="#R-image-113b1f1d9df1f081caf40f7935769547" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Snipaste_2023-03-02_18-13-52.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-113b1f1d9df1f081caf40f7935769547"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Snipaste_2023-03-02_18-13-52.png"></a></p>
<p><a href="#R-image-6cdfabec3b163ed9af06dcac38a084de" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/imgs/master/System-Architecture-Planning-Diagram/Snipaste_2023-03-02_18-15-53.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6cdfabec3b163ed9af06dcac38a084de"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/imgs/master/System-Architecture-Planning-Diagram/Snipaste_2023-03-02_18-15-53.png"></a></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo wget https://ftp.gnu.org/gnu/bash/bash-5.2.tar.gz
</span></span><span style="display:flex;"><span>$ sudo tar zxvf bash-5.2.tar.gz
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 修改配置文件</span>
</span></span><span style="display:flex;"><span>$ cat &gt;/usr/local/src/bash-5.2/bashhist.c<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">hdrlen = snprintf (loghdr, sizeof(loghdr), &#34;HISTORY: PID=%d UID=%d User=%s &#34;, getpid(), current_user.uid, current_user.user_name, line);  	# 843 行左右添加 User=%s current_user.user_name, line
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat &gt;/usr/local/src/bash-5.2/config-top.h<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/* #define SSH_SOURCE_BASHRC */  	# 113 行左右复制一份 去掉注释
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#define SSH_SOURCE_BASHRC
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/* #define SYSLOG_HISTORY */  	# 128 行左右复制一份 去掉注释
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#define SYSLOG_HISTORY
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 配置、编译、安装</span>
</span></span><span style="display:flex;"><span>$ sudo ./configure --prefix<span style="color:#f92672">=</span>/usr/local/bash
</span></span><span style="display:flex;"><span>$ sudo make
</span></span><span style="display:flex;"><span>$ sudo make install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 修改用户环境文件</span>
</span></span><span style="display:flex;"><span>$ cat &gt;/etc/passwd<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">user_name:x:1000:1000:user_name:/home/user_name:/usr/local/bash/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="安装配置linux系统的irq均衡工具irqbalance-">安装配置<code>Linux</code>系统的<code>IRQ</code>均衡工具<code>Irqbalance </code></h3>
<ul>
<li>
<ol>
<li>安装配置</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo apt-get update
</span></span><span style="display:flex;"><span>$ sudo apt-get install irqbalance
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sudo cat &gt;&gt;/etc/default/irqbalance<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ENABLED=&#34;1&#34;  	# ENABLED=1 表示启用
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">BALANCE_INTERVAL=1  	# BALANCE_INTERVAL=1 表示每秒进行一次 IRQ 均衡
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sudo systemctl restart irqbalance.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 检查是否生效</span>
</span></span><span style="display:flex;"><span>$ cat /proc/interrupts</span></span></code></pre></div></blockquote>
<hr>
<h3 id="关闭透明大页">关闭透明大页</h3>
<ul>
<li>
<ol>
<li>修改<code>grub.conf</code>文件</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 确实是否开启</span>
</span></span><span style="display:flex;"><span>$ cat /sys/kernel/mm/redhat_transparent_hugepage/enabled
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>always<span style="color:#f92672">]</span> madvise never  	<span style="color:#75715e"># [always] 表示开启</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ grep HugePage /proc/meminfo
</span></span><span style="display:flex;"><span>AnonHugePages:    <span style="color:#ae81ff">585728</span> kB  	<span style="color:#75715e"># 不是 0 就代表启动</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 修改grub.conf文件</span>
</span></span><span style="display:flex;"><span>$ cat &gt;&gt;/etc/grub.conf<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel /vmlinuz-2.6.32-431.el6.x86_64 ro root=/dev/mapper/vg_linuxbase-lv_root rd_NO_LUKS LANG=en_US.UTF-8 rd_LVM_LV=vg_linuxbase/lv_root rd_NO_MD rd_LVM_LV=vg_linuxbase/lv_swap SYSFONT=latarcyrheb-sun16 crashkernel=auto  KEYBOARDTYPE=pc KEYTABLE=us rd_NO_DM rhgb quiet transparent_hugepage=never  	# 在kernel 行新添参数配置
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 重启主机</span>
</span></span><span style="display:flex;"><span>$ shutdown -Fr now</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li>使用脚本方式</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> test -f /sys/kernel/mm/transparent_hugepage/enabled; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span> echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> test -f /sys/kernel/mm/transparent_hugepage/defrag; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span> echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="调节cpu频率">调节CPU频率</h3>
<ul>
<li>
<ol>
<li>不安装工具方式</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo cat /proc/cpuinfo | sudo grep MHz
</span></span><span style="display:flex;"><span>$ sudo echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor &gt;/dev/null</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li>使用<code>cpupower</code>工具</li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo apt-get install linux-cpupower -y 或者 apt-get install -y linux-tools-<span style="color:#66d9ef">$(</span>uname -r<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>$ sudo cpupower -c all frequency-set -g performance  	<span style="color:#75715e"># 设置所有CPU为性能模式</span>
</span></span><span style="display:flex;"><span>$ sudo cpupower -c all frequency-set -g powersave  	<span style="color:#75715e"># 设置所有CPU为节能模式</span>
</span></span><span style="display:flex;"><span>$ sudo cpupower -c all frequency-info  	<span style="color:#75715e"># 查看当前所有CPU的信息</span>
</span></span><span style="display:flex;"><span>$ sudo watch -n <span style="color:#ae81ff">1</span> cpupower monitor  	<span style="color:#75715e"># CPU实时频率查看</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="修改系统io调度算法">修改系统<code>I/O</code>调度算法</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo cat /sys/block/sda/queue/scheduler  	<span style="color:#75715e"># sda 磁盘名称 </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mq-deadline<span style="color:#f92672">]</span> none  	<span style="color:#75715e"># 代表使用得是 [mq-deadline]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 临时修改为：noop 算法</span>
</span></span><span style="display:flex;"><span>$ echo noop &gt;/sys/block/sda/queue/scheduler
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 永久生效</span>
</span></span><span style="display:flex;"><span>$ cp -p /boot/grub/menu.lst /boot/grub/menu.lst-backup  	<span style="color:#75715e"># 提前备份配置文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sudo cat &gt;&gt;/boot/grub/menu.lst<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">kernel /vmlinuz-2.6.16.60-0.91.1-smp root=/dev/sysvg/root splash=silent splash=off showopts elevator=noop  	# 行最后添加
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="system_architecture_planning_diagram">System_Architecture_Planning_Diagram</h1>

<h2 id="system-architecture-planning-diagram"><code>System Architecture Planning Diagram</code></h2>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->在线协同编写系统<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th><a href="https://github.com/phachon/mm-wiki" rel="external" target="_self"><code>MM-wiki</code></a></th>
<th><a href="https://github.com/requarks/wiki" rel="external" target="_self"><code>WiKi.js</code></a></th>
<th><a href="https://www.atlassian.com/zh/software/confluence" rel="external" target="_self"><code>Confluence</code></a></th>
<th><a href="https://github.com/GitbookIO/gitbook" rel="external" target="_self"><code>GitBook</code>多人协作文档</a>、<!-- raw HTML omitted --><a href="https://zhuanlan.zhihu.com/p/108276695" rel="external" target="_self"><code>GitBook</code>安装部署实操手册</a>、<!-- raw HTML omitted --><a href="https://cloud.tencent.com/developer/article/1605621" rel="external" target="_self"><code>CentOS7</code>下部署<code>GitBook</code></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.oschina.net/news/204901/mrdoc-0-8-1-released" rel="external" target="_self"><code>MrDoc</code>在线文档系统</a></td>
<td><a href="https://www.mediawiki.org/wiki/MediaWiki" rel="external" target="_self"><code>MediaWiki</code></a></td>
<td><a href="https://github.com/docsifyjs/docsify/" rel="external" target="_self"><code>Docsify</code></a></td>
<td><a href="https://typecho.org/" rel="external" target="_self"><code>Typecho</code></a></td>
</tr>
<tr>
<td><a href="https://www.dokuwiki.org/dokuwiki" rel="external" target="_self"><code>DokuWiki</code></a></td>
<td><a href="https://worktile.com/kb/p/19579" rel="external" target="_self">开源免费的<code>Wiki</code>系统</a></td>
<td><a href="https://swagger.io/" rel="external" target="_self"><code>swagger API</code>接口文档开发</a></td>
<td><a href="https://github.com/mindoc-org/mindoc" rel="external" target="_self"><code>MinDoc</code></a></td>
</tr>
<tr>
<td><a href="https://www.notion.so/pricing" rel="external" target="_self"><code>notion</code></a></td>
<td><a href="https://github.com/lanyulei/fiy" rel="external" target="_self"><code>Go CMDB</code></a></td>
<td><a href="https://www.cnblogs.com/Erik_Xu/p/10092028.html" rel="external" target="_self"><code>Kubernetes</code>-蓝鲸<code>CMDB</code></a></td>
<td><a href="https://learnku.com/articles/45958" rel="external" target="_self">分享<code>10</code>个我常逛的国外技术社区</a>、<a href="https://cloud.tencent.com/developer/news/398171" rel="external" target="_self">11个国外IT技术交流网站汇总</a></td>
</tr>
<tr>
<td><a href="https://www.onlyoffice.com/download-docs.aspx?from=helpcenter#docs-community" rel="external" target="_self"><code>OnlyOffice</code></a></td>
<td><a href="https://www.libreoffice.org/discover/libreoffice/" rel="external" target="_self"><code>LibreOffice</code></a></td>
<td><a href="https://www.openoffice.org/" rel="external" target="_self"><code>Apache OpenOffice</code></a></td>
<td><a href="https://www.freeoffice.com/zh/" rel="external" target="_self"><code>freeoffice</code></a></td>
</tr>
<tr>
<td><a href="https://ngx.hk/" rel="external" target="_self"><code>Ngx</code></a>、<a href="https://www.youtube.com/channel/UCJYkp0cVLaTzk488qnwyPLw" rel="external" target="_self"><code>Youtube</code></a></td>
<td><a href="https://blog.laoda.de/" rel="external" target="_self">我不是咕咕鸽<code>Youtube</code></a></td>
<td><a href="https://www.youtube.com/@deeplearncloud/playlists" rel="external" target="_self">小马技术</a></td>
<td></td>
</tr>
</tbody>
</table>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker pull swaggerapi/swagger-editor:v4.9.1
</span></span><span style="display:flex;"><span>$ docker run -d -p 19090:8080 swaggerapi/swagger-editor:v4.9.1</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><a href="https://blog.csdn.net/yanhanhui1/article/details/103134944" rel="external" target="_self">把<code>Kali Linux</code>装进<code>U</code>盘使其可以在<code>UEFI</code>的机器上启动使用</a></li>
</ol>
</li>
<li>
<ol start="3">
<li><!-- raw HTML omitted --><code>CICD Network Architecture</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-4296e38cccf414dbccd4626978a57218" class="lightbox-link"><img alt="CICD Network Architecture" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/CICD-Network-Architecture.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4296e38cccf414dbccd4626978a57218"><img alt="CICD Network Architecture" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/CICD-Network-Architecture.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="4">
<li><!-- raw HTML omitted --><code>Client Online Process</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-72e4358929957a16f38e0d92c44c379e" class="lightbox-link"><img alt="Client Online Process" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Client-Online-Process.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72e4358929957a16f38e0d92c44c379e"><img alt="Client Online Process" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Client-Online-Process.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="5">
<li><!-- raw HTML omitted --><code>Initial Architecture Diagram</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-887c365bcf67b55d19ce0dc15a216081" class="lightbox-link"><img alt="Initial Architecture Diagram" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Initial-Architecture-Diagram.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-887c365bcf67b55d19ce0dc15a216081"><img alt="Initial Architecture Diagram" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Initial-Architecture-Diagram.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="6">
<li><!-- raw HTML omitted --><code>Jnekins Process</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-e384d7a1f2852d06449c706a66361f36" class="lightbox-link"><img alt="Jnekins Process" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Jnekins-Process.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e384d7a1f2852d06449c706a66361f36"><img alt="Jnekins Process" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Jnekins-Process.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="7">
<li><!-- raw HTML omitted --><code>Jumpserver Master</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-fb48bbb34d206f61396a309146e27f54" class="lightbox-link"><img alt="Jumpserver Master" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Jumpserver-Master.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fb48bbb34d206f61396a309146e27f54"><img alt="Jumpserver Master" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Jumpserver-Master.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="8">
<li><!-- raw HTML omitted --><code>K8s Online process</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-8566678dd7142726152c7e809f9e4118" class="lightbox-link"><img alt="K8s Online process" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/K8s-Online-process.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8566678dd7142726152c7e809f9e4118"><img alt="K8s Online process" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/K8s-Online-process.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="9">
<li><!-- raw HTML omitted --><code>Lua-Games</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-6ca2bc2cf2d408a44eaca0bf7b03576e" class="lightbox-link"><img alt="Lua-Games" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Lua-Games.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ca2bc2cf2d408a44eaca0bf7b03576e"><img alt="Lua-Games" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Lua-Games.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="10">
<li><!-- raw HTML omitted --><code>Online Process</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-f93312b6ffe7a79128d6f08981def0b5" class="lightbox-link"><img alt="Online Process" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Online-Process.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f93312b6ffe7a79128d6f08981def0b5"><img alt="Online Process" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Online-Process.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="11">
<li><!-- raw HTML omitted --><code>Server Code Online process</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-8d5a3510b741a55cd9851090873506e9" class="lightbox-link"><img alt="Server Code Online process" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Server-Code-Online-process.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8d5a3510b741a55cd9851090873506e9"><img alt="Server Code Online process" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Server-Code-Online-process.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="12">
<li><!-- raw HTML omitted --><code>Zabbix Monitor And Alert</code><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="#R-image-9205aec8110e81693f4f8a7a535e11a2" class="lightbox-link"><img alt="Zabbix Monitor And Alert" class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Zabbix-Monitor-And-Alert.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9205aec8110e81693f4f8a7a535e11a2"><img alt="Zabbix Monitor And Alert" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/Zabbix-Monitor-And-Alert.png"></a></p>
</blockquote>
<ul>
<li>
<ol start="13">
<li>运维体系</li>
</ol>
</li>
</ul>
<blockquote>
<p><a href="https://www.unixhot.com/page/ops" rel="external" target="_self">运维架构层级/运维角度</a></p>
</blockquote>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="regular_expression">Regular_Expression</h1>

<h2 id="正则表达式">正则表达式</h2>
<blockquote>
<ul>
<li><a href="https://www.runoob.com/regexp/regexp-rule.html" rel="external" target="_self">正则表达式</a></li>
</ul>
</blockquote>
<hr>
<h3 id="运算符优先级">运算符优先级</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>\</code></td>
<td style="text-align:left">转义符</td>
</tr>
<tr>
<td style="text-align:left"><code>()</code>，<code>(?:)</code>，<code>(?=)</code>，<code>[]</code></td>
<td style="text-align:left">圆括号和方括号</td>
</tr>
<tr>
<td style="text-align:left"><code>*</code>，<code>+</code>，<code>?</code>，<code>{n}</code>，<code>{n,}</code>，<code>{n,m}</code></td>
<td style="text-align:left">限定符</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code>，<code>$</code>，<code>\</code>任何元字符、任何字符</td>
<td style="text-align:left">定位点和序列（即：位置和顺序）</td>
</tr>
<tr>
<td style="text-align:left"><code>|</code></td>
<td style="text-align:left">替换，&ldquo;或&quot;操作 字符具有高于替换运算符的优先级，使得<code>m|food</code>匹配<code>m</code>或<code>food</code>。若要匹配<code>mood</code>或<code>food</code>，请使用括号创建子表达式，从而产生<code>(m|f)ood</code>。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="非打印字符">非打印字符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>\cx</code></td>
<td style="text-align:left">匹配由<code>x</code>指明的控制字符。例如， <code>\cM</code>匹配一个<code>Control-M</code>或<!-- raw HTML omitted -->回车符<!-- raw HTML omitted -->。<code>x</code>的值必须为<code>A-Z</code>或<code>a-z</code>之一。否则，将<code>c </code>为一个原义的<code>c</code>字符。</td>
</tr>
<tr>
<td style="text-align:left"><code>\f</code></td>
<td style="text-align:left">匹配一个换页符。等价于<code>\x0c</code>和<code>\cL</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\n</code></td>
<td style="text-align:left">匹配一个换行符。等价于<code>\x0a</code>和<code>\cJ</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\r</code></td>
<td style="text-align:left">匹配一个回车符。等价于<code>\x0d</code>和<code>\cM</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\s</code></td>
<td style="text-align:left">匹配任何空白字符，包括空格、制表符、换页符等等。等价于<code>[ \f\n\r\t\v]</code>。注意<code>Unicode</code>正则表达式会匹配全角空格符。</td>
</tr>
<tr>
<td style="text-align:left"><code>\S</code></td>
<td style="text-align:left">匹配任何非空白字符。等价于 <code>[^ \f\n\r\t\v]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\t</code></td>
<td style="text-align:left">匹配一个制表符。等价于<code>\x09</code>和<code>\cI</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\v</code></td>
<td style="text-align:left">匹配一个垂直制表符。等价于<code>\x0b</code>和<code>\cK</code>。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="特殊字符">特殊字符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">特别字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">匹配输入字符串的结尾位置。如果设置了<code>RegExp</code>对象的<code>Multiline</code>属性，则<code>$</code>也匹配<code>\n</code>或<code>\r</code>。要匹配<code>$</code>字符本身，请使用<code>\$</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>()</code></td>
<td style="text-align:left">标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用<code>\(</code>和<code>\)</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">匹配前面的子表达式零次或多次。要匹配<code>*</code>字符，请使用<code>\*</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>+</code></td>
<td style="text-align:left">匹配前面的子表达式一次或多次。要匹配<code>+</code>字符，请使用<code>\+</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>.</code></td>
<td style="text-align:left">匹配除换行符<code>\n</code>之外的任何单字符。要匹配<code>.</code>，请使用<code>\.</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>[</code></td>
<td style="text-align:left">标记一个中括号表达式的开始。要匹配<code>[</code>，请使用<code>\[</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配<code>?</code>字符，请使用<code>\?</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\</code></td>
<td style="text-align:left">将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， <code>n</code>匹配字符<code>n</code>。<code>\n</code>匹配换行符。序列<code>\\</code>匹配<code>\</code>，而<code>\(</code>则匹配<code>(</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。要匹配<code>^</code>字符本身，请使用<code>\^</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{</code></td>
<td style="text-align:left">标记限定符表达式的开始。要匹配<code>{</code>，请使用<code>\{</code>。</td>
</tr>
<tr>
<td style="text-align:left">`</td>
<td style="text-align:left">`</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="限定符">限定符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">匹配前面的子表达式零次或多次。例如<code>zo\</code>能匹配<code>z</code>以及<code>zoo</code>。<code>*</code>等价于<code>{0,}</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>+</code></td>
<td style="text-align:left">匹配前面的子表达式一次或多次。例如，<code>zo+</code>能匹配<code>zo</code>以及<code>zoo</code>，但不能匹配<code>z</code>。<code>+</code>等价于<code>{1,}</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">匹配前面的子表达式零次或一次。例如，<code>do(es)?</code>可以匹配<code>do</code>、 <code>does</code>、<code>doxy</code>中的<code>do</code>和<code>does</code>。<code>?</code> 等价于<code>{0,1}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{n}</code></td>
<td style="text-align:left"><code>n</code>是一个非负整数。匹配确定的<code>n</code>次。例如，<code>o{2}</code>不能匹配<code>Bob</code>中的<code>o</code>，但是能匹配<code>food</code>中的两个<code>o</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{n,}</code></td>
<td style="text-align:left"><code>n</code>是一个非负整数。至少匹配<code>n</code>次。例如，<code>o{2,}</code>不能匹配<code>Bob</code>中的<code>o</code>，但能匹配<code>foooood</code>中的所有<code>o</code>。<code>o{1,}</code>等价于<code>o+</code>。<code>o{0,}</code>则等价于<code>o\*</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{n,m}</code></td>
<td style="text-align:left"><code>m</code>和<code>n</code>均为非负整数，其中<code>n &lt;= m</code>。最少匹配<code>n</code>次且最多匹配<code>m</code>次。例如，<code>o{1,3}</code>将匹配<code>fooooood</code>中的前三个 <code>o</code>。<code>o{0,1}</code>等价于<code>o?</code>。请注意在逗号和两个数之间不能有空格。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="定位符">定位符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">匹配输入字符串开始的位置。如果设置了<code>RegExp</code>对象的<code>Multiline</code>属性，<code>^</code>还会与<code>\n</code>或<code>\r</code>之后的位置匹配。</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">匹配输入字符串结尾的位置。如果设置了<code>RegExp</code>对象的<code>Multiline</code>属性，<code>$</code>还会与<code>\n</code>或<code>\r</code>之前的位置匹配。</td>
</tr>
<tr>
<td style="text-align:left"><code>\b</code></td>
<td style="text-align:left">匹配一个单词边界，即字与空格间的位置。</td>
</tr>
<tr>
<td style="text-align:left"><code>\B</code></td>
<td style="text-align:left">非单词边界匹配。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="修饰符">修饰符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">修饰符</th>
<th style="text-align:left">含义</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left"><code>ignore</code> - 不区分大小写</td>
<td style="text-align:left">将匹配设置为不区分大小写，搜索时不区分大小写: <code>A</code>和<code>a</code>没有区别。</td>
</tr>
<tr>
<td style="text-align:left"><code>g</code></td>
<td style="text-align:left"><code>global</code> - 全局匹配</td>
<td style="text-align:left">查找所有的匹配项。</td>
</tr>
<tr>
<td style="text-align:left"><code>m</code></td>
<td style="text-align:left"><code>multi line</code> - 多行匹配</td>
<td style="text-align:left">使边界字符<code>^</code>和<code>$</code>匹配每一行的开头和结尾，记住是多行，而不是整个字符串的开头和结尾。</td>
</tr>
<tr>
<td style="text-align:left"><code>s</code></td>
<td style="text-align:left">特殊字符圆点 <strong>.</strong> 中包含换行符 <code>\n</code></td>
<td style="text-align:left">默认情况下的圆点 <strong>.</strong> 是匹配除换行符<code>\n</code>之外的任何字符，加上<code>s</code>修饰符之后, <strong>.</strong> 中包含换行符<code>\n</code>。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="元字符">元字符</h3>
<blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>\</code></td>
<td style="text-align:left">将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，<code>n</code>匹配字符<code>n</code>。<code>\n</code>匹配一个换行符。序列<code>\\</code>匹配 &ldquo;&quot; 而<code>\(</code>则匹配<code>(</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">匹配输入字符串的开始位置。如果设置了<code>RegExp</code>对象的<code>Multiline</code>属性，<code>^</code>也匹配<code>\n</code>或<code>\r</code>之后的位置。</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">匹配输入字符串的结束位置。如果设置了<code>RegExp</code>对象的<code>Multiline</code>属性，<code>$</code>也匹配<code>\n</code>或<code>\r</code>之前的位置。</td>
</tr>
<tr>
<td style="text-align:left"><code>*</code></td>
<td style="text-align:left">匹配前面的子表达式零次或多次。例如，<code>zo*</code>能匹配<code>z</code>以及<code>zoo</code>。<code>*</code>等价于<code>{0,}</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>+</code></td>
<td style="text-align:left">匹配前面的子表达式一次或多次。例如，<code>zo+</code>能匹配<code>zo</code>以及<code>zoo</code>，但不能匹配<code>z</code>。<code>+</code>等价于<code>{1,}</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">匹配前面的子表达式零次或一次。例如，<code>do(es)?</code>可以匹配<code>do</code>或<code>does</code>。? 等价于<code>{0,1}</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{n}</code></td>
<td style="text-align:left"><code>n</code>是一个非负整数。匹配确定的<code>n</code>次。例如，<code>o{2}</code>不能匹配<code>Bob</code>中的<code>o</code>，但是能匹配<code>food</code>中的两个<code>o</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{n,}</code></td>
<td style="text-align:left"><code>n</code>是一个非负整数。至少匹配<code>n</code>次。例如，<code>o{2,}</code>不能匹配<code>Bob</code>中的<code>o</code>，但能匹配<code>foooood</code>中的所有<code>o</code>。<code>o{1,}</code>等价于<code>o+</code>。<code>o{0,}</code>则等价于<code>o*</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>{n,m}</code></td>
<td style="text-align:left"><code>m</code>和<code>n</code>均为非负整数，其中<code>n &lt;= m</code>。最少匹配<code>n</code>次且最多匹配<code>m</code>次。例如，<code>o{1,3}</code>将匹配<code>fooooood</code>中的前三个<code>o</code>。<code>o{0,1}</code>等价于<code>o?</code>。请注意在逗号和两个数之间不能有空格。</td>
</tr>
<tr>
<td style="text-align:left"><code>?</code></td>
<td style="text-align:left">当该字符紧跟在任何一个其他限制符<code>(*, +, ?, {n}, {n,}, {n,m})</code>后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 <code>oooo</code>，<code>o+?</code>将匹配单个<code>o</code>，而<code>o+</code>将匹配所有<code>o</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>.</code></td>
<td style="text-align:left">匹配除换行符<code>(\n、\r)</code>之外的任何单个字符。要匹配包括<code>\n</code>在内的任何字符，请使用像`(.</td>
</tr>
<tr>
<td style="text-align:left"><code>(pattern)</code></td>
<td style="text-align:left">匹配<code>pattern</code>并获取这一匹配。所获取的匹配可以从产生的<code>Matches</code>集合得到，在<code>VBScript</code>中使用 <code>SubMatches</code>集合，在<code>JScript</code>中则使用<code>$0…$9</code>属性。要匹配圆括号字符，请使用 <code>\(</code>或<code>\)</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>(?:pattern)</code></td>
<td style="text-align:left">匹配<code>pattern</code>但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用 &ldquo;或&rdquo; 字符`(</td>
</tr>
<tr>
<td style="text-align:left"><code>(?=pattern)</code></td>
<td style="text-align:left">正向肯定预查<code>look ahead positive assert</code>，在任何匹配<code>pattern</code>的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，`Windows(?=95</td>
</tr>
<tr>
<td style="text-align:left"><code>(?!pattern)</code></td>
<td style="text-align:left">正向否定预查<code>negative assert</code>，在任何不匹配<code>pattern</code>的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如`Windows(?!95</td>
</tr>
<tr>
<td style="text-align:left"><code>(?&lt;=pattern)</code></td>
<td style="text-align:left">反向<code>look behind</code>肯定预查，与正向肯定预查类似，只是方向相反。例如，`(?&lt;=95</td>
</tr>
<tr>
<td style="text-align:left"><code>(?&lt;!pattern)</code></td>
<td style="text-align:left">反向否定预查，与正向否定预查类似，只是方向相反。例如`(?&lt;!95</td>
</tr>
<tr>
<td style="text-align:left">`x</td>
<td style="text-align:left">y`</td>
</tr>
<tr>
<td style="text-align:left"><code>[xyz]</code></td>
<td style="text-align:left">字符集合。匹配所包含的任意一个字符。例如，<code>[abc]</code>可以匹配<code>plain</code>中的<code>a</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>[^xyz]</code></td>
<td style="text-align:left">负值字符集合。匹配未包含的任意字符。例如， <code>[^abc]</code>可以匹配<code>plain</code>中的<code>p</code>、<code>l</code>、<code>i</code>、<code>n</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>[a-z]</code></td>
<td style="text-align:left">字符范围。匹配指定范围内的任意字符。例如，<code>[a-z]</code>可以匹配<code>a</code>到<code>z</code>范围内的任意小写字母字符。</td>
</tr>
<tr>
<td style="text-align:left"><code>[^a-z]</code></td>
<td style="text-align:left">负值字符范围。匹配任何不在指定范围内的任意字符。例如，<code>[^a-z]</code>可以匹配任何不在<code>a</code>到<code>z</code>范围内的任意字符。</td>
</tr>
<tr>
<td style="text-align:left"><code>\b</code></td>
<td style="text-align:left">匹配一个单词边界，也就是指单词和空格间的位置。例如， <code>er\b</code>可以匹配<code>never</code>中的<code>er</code>，但不能匹配 <code>verb</code>中的<code>er</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\B</code></td>
<td style="text-align:left">匹配非单词边界。<code>er\B</code>能匹配<code>verb</code>中的<code>er</code>，但不能匹配<code>never</code>中的<code>er</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\cx</code></td>
<td style="text-align:left">匹配由<code>x</code>指明的控制字符。例如， <code>\cM</code>匹配一个<code>Control-M</code>或回车符。<code>x</code>的值必须为<code>A-Z</code>或<code>a-z</code>之一。否则，将<code>c</code>视为一个原义的<code>c</code>字符。</td>
</tr>
<tr>
<td style="text-align:left"><code>\d</code></td>
<td style="text-align:left">匹配一个数字字符。等价于<code>[0-9]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\D</code></td>
<td style="text-align:left">匹配一个非数字字符。等价于 <code>[^0-9]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\f</code></td>
<td style="text-align:left">匹配一个换页符。等价于<code>\x0c</code>和<code>\cL</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\n</code></td>
<td style="text-align:left">匹配一个换行符。等价于<code>\x0a</code>和<code>\cJ</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\r</code></td>
<td style="text-align:left">匹配一个回车符。等价于<code>\x0d</code>和<code>\cM</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\s</code></td>
<td style="text-align:left">匹配任何空白字符，包括空格、制表符、换页符等等。等价于<code>[ \f\n\r\t\v]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\S</code></td>
<td style="text-align:left">匹配任何非空白字符。等价于 <code>[^ \f\n\r\t\v]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\t</code></td>
<td style="text-align:left">匹配一个制表符。等价于<code>\x09</code>和<code>\cI</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\v</code></td>
<td style="text-align:left">匹配一个垂直制表符。等价于<code>\x0b</code>和<code>\cK</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\w</code></td>
<td style="text-align:left">匹配字母、数字、下划线。等价于<code>[A-Za-z0-9_]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\W</code></td>
<td style="text-align:left">匹配非字母、数字、下划线。等价于<code>[^A-Za-z0-9_]</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\xn</code></td>
<td style="text-align:left">匹配<code>n</code>，其中<code>n</code>为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，<code>\x41</code>匹配 &ldquo;A&rdquo;。<code>\x041</code>则等价于<code>\x04</code>&amp;<code>1</code>。正则表达式中可以使用 ASCII 编码。</td>
</tr>
<tr>
<td style="text-align:left"><code>\num</code></td>
<td style="text-align:left">匹配<code>num</code>，其中<code>num</code>是一个正整数。对所获取的匹配的引用。例如，<code>(.)\1</code>匹配两个连续的相同字符。</td>
</tr>
<tr>
<td style="text-align:left"><code>\n</code></td>
<td style="text-align:left">标识一个八进制转义值或一个向后引用。如果<code>\n</code>之前至少<code>n</code>个获取的子表达式，则<code>n</code>为向后引用。否则，如果<code>n</code>为八进制数字<code>(0-7)</code>，则<code>n</code>为一个八进制转义值。</td>
</tr>
<tr>
<td style="text-align:left"><code>\nm</code></td>
<td style="text-align:left">标识一个八进制转义值或一个向后引用。如果<code>\nm</code>之前至少有<code>nm</code>个获得子表达式，则<code>nm</code>为向后引用。如果<code>\nm</code>之前至少有<code>n</code>个获取，则<code>n</code>为一个后跟文字<code>m</code>的向后引用。如果前面的条件都不满足，若<code>n</code>和<code>m</code>均为八进制数字<code>(0-7)</code>，则<code>\nm</code>将匹配八进制转义值<code>nm</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\nml</code></td>
<td style="text-align:left">如果<code>n</code>为八进制数字<code>(0-3)</code>，且<code>m</code>和<code>l</code>均为八进制数字<code>(0-7)</code>，则匹配八进制转义值<code>nml</code>。</td>
</tr>
<tr>
<td style="text-align:left"><code>\un</code></td>
<td style="text-align:left">匹配<code>n</code>，其中<code>n</code>是一个用四个十六进制数字表示的<code>Unicode</code>字符。例如，<code>\u00A9</code>匹配版权符号<code>(?)</code>。</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="linux_document">Linux_Document</h1>

<h2 id="工具软件">工具、软件</h2>
<blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/kingToolbox/WindTerm" rel="external" target="_self"><code>WindTerm</code></a></td>
<td>适用于<code>DevOps</code>的更快、更好的<code>SSH/Telnet/Serial/Shell/Sftp</code>客户端</td>
</tr>
<tr>
<td><a href="https://www.hostbuf.com/t/988.html" rel="external" target="_self"><code>FinalShell</code></a></td>
<td><code>FinalShell</code>是一体化的的服务器,网络管理软件,不仅是ssh客户端,还是功能强大的开发,运维工具,充分满足开发,运维需求</td>
</tr>
<tr>
<td><a href="https://mobaxterm.mobatek.net/" rel="external" target="_self"><code>MobaXterm</code></a></td>
<td>带有<code>X11</code>服务器、选项卡式<code>SSH</code>客户端、网络工具等的增强型<code>Windows</code>终端</td>
</tr>
<tr>
<td><a href="https://termius.com/pricing" rel="external" target="_self"><code>Termius</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://hyper.is/#installation" rel="external" target="_self"><code>Hyper</code></a></td>
<td><code>Hyper</code>是一个基于<code>Electron</code>的终端，基于<code>HTML/CSS/JS</code>构建，完全可扩展，从命令行安装主题和插件。<code>hyper i hyper-rose-pine</code>、<code>hyper-rose-pine installed successfully!</code></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h2 id="社区官网文档">社区、官网文档</h2>
<blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.truenas.com/docs/core/gettingstarted/install/" rel="external" target="_self"><code>TrueNAS</code></a></td>
<td>存储</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h2 id="博客">博客</h2>
<blockquote>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="linux_conmmon_commands">Linux_Conmmon_Commands</h1>

<h2 id="linux常用命令总结"><code>Linux</code>常用命令总结</h2>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->生成密码<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://rockylinux.org/" rel="external" target="_self"><code>Rocky Linux</code></a></td>
<td><code>Centos</code>系统的替代品</td>
</tr>
<tr>
<td><a href="https://www.debian.org/releases/stable/" rel="external" target="_self"><code>Debian Stable</code></a></td>
<td><code>Debian</code>系统镜像</td>
</tr>
<tr>
<td><a href="https://www.alpinelinux.org/" rel="external" target="_self"><code>Alpine Linux</code></a></td>
<td><code>Linux</code>高山系统镜像</td>
</tr>
<tr>
<td><a href="https://wangchujiang.com/linux-command/" rel="external" target="_self"><code>Linux</code></a></td>
<td><code>Linux</code>命令搜索</td>
</tr>
<tr>
<td><a href="https://www.linuxcool.com/" rel="external" target="_self"><code>Linux</code>命令大全(手册)</a></td>
<td><code>Linux</code>命令大全(手册)</td>
</tr>
<tr>
<td><a href="https://www.runoob.com/linux/linux-command-manual.html" rel="external" target="_self">菜鸟<code>Linux</code>命令大全</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://ftp.isc.org/isc/bind9/" rel="external" target="_self"><code>Dig</code>命令</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->如果复制密钥到客户端后不生效， 优先排查宿主家目录权限<!-- raw HTML omitted --> <code>/home/user</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ openssl rand -base64 <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>$ gpg --gen-random --armor <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">14</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ gzip -d     <span style="color:#75715e"># 解压缩  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kill -9 <span style="color:#e6db74">`</span>ps -ef |grep xxx|awk <span style="color:#e6db74">&#39;{print $2}&#39;</span> <span style="color:#e6db74">`</span>  	<span style="color:#75715e"># 杀掉服务进程</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 谷歌云普通用户远程登录</span>
</span></span><span style="display:flex;"><span>$ chown -R user:user /home/user
</span></span><span style="display:flex;"><span>$ chmod <span style="color:#ae81ff">600</span> authorized_keys  	<span style="color:#75715e"># 次文件一定属主读写，其他为0 </span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="yum命令"><code>yum</code>命令</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum install -y nodejs  	<span style="color:#75715e"># 安装node</span>
</span></span><span style="display:flex;"><span>$ yum install -y chrony  	<span style="color:#75715e"># 设置时间服务</span>
</span></span><span style="display:flex;"><span>$ yum install -y psmisc  	<span style="color:#75715e"># 安装killall</span>
</span></span><span style="display:flex;"><span>$ yum install -y epel-release  	<span style="color:#75715e"># 安装epel源</span>
</span></span><span style="display:flex;"><span>$ yum whatprovides ifconfig  	<span style="color:#75715e"># 查找某个命令属于那个rpm包  </span>
</span></span><span style="display:flex;"><span>$ yum -y groupinstall <span style="color:#e6db74">&#34;GNOME Desktop&#34;</span>  	<span style="color:#75715e"># Linux命令行安装图形化</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 升级gcc到6.3版本</span>
</span></span><span style="display:flex;"><span>$ yum -y install centos-release-scl
</span></span><span style="display:flex;"><span>$ yum -y install devtoolset-6-gcc devtoolset-6-gcc-c++ devtoolset-6-binutils
</span></span><span style="display:flex;"><span>$ scl enable devtoolset-6 bash
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;source /opt/rh/devtoolset-6/enable&#34;</span> &gt;&gt;/etc/profile
</span></span><span style="display:flex;"><span>$ source /etc/profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 高版本node.js需升级gcc、7.3版本</span>
</span></span><span style="display:flex;"><span>$ yum -y install centos-release-scl
</span></span><span style="display:flex;"><span>$ yum -y install devtoolset-7-gcc devtoolset-7-gcc-c++ devtoolset-7-binutils
</span></span><span style="display:flex;"><span>$ scl enable devtoolset-7 bash
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;source /opt/rh/devtoolset-7/enable&#34;</span> &gt;&gt;/etc/profile
</span></span><span style="display:flex;"><span>$ source /etc/profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 升级gcc到9版本</span>
</span></span><span style="display:flex;"><span>$ yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;scl enable devtoolset-9 bash&#39;</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;source /opt/rh/devtoolset-9/enable&#34;</span> &gt;&gt;/etc/profile
</span></span><span style="display:flex;"><span>$ source /etc/profile</span></span></code></pre></div></blockquote>
<hr>
<h3 id="nodenpm命令"><code>node、npm</code>命令</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum groupinstall <span style="color:#e6db74">&#34;Development Tools&#34;</span> <span style="color:#e6db74">&#34;Development Libraries&#34;</span>
</span></span><span style="display:flex;"><span>$ yum install make automake gcc gcc-c++ kernel-devel
</span></span><span style="display:flex;"><span>$ yum -y install install build-essential
</span></span><span style="display:flex;"><span>$ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.0/install.sh | bash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># nvm 使用</span>
</span></span><span style="display:flex;"><span>$ nvm install 18.0.0  	<span style="color:#75715e"># 安装 nodejs 18.0.0</span>
</span></span><span style="display:flex;"><span>$ nvm ls  	<span style="color:#75715e"># 列出已经安装的node版本</span>
</span></span><span style="display:flex;"><span>$ nvm use v12.13.0  	<span style="color:#75715e"># 切换node版本</span>
</span></span><span style="display:flex;"><span>$ nvm alias default v12.13.0  	<span style="color:#75715e"># 指定默认的node版本</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ npm install -g n  	<span style="color:#75715e"># 安装n模块</span>
</span></span><span style="display:flex;"><span>$ n  	<span style="color:#75715e"># 选择版本直接用n命令</span>
</span></span><span style="display:flex;"><span>$ n v10.16.0  	<span style="color:#75715e"># &#34;n&#34;加版本号,用n命令下载所需的版本</span>
</span></span><span style="display:flex;"><span>$ n latest  	<span style="color:#75715e"># 下载最新版</span>
</span></span><span style="display:flex;"><span>$ n rm 版本号  	<span style="color:#75715e"># 删除版本</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># build执行打包命令、如果dist目录存在删除、node_modules目录可选择删除或者保留</span>
</span></span><span style="display:flex;"><span>$ npm install
</span></span><span style="display:flex;"><span>$ npm run build
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 安装wscat 测试websocket</span>
</span></span><span style="display:flex;"><span>$ npm install -g wscat 
</span></span><span style="display:flex;"><span>$ ./wscat --connect ws://192.168.2.210
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ curl -i <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --header <span style="color:#e6db74">&#34;Upgrade: websocket&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --header <span style="color:#e6db74">&#34;Sec-WebSocket-Key: AQIDBAUGBwgJCgsMDQ4PEA==&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --header <span style="color:#e6db74">&#34;Sec-WebSocket-Version: 13&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --header <span style="color:#e6db74">&#34;Connection: upgrade&#34;</span> <span style="color:#ae81ff">\ </span><span style="color:#75715e">#直接访问后端服务的 Websocket 需要带上该头部</span>
</span></span><span style="display:flex;"><span>http://192.168.1.141 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Build complete.
</span></span><span style="display:flex;"><span>Tip: built files are meant to be served over an HTTP server.
</span></span><span style="display:flex;"><span>Opening index.html over file:// won<span style="color:#960050;background-color:#1e0010">&#39;</span>t work.
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 处理办法、在npm run build 运行完之后，再运行</span>
</span></span><span style="display:flex;"><span>$ cd dist
</span></span><span style="display:flex;"><span>$ npm install -g http-server  	<span style="color:#75715e"># 该命令只需执行一次,安装过之后, 以后就不需要重复安装了.hs</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="find命令"><code>find</code>命令</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ find . -type f -size +500M  	<span style="color:#75715e"># 查询当前超过500M的文件</span>
</span></span><span style="display:flex;"><span>$ find . -type f -exec ls -l <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>  	<span style="color:#75715e"># 查询当前文件，并以长格式列出</span>
</span></span><span style="display:flex;"><span>$ find . -type f -exec chmod <span style="color:#ae81ff">644</span> <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>   <span style="color:#75715e"># f:代表文件，设置644权限</span>
</span></span><span style="display:flex;"><span>$ find . -type d -exec chmod <span style="color:#ae81ff">755</span> <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>   <span style="color:#75715e"># d代表目录，设置755权限</span>
</span></span><span style="display:flex;"><span>$ find ./* -type f -mtime +15 | xargs ls -lt  	<span style="color:#75715e"># 过滤出来文件按时间排序</span>
</span></span><span style="display:flex;"><span>$ find . -type f -mtime -30 -exec gzip -c ./* &gt;/tmp/nginx-wwwlogs-09-27.gz <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>  	<span style="color:#75715e"># atime：最后一次访问时间，ctime：最后一次改变权限时间，mtime：最后一次修改时间</span>
</span></span><span style="display:flex;"><span>$ find . -name <span style="color:#e6db74">&#34;*.log&#34;</span> -exec cp <span style="color:#f92672">{}</span> test <span style="color:#ae81ff">\;</span>  	<span style="color:#75715e"># 查找当前目录下以.log结尾文件，</span>
</span></span><span style="display:flex;"><span>													<span style="color:#75715e"># 拷贝并且新文件重新命名为：test</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ find . -name <span style="color:#e6db74">&#34;*.log&#34;</span> -mtime +5 -ok rm <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>  	<span style="color:#75715e"># 和-exec的作用相同，</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># 只不过以一种更为安全的模式来执行该参数所给出的shell命令，</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># 在执行每一个命令之前，都会给出提示，让用户来确定是否执行</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ find . -name <span style="color:#e6db74">&#34;*.log&#34;</span> -mtime +6 -exec du -sh <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>  	<span style="color:#75715e"># 查看当前目录下以.log结尾并超过七天的文件大小</span>
</span></span><span style="display:flex;"><span>$ find /etc -name <span style="color:#e6db74">&#34;passwd*&#34;</span> -exec grep <span style="color:#e6db74">&#34;root&#34;</span> <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查找并且打包</span>
</span></span><span style="display:flex;"><span>$ find /your/directory/path -name <span style="color:#e6db74">&#34;*.tar&#34;</span> -exec tar -xvf <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 查找并打包到指定目录</span>
</span></span><span style="display:flex;"><span>$ find /your/directory/path -name <span style="color:#e6db74">&#34;*.tar&#34;</span> -exec tar -xvf <span style="color:#f92672">{}</span> -C /path/to/extracted/directory <span style="color:#ae81ff">\;</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="后台运行命令">后台运行命令</h3>
<blockquote>
<table>
<thead>
<tr>
<th>名称</th>
<th>使用方式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nohup</code></td>
<td><code>$ nohup &amp;</code></td>
<td>使用<code>nohup</code>+ <code>&amp;</code>让服务后台运行</td>
</tr>
<tr>
<td><code>setsid</code></td>
<td><code>$ setsid</code></td>
<td></td>
</tr>
<tr>
<td><code>screen</code></td>
<td><code>$ screen</code></td>
<td><code>screen</code>属于第三方工具需要单独安装</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->使用<!-- raw HTML omitted --><code>screen</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install screen  	<span style="color:#75715e"># 安装  </span>
</span></span><span style="display:flex;"><span>$ screen  	<span style="color:#75715e"># 启动  </span>
</span></span><span style="display:flex;"><span>$ screen ls  	<span style="color:#75715e"># 查看  </span>
</span></span><span style="display:flex;"><span>$ screen r 进程号  	<span style="color:#75715e"># 进入程序 </span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->使用：<!-- raw HTML omitted --><code>screen [-opts] [cmd [args]或：screen -r [host.tty]</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 选项：</span>
</span></span><span style="display:flex;"><span>-4  	<span style="color:#75715e"># 仅将主机名解析为IPv4地址。  </span>
</span></span><span style="display:flex;"><span>-6  	<span style="color:#75715e"># 仅将主机名解析为IPv6地址。</span>
</span></span><span style="display:flex;"><span>-a  	<span style="color:#75715e"># 强制所有功能进入每个窗口的termcap。</span>
</span></span><span style="display:flex;"><span>-A  	<span style="color:#75715e"># - [r | R]使所有窗口适应新的显示宽度和高度。</span>
</span></span><span style="display:flex;"><span>-c  	<span style="color:#75715e"># file读取配置文件而不是&#39;.screenrc&#39;。</span>
</span></span><span style="display:flex;"><span>-d  	<span style="color:#75715e"># （-r）分离其他正在运行的屏幕（并在此处重新连接）。</span>
</span></span><span style="display:flex;"><span>-dmS  	<span style="color:#75715e"># name作为守护程序启动：处于分离模式的屏幕会话。</span>
</span></span><span style="display:flex;"><span>-D  	<span style="color:#75715e"># （-r）分离和注销远程（并在此处重新连接）。</span>
</span></span><span style="display:flex;"><span>-D  	<span style="color:#75715e"># -RR执行屏幕会话所需的任何操作。</span>
</span></span><span style="display:flex;"><span>-e  	<span style="color:#75715e"># xy更改命令字符。</span>
</span></span><span style="display:flex;"><span>-f  	<span style="color:#75715e"># 流控制开启，-fn=关闭，-fa=auto。-h lines设置回滚历史记录缓冲区的大小。</span>
</span></span><span style="display:flex;"><span>-i  	<span style="color:#75715e"># 当流量控制打开时，中断输出更快。</span>
</span></span><span style="display:flex;"><span>-l  	<span style="color:#75715e"># 登录模式打开（update /var/run/utmp,-ln = off。</span>
</span></span><span style="display:flex;"><span>-ls  	<span style="color:#75715e"># [匹配]或-list什么都不做，只列出我们的SockDir [在可能的比赛中]。</span>
</span></span><span style="display:flex;"><span>-L  	<span style="color:#75715e"># 打开输出日志记录。</span>
</span></span><span style="display:flex;"><span>-m  	<span style="color:#75715e"># 忽略$ STY变量，创建一个新的屏幕会话。</span>
</span></span><span style="display:flex;"><span>-O  	<span style="color:#75715e"># 选择最佳输出而不是精确的vt100仿真。</span>
</span></span><span style="display:flex;"><span>-p  	<span style="color:#75715e"># window预选指定的窗口（如果存在）。</span>
</span></span><span style="display:flex;"><span>-q  	<span style="color:#75715e"># 安静的启动。如果不成功，则退出非零返回码。</span>
</span></span><span style="display:flex;"><span>-Q  	<span style="color:#75715e"># Commands将响应发送到查询过程的stdout。</span>
</span></span><span style="display:flex;"><span>-r  	<span style="color:#75715e"># [session]重新连接到分离的屏幕进程。</span>
</span></span><span style="display:flex;"><span>-R  	<span style="color:#75715e"># 如果可能重新连接，否则启动新会话。</span>
</span></span><span style="display:flex;"><span>-s  	<span style="color:#75715e"># shell shell执行而不是$ SHELL。</span>
</span></span><span style="display:flex;"><span>-S  	<span style="color:#75715e"># sockname将此会话命名为&lt;pid&gt; .sockname而不是&lt;pid&gt;。&lt;tty&gt;。&lt;host&gt;。</span>
</span></span><span style="display:flex;"><span>-t  	<span style="color:#75715e"># title设置标题。（窗口的名字）。</span>
</span></span><span style="display:flex;"><span>-T  	<span style="color:#75715e"># 术语使用术语作为Windows的$ TERM，而不是“屏幕”。</span>
</span></span><span style="display:flex;"><span>-U  	<span style="color:#75715e"># 告诉屏幕使用UTF-8编码。</span>
</span></span><span style="display:flex;"><span>-v  	<span style="color:#75715e"># 打印“屏幕版本4.01.00devel（GNU）2-May-06”。</span>
</span></span><span style="display:flex;"><span>-wipe  	<span style="color:#75715e"># [match]什么都不做，只是清理SockDir [在可能的比赛中]。</span>
</span></span><span style="display:flex;"><span>-x  	<span style="color:#75715e"># 附加到未分离的屏幕。（多显示模式）。</span>
</span></span><span style="display:flex;"><span>-X  	<span style="color:#75715e"># 在指定的会话中执行&lt;cmd&gt;作为屏幕命令。</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="系统排查抓包分析命令">系统排查、抓包、分析命令</h3>
<blockquote>
<p><a href="https://github.com/esnet/iperf" rel="external" target="_self"><code>iperf</code></a>、<a href="https://www.w3cschool.cn/linuxc/linuxc-ujgo3lgk.html" rel="external" target="_self"><code>Linux</code>命令、工具</a></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ss  	<span style="color:#75715e"># 连接查看工具</span>
</span></span><span style="display:flex;"><span>$ pidof nginx  	<span style="color:#75715e"># 获取服务运行的pid</span>
</span></span><span style="display:flex;"><span>$ tracert  	<span style="color:#75715e"># 追踪路由命令</span>
</span></span><span style="display:flex;"><span>$ nethogs  	<span style="color:#75715e"># 按进程查看流量占用</span>
</span></span><span style="display:flex;"><span>$ iptraf  	<span style="color:#75715e"># 按连接/端口查看流量</span>
</span></span><span style="display:flex;"><span>$ ifstat  	<span style="color:#75715e"># 按设备查看流量</span>
</span></span><span style="display:flex;"><span>$ strace -p pid  	<span style="color:#75715e"># 查看进程工作</span>
</span></span><span style="display:flex;"><span>$ ethtool  	<span style="color:#75715e"># 诊断工具</span>
</span></span><span style="display:flex;"><span>$ tcpdump  	<span style="color:#75715e"># 抓包工具</span>
</span></span><span style="display:flex;"><span>$ tcptraceroute  	<span style="color:#75715e"># 路由追踪工具</span>
</span></span><span style="display:flex;"><span>$ ifup/ifdown  	<span style="color:#75715e"># 启动和停止网卡,可以接网卡名：ifup eth0。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 其它排查命令: dstat, slurm, nload, bmon</span>
</span></span><span style="display:flex;"><span>$ sudo opensnoop-bpfcc  	<span style="color:#75715e"># 安装目录在：/usr/sbin/</span>
</span></span><span style="display:flex;"><span>$ iperf3  	<span style="color:#75715e"># 网络性能测试工具</span></span></span></code></pre></div><ul>
<li><a href="https://github.com/iovisor/bcc/blob/master/INSTALL.md" rel="external" target="_self"><code>Installing BCC</code></a></li>
<li><a href="https://github.com/iovisor/bcc" rel="external" target="_self"><code>BPF Compiler Collection (BCC)</code></a></li>
</ul>
<p><a href="#R-image-e2c99288df36e9102c31225345a809bb" class="lightbox-link"><img class="border lazy lightbox noshadow figure-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/bcc_tracing_tools_2019.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e2c99288df36e9102c31225345a809bb"><img class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="https://raw.githubusercontent.com/usermice/images/master/System-Architecture-Planning-Diagram/bcc_tracing_tools_2019.png"></a></p>
</blockquote>
<hr>
<h3 id="快捷键">快捷键</h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->删除快捷键<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ctrl + d</code></td>
<td>删除光标所在位置上的字符相当于<code>VIM</code>里<code>x</code>或者<code>dl </code></td>
</tr>
<tr>
<td><code>ctrl + h</code></td>
<td>删除光标所在位置前的字符相当于<code>VIM</code>里<code>hx</code>或者<code>dh</code></td>
</tr>
<tr>
<td><code>ctrl + k </code></td>
<td>删除光标后面所有字符相当于<code>VIM</code>里<code>d shift+$</code></td>
</tr>
<tr>
<td><code>ctrl + u </code></td>
<td>删除光标前面所有字符相当于<code>VIM</code>里<code>d shift+^ </code></td>
</tr>
<tr>
<td><code>ctrl + w</code></td>
<td>删除光标前一个单词相当于<code>VIM</code>里<code>db</code></td>
</tr>
<tr>
<td><code>ctrl + y </code></td>
<td>恢复<code>ctrl+u</code>上次执行时删除的字符</td>
</tr>
<tr>
<td><code>ctrl + ?</code></td>
<td>撤消前一次输入</td>
</tr>
<tr>
<td><code>alt + r</code></td>
<td>撤消前一次动作</td>
</tr>
<tr>
<td><code>alt + d</code></td>
<td>删除光标所在位置的后单词</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->移动快捷键<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ctrl + a</code></td>
<td>将光标移动到命令行开头相当于<code>VIM</code>里<code>shift+^</code></td>
</tr>
<tr>
<td><code>ctrl + e</code></td>
<td>将光标移动到命令行结尾处相当于<code>VIM</code>里<code>shift+$</code></td>
</tr>
<tr>
<td><code>ctrl + f</code></td>
<td>光标向后移动一个字符相当于<code>VIM</code>里<code>l</code></td>
</tr>
<tr>
<td><code>ctrl + b</code></td>
<td>光标向前移动一个字符相当于<code>VIM</code>里<code>h</code></td>
</tr>
<tr>
<td><code>ctrl + 方向键左键</code></td>
<td>光标移动到前一个单词开头</td>
</tr>
<tr>
<td><code>ctrl + 方向键右键</code></td>
<td>光标移动到后一个单词结尾</td>
</tr>
<tr>
<td><code>ctrl + x</code></td>
<td>在上次光标所在字符和当前光标所在字符之间跳转</td>
</tr>
<tr>
<td><code>alt + f</code></td>
<td>跳到光标所在位置单词尾部</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->替换快捷键<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ctrl + t</code></td>
<td>将光标当前字符与前面一个字符替换</td>
</tr>
<tr>
<td><code>alt + t</code></td>
<td>交换两个光标当前所处位置单词和光标前一个单词</td>
</tr>
<tr>
<td><code>alt + u</code></td>
<td>把光标当前位置单词变为大写</td>
</tr>
<tr>
<td><code>alt + l</code></td>
<td>把光标当前位置单词变为小写</td>
</tr>
<tr>
<td><code>alt + c</code></td>
<td>把光标当前位置单词头一个字母变为大写</td>
</tr>
<tr>
<td><code>^oldstr^newstr</code></td>
<td>替换前一次命令中字符串历史命令编辑</td>
</tr>
<tr>
<td><code>ctrl + p</code></td>
<td>返回上一次输入命令字符</td>
</tr>
<tr>
<td><code>ctrl + r</code></td>
<td>输入单词搜索历史命令</td>
</tr>
<tr>
<td><code>alt + p</code></td>
<td>输入字符查找与字符相接近的历史命令</td>
</tr>
<tr>
<td><code>alt + &gt;</code></td>
<td>返回上一次执行命令</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->其它操作<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ctrl + c</code></td>
<td>另起一行</td>
</tr>
<tr>
<td><code>ctrl + r</code></td>
<td>输入单词搜索历史命令</td>
</tr>
<tr>
<td><code>ctrl + s</code></td>
<td>锁住终端</td>
</tr>
<tr>
<td><code>ctrl + q</code></td>
<td>解锁终端</td>
</tr>
<tr>
<td><code>ctrl + l</code></td>
<td>清屏相当于命令<code>clear</code></td>
</tr>
<tr>
<td><code>ctrl + c</code></td>
<td>另起一行</td>
</tr>
<tr>
<td><code>ctrl + i</code></td>
<td>类似<code>TAB</code>健补全功能</td>
</tr>
<tr>
<td><code>ctrl + o</code></td>
<td>重复执行命令</td>
</tr>
<tr>
<td><code>alt + 数字键</code></td>
<td>操作</td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="systemctl命令"><code>systemctl</code>命令</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ systemctl list-unit-files  	<span style="color:#75715e"># 列出所有服务状态</span>
</span></span><span style="display:flex;"><span>$ systemctl list-dependencies     <span style="color:#75715e"># 列出所有服务以及依赖状态</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ systemctl list-unit-files --type<span style="color:#f92672">=</span>service|grep enabled   <span style="color:#75715e"># 查看开启的服务</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="安装kvmvnc">安装<code>KVM</code>、<code>VNC</code></h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->安装<!-- raw HTML omitted --><code>KVM</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install virt-manager
</span></span><span style="display:flex;"><span>$ virsh list --all
</span></span><span style="display:flex;"><span>$ virsh start server_15
</span></span><span style="display:flex;"><span>$ virsh autostart server_15  	<span style="color:#75715e"># 开机自启</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 检查在/etc/libvirt/qemu/autostart/下会生成一个（虚拟机名.xml）文件</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->安装<!-- raw HTML omitted --><code>vnc</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install vnc*
</span></span><span style="display:flex;"><span>$ vncserver
</span></span><span style="display:flex;"><span>$ netstat -nuptl
</span></span><span style="display:flex;"><span>$ firewall-cmd --add-port<span style="color:#f92672">=</span>5905/tcp --permanent
</span></span><span style="display:flex;"><span>$ firewall-cmd --reload
</span></span><span style="display:flex;"><span>软件包 tigervnc-server-1.8.0-13.el7.x86_64 已安装并且是最新版本
</span></span><span style="display:flex;"><span>软件包 tigervnc-1.8.0-13.el7.x86_64 已安装并且是最新版本
</span></span><span style="display:flex;"><span>软件包 tigervnc-server-module-1.8.0-13.el7.x86_64 已安装并且是最新版本</span></span></code></pre></div></blockquote>
<hr>
<h3 id="其他命令">其他命令</h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->创建、删除用户以及用户组命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ useradd  	<span style="color:#75715e"># 添加用户语法：useradd 用户名,例子:useradd oldboy</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -u:指定uid，-g:添加主组，-G:添加用户附属组，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -s:指定登录的shell，-e:指定过期时间，-M:不创建家目录，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -D:修改/etc/default/useradd参数，一般用 vi 直接编辑。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ usermod  	<span style="color:#75715e"># -d:指定就改目录,-g:改主组,-G:附加组</span>
</span></span><span style="display:flex;"><span>$ chage  	<span style="color:#75715e"># 设置或修改用户密码有效期限,-e:修改密码文件,-l:查看密码有效期</span>
</span></span><span style="display:flex;"><span>$ userdel  	<span style="color:#75715e"># 删除用户,-r:删除家目录</span>
</span></span><span style="display:flex;"><span>$ groups  	<span style="color:#75715e"># 查看用户属组</span>
</span></span><span style="display:flex;"><span>$ groupadd  	<span style="color:#75715e"># 添加组group</span>
</span></span><span style="display:flex;"><span>$ groupdel  	<span style="color:#75715e"># 删除组</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->创建、修改密码<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ passwd  	<span style="color:#75715e"># 为用户设置或修改密码,例子:passwd oldboy 为oldboy设置修改密码,直接passwd是当前用户修改密码。</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;123456&#34;</span>|passwd --stdin username  	<span style="color:#75715e"># 非交互式更改密码，一般用于脚本使用</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->权限、更改、授予操作<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ su  	<span style="color:#75715e"># 切换用户身份 - 加载环境变量 -c以指定用户身份执行任务</span>
</span></span><span style="display:flex;"><span>$ sudo  	<span style="color:#75715e"># 可以让普通用户拥有root权限去执行命令,sudo配置文件/etc/sudoers</span>
</span></span><span style="display:flex;"><span>$ visudo  	<span style="color:#75715e"># 通过visudo编辑/etc/sudoers,可以去检查配置文件的语法。</span>
</span></span><span style="display:flex;"><span>$ alias  	<span style="color:#75715e"># 查看和设置别名,例子:查看别名直接输入alias,设置别名:alias cp=&#39;cp -i&#39;</span>
</span></span><span style="display:flex;"><span>$ unalias  	<span style="color:#75715e"># 取消别名 unalias cp</span>
</span></span><span style="display:flex;"><span>$ chmod  	<span style="color:#75715e"># 更改及设置文件对应权限</span>
</span></span><span style="display:flex;"><span>$ chown  	<span style="color:#75715e"># 更改及设置文件对应的用户和组</span>
</span></span><span style="display:flex;"><span>$ last  	<span style="color:#75715e"># 显示用户登录信息， /var/log/wtmp数据文件</span>
</span></span><span style="display:flex;"><span>$ lastlog  	<span style="color:#75715e"># 所有用户最近登录的情况</span>
</span></span><span style="display:flex;"><span>$ umask  	<span style="color:#75715e"># 控制文件默认权限</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->查看、查找命令<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><a href="https://segmentfault.com/a/1190000041912631" rel="external" target="_self"><code>jq</code>命令用法总结</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ id  	<span style="color:#75715e"># 查看用户信息和组信息、</span>
</span></span><span style="display:flex;"><span>$ w  	<span style="color:#75715e"># 显示登录信息 及操作信息</span>
</span></span><span style="display:flex;"><span>$ who  	<span style="color:#75715e"># 显示谁登录</span>
</span></span><span style="display:flex;"><span>$ ps  	<span style="color:#75715e"># 查找启动的服务</span>
</span></span><span style="display:flex;"><span>$ cd  	<span style="color:#75715e"># 切换目录，例子:cd /etc</span>
</span></span><span style="display:flex;"><span>$ pwd  	<span style="color:#75715e"># print work directory打印工作目录(显示当前所在路径)</span>
</span></span><span style="display:flex;"><span>$ cat  	<span style="color:#75715e"># 查看文件内容 例子:cat oldboy.txt,-n:显示行号</span>
</span></span><span style="display:flex;"><span>$ wc  	<span style="color:#75715e"># 显示,-l(lines)总行数，-L:最大行的长度。</span>
</span></span><span style="display:flex;"><span>$ nl  	<span style="color:#75715e"># nl - number lines显示行号</span>
</span></span><span style="display:flex;"><span>$ jq  	<span style="color:#75715e"># 轻量级命令行JSON处理器，-r：去除字符串引号，&#34;,&#34;：逗号执行多个参数，cat text.jsonl | jq -r &#39;.status&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ls  	<span style="color:#75715e"># list(列表)列表目录文件例子：ls /，列出根目录下所有文件、目录</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -a(all)显示所有文件(包括隐藏文件)，默认不显示以&#34;.&#34;开头的隐藏文件</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -l(long)长格式，-d(directorys)查看目录，-t:按修改时间排序，-r:反转排序(倒序)，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -p:给目录结尾加斜线，-F:给不同文件结尾加不同标识，-i:打印文件的索引号</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># --color=auto:显示颜色，-h:人类可读,--time-style=long-iso</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ iotop -oP  	<span style="color:#75715e"># 时时查看磁盘IO情况</span>
</span></span><span style="display:flex;"><span>$ pgrep  	<span style="color:#75715e"># 以名称为依据从运行进程队列中查找进程，并显示查找到的进程id，例如：pgrep mysqld</span>
</span></span><span style="display:flex;"><span>$ date +%s  	<span style="color:#75715e"># 获取时间戳</span>
</span></span><span style="display:flex;"><span>$ file  	<span style="color:#75715e"># 查看文件的类型</span>
</span></span><span style="display:flex;"><span>$ stat  	<span style="color:#75715e"># 显示文件和文件系统状态(查看文件属性)			</span>
</span></span><span style="display:flex;"><span>$ head  	<span style="color:#75715e"># 头，头部读取文件的前n行,默认前10行,-n数字,习惯-5,忽略-n。</span>
</span></span><span style="display:flex;"><span>$ tail  	<span style="color:#75715e"># 尾，尾巴输出文件的后n行,默认后10行,-n数字，习惯-5,忽略-n。</span>
</span></span><span style="display:flex;"><span>$ less  	<span style="color:#75715e"># 和more相反回车一次一行，空格向下一次一屏，按b可以一次回退一屏。</span>
</span></span><span style="display:flex;"><span>$ more  	<span style="color:#75715e"># 按页一次一屏。回车一次一行，空格向下一次一屏。不能回退。</span>
</span></span><span style="display:flex;"><span>$ history  	<span style="color:#75715e"># 查看及清理历史记录-c清空所有,-d删除指定历史记录</span>
</span></span><span style="display:flex;"><span>$ tree  	<span style="color:#75715e"># 大树的意思，显示目录树,-L layer层数,-d显示目录</span>
</span></span><span style="display:flex;"><span>$ xargs  	<span style="color:#75715e"># 从标注你输入获取内容创建和执行命令-n数字,分组</span>
</span></span><span style="display:flex;"><span>$ which  	<span style="color:#75715e"># 查看二进制命令所在路径(从PATH变量所在的路劲查找)</span>
</span></span><span style="display:flex;"><span>$ whereis  	<span style="color:#75715e"># 查找文件的帮助、源代码，-b:二进制54、</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># locate find files by name 只能查updatedb库里内容，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># locate从/var/lib/mlocate/mlocate.db查找目录。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ find  	<span style="color:#75715e"># -name 按名称查找，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -type 按类型查找，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># f(file)文件，d(directory)目录，c(character)字符，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># b(block)块设备，s(socket)，l(link)链接，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -mtime 按时间查找，+7:7天以前，-7最近7天，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -mtime -ctime -atime！取反，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -a:and并且，-o:or 或者，-maxdepth查找深度，－perm：按权限查找</span>
</span></span><span style="display:flex;"><span>$ netstat -lnutp -a
</span></span><span style="display:flex;"><span>$ lsof list open file</span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->关机、重启命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ init  	<span style="color:#75715e"># 按后面对应的数字切换运行级别，例如:init 6重启服务器</span>
</span></span><span style="display:flex;"><span>$ reboot  	<span style="color:#75715e"># 等同于：init 6，以及：shutdown -r now：立即重启</span>
</span></span><span style="display:flex;"><span>$ poweroff  	<span style="color:#75715e"># 关机</span>
</span></span><span style="display:flex;"><span>$ runlevel  	<span style="color:#75715e"># 查看当前系统运行级别</span>
</span></span><span style="display:flex;"><span>$ shutdown  	<span style="color:#75715e"># (halt、init 0)关机，shutdown -h now：立即关机，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -r：代表重启，可按需要定时重启，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -h：代表关机，可按需要定时关机。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ chkconfig  	<span style="color:#75715e"># 设置服务开机自启动命令, --list:查看自动服务，--level levels</span>
</span></span><span style="display:flex;"><span>$ chkconfig --list  	<span style="color:#75715e"># 列出所有服务开机在那个运行级别情况下启动或关闭</span>
</span></span><span style="display:flex;"><span>$ chkconfig --list network  	<span style="color:#75715e"># 查看指定服务在运行级别下是否自启或关闭</span>
</span></span><span style="display:flex;"><span>$ chkconfig --level levels sshd off<span style="color:#f92672">[</span>on<span style="color:#f92672">]</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->查看系统命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ dmesg  	<span style="color:#75715e"># 命令用于显示开机信息</span>
</span></span><span style="display:flex;"><span>$ uname  	<span style="color:#75715e"># 打印系统信息,-m32or64,-r内核版本,-a(all),-n(显示主机名)hostname 命令</span>
</span></span><span style="display:flex;"><span>$ hostname  	<span style="color:#75715e"># 显示和设置主机名默认是显示主机名，设置主机名可以 hostname 名字(临时生效)</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->创建、修改文件命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ vi  	<span style="color:#75715e"># 编辑器，例子：vi oldboy.txt</span>
</span></span><span style="display:flex;"><span>$ vim  	<span style="color:#75715e"># 复杂编辑器，功能复杂,高亮，写shell/python脚本用</span>
</span></span><span style="display:flex;"><span>$ mv  	<span style="color:#75715e"># move 移动文件或目录</span>
</span></span><span style="display:flex;"><span>$ cp  	<span style="color:#75715e"># copy拷贝文件或目录，默认不能拷贝目录，</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># -r:递归，用于复制目录。-a:相当于-pdr，</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># -p:连同档案的属性一起复制过去，而非使用默认属性。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ rm  	<span style="color:#75715e"># remove 删除目录和文件，-f(force)强制，-r(recursive)递归、用于删除多级目录，</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># 删除命令要慎用，非常危险，删除前一定要先备份一份。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ touch  	<span style="color:#75715e"># 创建文件或更新文件的时间戳，如果文件不存在创建新文件，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># 如果存在改变文件的访问时间atime等时间戳信息。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ echo  	<span style="color:#75715e"># 打印输出内容，配合 &#34;&gt;&#34; 或 &#34;&gt;&gt;&#34; 可以为文件覆盖及追加内容，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># 还有一个较复杂不常用的类似命令printf。-n:不换行输出,-e:可以一起使用：-e &#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ mkdir  	<span style="color:#75715e"># make directorys 创建目录，例子：mkdir /opt/data 在/opt目录下创建data目录，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -p：递归创建目录、mkdir -p /opt/{data/conf,logs}。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ rsync -avz --exclude<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*.out&#39;</span> --delete </span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->磁盘命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ du  	<span style="color:#75715e"># 查看文件和目录大小,-sh</span>
</span></span><span style="display:flex;"><span>$ df  	<span style="color:#75715e"># 查看磁盘信息：-i、-h、-T文件类型</span>
</span></span><span style="display:flex;"><span>$ dd  	<span style="color:#75715e"># 转换或者复制文件</span>
</span></span><span style="display:flex;"><span>$ fsck  	<span style="color:#75715e"># 磁盘检查</span>
</span></span><span style="display:flex;"><span>$ fdisk  	<span style="color:#75715e"># 磁盘分区工具小于2T</span>
</span></span><span style="display:flex;"><span>$ tune2fs  	<span style="color:#75715e"># 修改文件系统信息</span>
</span></span><span style="display:flex;"><span>$ megacli  	<span style="color:#75715e"># 查看raid信息</span>
</span></span><span style="display:flex;"><span>$ mount  	<span style="color:#75715e"># -t type -o 选项</span>
</span></span><span style="display:flex;"><span>$ umount  	<span style="color:#75715e"># 卸载，强制卸载：-lF</span>
</span></span><span style="display:flex;"><span>$ parted  	<span style="color:#75715e"># 分区工具（常用于2T的文件系统）</span>
</span></span><span style="display:flex;"><span>$ mkswap  	<span style="color:#75715e"># 格式化swap分区</span>
</span></span><span style="display:flex;"><span>$ dumpe2fs  	<span style="color:#75715e"># 查看ext文件系统信息</span>
</span></span><span style="display:flex;"><span>$ dumper2fs  	<span style="color:#75715e"># 查看文件系统内部信息(元数据)</span>
</span></span><span style="display:flex;"><span>$ ipmitools  	<span style="color:#75715e"># 查看硬件系统工具</span>
</span></span><span style="display:flex;"><span>$ resize2fs  	<span style="color:#75715e"># 调整文件系统大小（LVM drbd）</span>
</span></span><span style="display:flex;"><span>$ partprobe  	<span style="color:#75715e"># 把分区表的修改变化通知内核</span>
</span></span><span style="display:flex;"><span>$ mkfs.ext4  	<span style="color:#75715e"># (mkfs -t ext4 )格式化 -b block -I inode</span>
</span></span><span style="display:flex;"><span>$ swapon/swapoff  	<span style="color:#75715e"># 使用swap分区，例如swapon /dev/sdb1</span></span></span></code></pre></div><ul>
<li><code>Linux</code><!-- raw HTML omitted -->三剑客<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<ul>
<li><a href="http://blog.51yip.com/shell/985.html/comment-page-1#comment-25486" rel="external" target="_self"><code>awk</code>是命令还是编程语言</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ tr  	<span style="color:#75715e"># 替换translate or delete characters(逐个字符替换)</span>
</span></span><span style="display:flex;"><span>$ seq  	<span style="color:#75715e"># sequence序列 -s指定分隔符,seq -s&#34; &#34; -f&#34;str%03g&#34; 9 11 str009 str010 str011</span>
</span></span><span style="display:flex;"><span>$ sed  	<span style="color:#75715e"># stream editorlinux三剑客老二，流编辑器，实现对文件的增删改替换查，</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># 参数：-n:取消默认输出，-i:修改文件内容，-e:允许多项编辑功能，-p:打印，</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># s与g联合使用时,表示对当前行全局匹配替换，s:常说的查找并替换,用一个字符串替换成另一个</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># \：使用转义符</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># sed -i s#oldboy#oldgirl#g a.txt #:是分隔符，可以用/@等替换。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sed -n  <span style="color:#e6db74">&#39;/10\/Sep\/2022:20:00:00/,/10\/Sep\/2022:21:00/p&#39;</span> app.jsonl | awk -F <span style="color:#e6db74">&#39;[&#34;,]+&#39;</span> <span style="color:#e6db74">&#39;{print $10,$13}&#39;</span> |grep -v <span style="color:#ae81ff">200</span> | sort |uniq -c | sort -nr | head -10
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ awk  	<span style="color:#75715e"># 过滤、输出内容，$1:第一列，$2:第二列依次类推，但$0:表示一行，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># NR:行号，NF:表示最后结尾一列，-F:指定分隔符、使用：[]可以过滤多个参数，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># awk -F &#39;[:]&#39; &#39;NR==1 {print $1,$4,$NF}&#39; /etc/passwd</span>
</span></span><span style="display:flex;"><span>$ awk <span style="color:#e6db74">&#39;$0 &gt;= &#34;2023/12/01 00:00:00&#34; &amp;&amp; $0 &lt;= &#34;2023/12/01 23:59:59&#34;&#39;</span> live_go_chat_pre.log &gt; 2023-12-01.txt
</span></span><span style="display:flex;"><span>$ cat nginx.jsonl | awk -F <span style="color:#e6db74">&#39;&#34;&#39;</span> <span style="color:#e6db74">&#39;{if($50 != &#34;XXXIP&#34; &amp;&amp; $50 == &#34;XXXIP&#34;) {print $0}}&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ grep  	<span style="color:#75715e"># linux三剑客老三过滤需要的内容，例子：grep -v oldboy test.txt，</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># grep一般常用参数:</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -a:在二进制文件中，以文件文件的方式搜素数据</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -c:计算找到&#39;搜索字符串&#39;的次数</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -o:仅显示出匹配regexp的内容(用于统计出现在文中的次数)</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -i:不区分大小写，所以大小写视为相同</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -n:匹配的内容在其行首显示行号</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -v:反向选择，即显示没有&#39;搜索字符串&#39;内容的那一行</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -E:扩展的grep，即egrep</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -v:后面接要排除的内容</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -n:对匹配的内容打印行号</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -w:按单词搜索，相当于\ \b。</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># Context control:</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -B:(before)除了显示匹配的一行之外,并显示该行之前的num行</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -A:(after)除了显示匹配的一行之外,并显示该行之后的num行</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># -C:(Context)除了显示匹配的一行之外,并显示该行之前后各num行</span>
</span></span><span style="display:flex;"><span>				<span style="color:#75715e"># --color=auto:对过滤的匹配的字符串加颜色</span>
</span></span><span style="display:flex;"><span>$ sort  	<span style="color:#75715e"># 排序命令，-n：依照数值的大小排序，-r：以相反的顺序来排序</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ uniq  	<span style="color:#75715e"># 去重命令，-c或--count 在每列旁边显示该行重复出现的次数</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->其他命令<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>:set fileformat<span style="color:#f92672">=</span>unix  	<span style="color:#75715e"># windows 换行符缓存Linux</span>
</span></span><span style="display:flex;"><span>$ dos2unix bash.sh
</span></span><span style="display:flex;"><span>$ ln  	<span style="color:#75715e"># 创建软硬连接,-s软(readlink)、修改软连接：ln -snf 源文件地址 链接名称， ln -s dist_commit pro，ln -s dist_commit pre， </span>
</span></span><span style="display:flex;"><span>$ cut  	<span style="color:#75715e"># 切割 取列,-d分隔符,-f取列,-c字符</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ tar  	<span style="color:#75715e"># z:压缩、c:备份、v:屏幕输出过程、f:指定备份文件、j:bzip2压缩/解压缩、</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># x:归档中提取文件 X N:日期格式、p:保留原来的文件权限与属性、</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># P:使用文件名的绝对路径，不移除文件名称前的“/”号、</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># C:仅压缩指定目录里的内容或解压缩到指定目录、</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># --exclude=/usr/local/nginx/log:排除不需要打包目录</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># tar -c --lzma -f nginx-logs.tar.lzma /opt/logs/nginx 极限压缩格式</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># tar zcvf /opt/backup/nginx-$(date +%F).tar.gz --exclude=/usr/local/nginx/log nginx 忽略log 目录压缩</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ wget  	<span style="color:#75715e"># 下载 -q 安静 -O 指定文件名</span>
</span></span><span style="display:flex;"><span>$ curl  	<span style="color:#75715e"># -I查看响应header信息 -s安静的 -w获取</span>
</span></span><span style="display:flex;"><span>$ lynx  	<span style="color:#75715e"># 命令行纯文本浏览器</span>
</span></span><span style="display:flex;"><span>$ test  	<span style="color:#75715e"># 测试命令，-f:测试文件是否存在，-d:测试目录是否存在</span>
</span></span><span style="display:flex;"><span>$ crontab  	<span style="color:#75715e"># 计划任务，如果任务没执行需要查看文件权限：/var/spool/cron/crontabs/root 是否为：600权限，以及组权限是否属于：crontab</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ split  	<span style="color:#75715e"># 手动切割日志、文件，-b：指定文件压缩后大小，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -d：指定文件命后缀使用数字(默认使用字母)，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># -a 3：指定后缀文件名是三位数，举例：</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e"># split -b 200M nginx.log -d -a 3 nginx.log，按照nginx.log后缀添加命名</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ diff -c -a -r cms1 cms2  	<span style="color:#75715e"># -a:逐行比较文本文件、</span>
</span></span><span style="display:flex;"><span>									<span style="color:#75715e"># -c:显示全部内文，并标出不同之处、 </span>
</span></span><span style="display:flex;"><span>									<span style="color:#75715e"># -r:比较子目录中的文件</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->获取公网<!-- raw HTML omitted --><code>IP</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ curl ip.gs
</span></span><span style="display:flex;"><span>$ curl -4 ip.gs
</span></span><span style="display:flex;"><span>$ curl -6 ip.gs
</span></span><span style="display:flex;"><span>$ curl ip.sb
</span></span><span style="display:flex;"><span>$ curl -4 ip.sb
</span></span><span style="display:flex;"><span>$ curl -6 ip.sb
</span></span><span style="display:flex;"><span>$ curl cip.cc
</span></span><span style="display:flex;"><span>$ curl -4 cip.cc
</span></span><span style="display:flex;"><span>$ curl icanhazip.com
</span></span><span style="display:flex;"><span>$ curl -4 icanhazip.com
</span></span><span style="display:flex;"><span>$ curl -6 icanhazip.com
</span></span><span style="display:flex;"><span>$ curl api.ipify.org
</span></span><span style="display:flex;"><span>$ curl -4 api.ipify.org
</span></span><span style="display:flex;"><span>$ curl bot.whatismyipaddress.com
</span></span><span style="display:flex;"><span>$ curl -4 bot.whatismyipaddress.com
</span></span><span style="display:flex;"><span>$ curl -6 bot.whatismyipaddress.com
</span></span><span style="display:flex;"><span>$ curl ipinfo.io/ip
</span></span><span style="display:flex;"><span>$ curl -4 ipinfo.io/ip
</span></span><span style="display:flex;"><span>$ curl ipecho.net/plain
</span></span><span style="display:flex;"><span>$ curl -4 ipecho.net/plain
</span></span><span style="display:flex;"><span>$ curl ipinfo.io
</span></span><span style="display:flex;"><span>$ curl -4 ipinfo.io
</span></span><span style="display:flex;"><span>$ curl -4 myip.ipip.net
</span></span><span style="display:flex;"><span>$ curl -4 ifconfig.me
</span></span><span style="display:flex;"><span>$ curl -4 http://members.3322.org/dyndns/getip
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ curl ifconfig.me
</span></span><span style="display:flex;"><span>$ curl icanhazip.com
</span></span><span style="display:flex;"><span>$ curl curlmyip.com
</span></span><span style="display:flex;"><span>$ curl ip.appspot.com
</span></span><span style="display:flex;"><span>$ curl ipinfo.io/ip
</span></span><span style="display:flex;"><span>$ curl ipecho.net/plain
</span></span><span style="display:flex;"><span>$ curl www.trackip.net/i
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 补充</span>
</span></span><span style="display:flex;"><span>$ curl ip.sb
</span></span><span style="display:flex;"><span>$ curl ip.6655.com/ip.aspx
</span></span><span style="display:flex;"><span>$ curl whatismyip.akamai.com
</span></span><span style="display:flex;"><span>$ wget -qO - ifconfig.co
</span></span><span style="display:flex;"><span>$ dig +short myip.opendns.com @resolver1.opendns.com
</span></span><span style="display:flex;"><span>$ curl ident.me
</span></span><span style="display:flex;"><span>$ curl v4.ident.me
</span></span><span style="display:flex;"><span>$ curl v6.ident.me
</span></span><span style="display:flex;"><span>$ curl inet-ip.info
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 返回IP和地区</span>
</span></span><span style="display:flex;"><span>$ curl ip.6655.com/ip.aspx?area<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>$ curl 1111.ip138.com/ic.asp
</span></span><span style="display:flex;"><span>$ curl ip.cn
</span></span><span style="display:flex;"><span>$ curl cip.cc</span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="install_cloud_foundry">Install_Cloud_Foundry</h1>

<h2 id="heading"></h2>
<blockquote>
<ul>
<li>
<p><a href="https://docs.cloudfoundry.org/#read-the-docs" rel="external" target="_self"><code>Cloud Foundry</code></a></p>
<p><code>Cloud Foundr</code>y是一个开源的平台即服务<code>PaaS</code>，它提供了一个统一的接口，可以让开发者使用任何语言、框架和工具，在任何云上快速部署和管理应用程序。 它的主要功能包括： 1. 多云支持：<code>Cloud Foundry</code>支持多种不同的云平台，包括<code>Amazon Web Services（AWS）</code>、<code>Google Cloud Platform（GCP）</code>、<code>Microsoft Azure</code>、<code>IBM Cloud</code>、<code>OpenStack</code>和<code>VMWare vSphere</code>等。 2. 自动伸缩：<code>Cloud Foundry</code>可以自动伸缩，根据负载情况增加或减少实例数量，以保证服务的可用性和性能。 3. 可靠的运行时环境：<code>Cloud Foundry</code>有一个功能强大的运行时环境，可以在多个云上提供稳定的服务。 4. 云服务支持：<code>Cloud Foundry</code>支持多种不同的云服务，包括数据库、存储、消息队列、监控等，可以让开发者更方便快捷地部署和管理应用程序。 5. 简化开发流程：<code>Cloud Foundry</code>提供了一个易于使用的命令行界面，可以让开发者轻松的部署和管理应用程序，简化开发流程</p>
</li>
</ul>
</blockquote>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="../../../js/clipboard.min.js?1719590824" defer></script>
    <script src="../../../js/perfect-scrollbar.min.js?1719590824" defer></script>
    <script src="../../../js/theme.js?1719590824" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <meta name="author" content="äºŒå“¥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Docker :: Hugo Relearn Theme">
    <meta property="og:url" content="https://erge.blog/systems/linux/docker/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Docker :: Hugo Relearn Theme">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Docker :: Hugo Relearn Theme">
    <meta itemprop="datePublished" content="2024-06-28T19:26:44+08:00">
    <meta itemprop="dateModified" content="2024-06-28T19:26:44+08:00">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Docker :: Hugo Relearn Theme</title>
    <link href="../../../images/favicon.ico?1720186644" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../css/fontawesome-all.min.css?1720186645" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fontawesome-all.min.css?1720186645" rel="stylesheet"></noscript>
    <link href="../../../css/nucleus.css?1720186645" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1720186645" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/auto-complete.css?1720186645" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar.min.css?1720186645" rel="stylesheet">
    <link href="../../../css/fonts.css?1720186645" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fonts.css?1720186645" rel="stylesheet"></noscript>
    <link href="../../../css/theme.css?1720186645" rel="stylesheet">
    <link href="../../../css/theme-relearn-auto.css?1720186645" rel="stylesheet" id="R-variant-style">
    <link href="../../../css/chroma-relearn-auto.css?1720186645" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../css/variant.css?1720186645" rel="stylesheet">
    <link href="../../../css/print.css?1720186645" rel="stylesheet" media="print">
    <link href="../../../css/format-print.css?1720186645" rel="stylesheet">
    <script src="../../../js/variant.js?1720186645"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../systems/linux/docker/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Docker</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/work_order/install_ferry/" title="Install_Ferry (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../systems/linux/docker/use_docker/" title="Use_Docker (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="docker">Docker</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Docker</h1>
          <article class="default">
            <header class="headline">
            </header>

<h1 id="use_docker">Use_Docker</h1>

<h2 id="ä½¿ç”¨docker">ä½¿ç”¨<code>Docker</code></h2>
<h3 id="dockerå‘½ä»¤"><code>Docker</code>å‘½ä»¤</h3>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->ç°æœ‰å¯åŠ¨ä¸­å®¹å™¨æ‰“åŒ…æˆé•œåƒ<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker commit f61b39f3bb7e flanneld:<span style="color:#66d9ef">$(</span>date  <span style="color:#e6db74">&#34;+%Y%m%d%H%M%S&#34;</span><span style="color:#66d9ef">)</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->æ„å»ºé•œåƒ<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker build -t container_name/nginx:<span style="color:#66d9ef">$(</span>date +%Y%m%d%H%M<span style="color:#66d9ef">)</span> --rm .</span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->æ‰“æ ‡ç­¾<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># æŸ¥çœ‹ tag ä½¿ç”¨å¸®åŠ©</span>
</span></span><span style="display:flex;"><span>$ docker tag -h
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ docker tag nginx:v1 container_name/nginx:<span style="color:#e6db74">`</span>date +%Y%m%d%H%M<span style="color:#e6db74">`</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->æ¨é€åˆ°è¿œç¨‹ä»“åº“<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker push container_name/nginx:tagname
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ¨é€åˆ°è‡ªå»ºharbor</span>
</span></span><span style="display:flex;"><span>$ docker tag SOURCE_IMAGE<span style="color:#f92672">[</span>:TAG<span style="color:#f92672">]</span> 192.168.35.128:9527/test/IMAGE<span style="color:#f92672">[</span>:TAG<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ¨é€é•œåƒåˆ°å½“å‰é¡¹ç›®</span>
</span></span><span style="display:flex;"><span>$ docker push 192.168.35.128:9527/test/IMAGE<span style="color:#f92672">[</span>:TAG<span style="color:#f92672">]</span></span></span></code></pre></div></blockquote>
<ul>
<li><!-- raw HTML omitted -->å¯åŠ¨åœæ­¢å‘½ä»¤<!-- raw HTML omitted --></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker-compose -f /opt/docker-compose.yml down &gt;&gt; $log 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>$ docker-compose -f /opt/docker-compose.yml up -d &gt;&gt; $log 2&gt;&amp;<span style="color:#ae81ff">1</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="dockerfileæ–‡ä»¶"><code>Dockerfile</code>æ–‡ä»¶</h3>
<blockquote>
<ul>
<li>d</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> nginx  	# æ„å»ºé•œåƒåŸºäºå“ªä¸ªé•œåƒ</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">MAINTAINER</span><span style="color:#e6db74">ï¼šé•œåƒç»´æŠ¤è€…å§“åæˆ–é‚®ç®±åœ°å€</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> yum -y install wget <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    <span style="color:#f92672">&amp;&amp;</span> wget -O redis.tar.gz <span style="color:#e6db74">&#34;http://download.redis.io/releases/redis-5.0.3.tar.gz&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    <span style="color:#f92672">&amp;&amp;</span> tar -xvf redis.tar.gz  	<span style="color:#75715e"># æ˜¯åœ¨ docker buildã€‚æ„å»ºé•œåƒæ‰§è¡Œçš„å‘½ä»¤ï¼Œæ¯ä¸€æ¬¡RUNéƒ½ä¼šæ„å»ºä¸€å±‚</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">CMD</span> [<span style="color:#e6db74">&#34;/etc/nginx/nginx.conf&#34;</span>] <span style="color:#75715e"># å˜å‚ï¼Œè¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellç¯å¢ƒï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ™ä»¥æœ€åä¸€ä¸ªä¸ºå‡†ï¼Œä¹Ÿå¯ä»¥ä¸ºENTRYPOINTæä¾›å‚æ•°</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">VOLUME</span><span style="color:#e6db74">ï¼šæŒ‡å®šå®¹å™¨æŒ‚è½½ç‚¹åˆ°å®¿ä¸»æœºè‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•æˆ–å…¶ä»–å®¹å™¨ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä½¿ç”¨é»˜è®¤</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">USER</span><span style="color:#e6db74"> &lt;ç”¨æˆ·å&gt;[:&lt;ç”¨æˆ·ç»„&gt;]  	# ä¸ºRUNã€CMDã€å’Œ ENTRYPOINT æ‰§è¡Œå‘½ä»¤æŒ‡å®šè¿è¡Œç”¨æˆ·å’Œå¦‚æœæ²¡æœ‰å®šä¹‰åˆ™ä½¿ç”¨é»˜è®¤</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">WORKDIR</span><span style="color:#e6db74"> &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;  # ä¸º RUNã€CMDã€ENTRYPOINTã€COPY å’Œ ADD è®¾ç½®å·¥ä½œç›®å½•ï¼Œå°±æ˜¯åˆ‡æ¢ç›®å½•</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>HEALTHCHECHï¼šå¥åº·æ£€æŸ¥<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ARG</span>ï¼šå˜é‡å±æ€§å€¼ï¼Œä¸åœ¨å®¹å™¨å†…éƒ¨èµ·ä½œç”¨ï¼Œåªæœ‰ docker build çš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">EXPOSE</span><span style="color:#e6db74"> 80 443  	# å£°æ˜å®¹å™¨çš„æœåŠ¡ç«¯å£ï¼ˆä»…ä»…æ˜¯å£°æ˜ï¼‰ï¼Œä½¿ç”¨ç«¯å£éœ€è¦åšæ˜ å°„</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENV</span>ï¼šè®¾ç½®å®¹å™¨ç¯å¢ƒå˜é‡<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ADD</span>ï¼šæ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œå¦‚æœæ˜¯URLæˆ–å‹ç¼©åŒ…ä¾¿ä¼šè‡ªåŠ¨ä¸‹è½½æˆ–è‡ªåŠ¨è§£å‹<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> hom?.txt /opt/data/  	<span style="color:#75715e"># æ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œè·ŸADDç±»ä¼¼ï¼Œä½†ä¸å…·å¤‡è‡ªåŠ¨ä¸‹è½½æˆ–è§£å‹çš„åŠŸèƒ½</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENTRYPOINT</span> [<span style="color:#e6db74">&#34;nginx&#34;</span>, <span style="color:#e6db74">&#34;-c&#34;</span>] <span style="color:#75715e"># å®šå‚ï¼Œè¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellå‘½ä»¤ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ª ENTRYPOINT æŒ‡ä»¤ï¼Œä»…æœ€åä¸€ä¸ªç”Ÿæ•ˆ</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="docker-composeæ–‡ä»¶"><code>docker-compose</code>æ–‡ä»¶</h3>
<blockquote>
<ul>
<li><code>docker-compose-test.yml</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3&#34;</span>    <span style="color:#75715e"># docker-composeç‰ˆæœ¬</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:   <span style="color:#75715e"># å®šä¹‰container</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">mysql</span>:    <span style="color:#75715e"># containeråç§°-ç›¸å½“äº--name web</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">mysql </span> <span style="color:#75715e"># å¯åŠ¨ååç§°</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">network_mode</span>: <span style="color:#ae81ff">bridge</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">mysql:8     </span> <span style="color:#75715e"># imageæ¥æº</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">MYSQL_ROOT_PASSWORD</span>: <span style="color:#e6db74">&#34;root&#34;</span>   <span style="color:#75715e"># è®¾ç½®rootè´¦å·å¯†ç </span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">MYSQL_USER</span>: <span style="color:#e6db74">&#34;user_name&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">MYSQL_PASSWORD</span>: <span style="color:#e6db74">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">MYSQL_DATABASE</span>: <span style="color:#e6db74">&#34;databases_name&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">MYSQL_ALLOW_EMPTY_PASSWORD</span>: <span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">TZ</span>: <span style="color:#ae81ff">Asia/Shanghai          </span> <span style="color:#75715e"># æŒ‡å®šä¸œå…«æ—¶åŒº</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">user</span>: <span style="color:#e6db74">&#34;1001:1001&#34;</span>   <span style="color:#75715e"># å¯åŠ¨åå®¹å™¨ä¸­ç”¨æˆ·idå’Œç»„idï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç”¨æˆ·åå’Œç»„å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ulimits</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">memlock</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">soft</span>: -<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">hard</span>: -<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:    <span style="color:#75715e"># è®¾ç½®æŒä¹…åŒ–æ˜ å°„å…³ç³»ï¼Œ</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">../data/mysql:/var/lib/mysql</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">../conf/mysql/conf.d:/etc/mysql/conf.d</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">../conf/mysql/my.cnf:/etc/mysql/my.cnf</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:      <span style="color:#75715e"># æŒ‡å®šç«¯å£æ˜ å°„</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;3306:3306&#34;</span>     <span style="color:#75715e"># ç«¯å£æ˜ å°„å…³ç³» å’Œportsä¸€èµ·ç›¸å½“äº-p 9001:9989</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:   <span style="color:#75715e"># æŒ‡å®šnetwork-ç›¸å½“äº--network springboot</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">springboot</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ipv4_address</span>: <span style="color:#ae81ff">172.20.0.6</span>    <span style="color:#75715e"># æŒ‡å®šå®¹å™¨ipåœ°å€-ç›¸å½“äº--ip 172.20.0.6</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;--lower_case_table_names=1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#      - &#34;--init-connect=&#39;SET NAMES UTF8MB4;&#39;&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;--character-set-server=utf8mb4&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;--collation-server=utf8mb4_unicode_ci&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#####  	ç¬¬äºŒä¸ªå®¹å™¨eså‚æ•°é…ç½®  	#####</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">es</span>:   <span style="color:#75715e"># containeråç§°-ç›¸å½“äº--name es</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">docker.elastic.co/elasticsearch/elasticsearch:7.11.1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">es</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">discovery.type=single-node</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;ES_JAVA_OPTS=-Xms512m -Xmx512m&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ulimits</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">memlock</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">soft</span>: -<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">hard</span>: -<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../data/es:/usr/share/elasticsearch/data&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../conf/es/ik:/usr/share/elasticsearch/plugins/ik&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">9100</span>:<span style="color:#ae81ff">9100</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">9200</span>:<span style="color:#ae81ff">9200</span>   <span style="color:#75715e"># å‰é¢ä¸ºå®¿ä¸»æœºæ˜ å°„ç«¯å£ï¼Œåé¢ä¸ºå®¹å™¨å†…ç«¯å£</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">rabbit</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">rabbit</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">rabbitmq:3-management</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_DEFAULT_USER</span>: <span style="color:#e6db74">&#34;user_name&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_DEFAULT_PASS</span>: <span style="color:#e6db74">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_DEFAULT_VHOST</span>: <span style="color:#e6db74">&#34;develop&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;5672:5672&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;15672:15672&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#####  	ç¬¬ä¸‰ä¸ªå®¹å™¨rediså‚æ•°é…ç½®  	##### </span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">redis</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">redis</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">redis:6</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;6379:6379&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: <span style="color:#e6db74">&#34;redis-server --requirepass password&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;7474:7474&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;7687:7687&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#####  	ç¬¬å››ä¸ªå®¹å™¨å‚æ•°é…ç½®  	#####</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">javaapp</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name </span>: <span style="color:#ae81ff">javaapp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image </span>: <span style="color:#ae81ff">javaapp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">context</span>: <span style="color:#ae81ff">./</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">dockerfile</span>: <span style="color:#ae81ff">./javaapp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/tmp/logs:/opt/logs&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../service/javaapp-0.0.1-SNAPSHOT.jar:/javaapp-0.0.1-SNAPSHOT.jar&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">LOCAL_TEST</span>: <span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">MYSQL_URL</span>: <span style="color:#e6db74">&#34;jdbc:mysql://mysql:3306/gcgdata?characterEncoding=utf-8&amp;useSSL=true&amp;serverTimezone=GMT&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">MYSQL_USER</span>: <span style="color:#e6db74">&#34;user_name&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">MYSQL_PASSWD</span>: <span style="color:#e6db74">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">REDIS_HOST</span>: <span style="color:#e6db74">&#34;redis&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">REDIS_PORT</span>: <span style="color:#e6db74">&#34;6379&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">REDIS_PASSWD</span>: <span style="color:#e6db74">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_HOST</span>: <span style="color:#e6db74">&#34;rabbit&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_PORT</span>: <span style="color:#e6db74">&#34;5672&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_USER</span>: <span style="color:#e6db74">&#34;user_name&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_PASSWD</span>: <span style="color:#e6db74">&#34;password&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_VHOST</span>: <span style="color:#e6db74">&#34;develop&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RABBITMQ_SSL_ENABLED</span>: <span style="color:#e6db74">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ES_SCHEME</span>: <span style="color:#e6db74">&#34;http&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ES_HOSTS</span>: <span style="color:#e6db74">&#34;es:9200&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ES_USER</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ES_PASSWD</span>: <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXXAPP_USER_DEFAULTAVATAR</span>: <span style="color:#e6db74">&#34;https://oss.domain.com/xxx/default/icon_user_default.png&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXXAPP_USER_NICKNAMEPREFIX</span>: <span style="color:#e6db74">&#34;xxx_&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXXAPP_URL_PREFIX</span>: <span style="color:#e6db74">&#34;http://domain.com/appApi&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXXAPP_SHARE_URL</span>: <span style="color:#e6db74">&#39;{scheme}://domain.com/{inviteCode}&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXXAPP_DOWNLOAD_URL_IOS_STORE</span>: <span style="color:#e6db74">&#34;http://fir.domain.com/downapple?randStr=3psgechs0g&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">CN_MSG_URL</span>: <span style="color:#e6db74">&#39;http://IP:8000&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">DEFAUTL_SMS_URL</span>: <span style="color:#e6db74">&#34;http://IP:80001&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">DEFAULT_SMS_CONTENT</span>: <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXX_DOMAINS</span>: <span style="color:#e6db74">&#34;http://domain.com,http://domain.vip&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXX_API_DOMAINS</span>: <span style="color:#e6db74">&#34;http://domain.com,http://domain.vip&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">FORBID_MOBILE</span>: <span style="color:#e6db74">&#34;165,171,172,1700,1701,1702,162,1703,1705,1706,1704,1707,1708,1709,167&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">DATA_CENTER_ID</span>: <span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">XXX_SHARE_DOMAINS</span>: <span style="color:#e6db74">&#34;domain.vip&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">QINIU_AK</span>: <span style="color:#e6db74">&#34;gXAT245FwtyTFqutHpouoc7oKg8tsfOUaawjTkqe&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">QINIU_KK</span>: <span style="color:#e6db74">&#34;YCMdEVi2cdZPqKm6N5dHv8H6UNdGAtDJ2OQBwI9G&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">QINIU_BUCKET</span>: <span style="color:#e6db74">&#34;ossprod&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">mysql</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">es</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">rabbit</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">redis</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#####  	ç¬¬äº”ä¸ªå®¹å™¨å‚æ•°é…ç½®  	##### </span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nginx</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../conf/nginx/nginx.conf:/etc/nginx/nginx.conf&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../conf/nginx/mime.types:/etc/nginx/mime.types&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../conf/nginx/conf.d:/etc/nginx/conf.d&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;../html:/usr/share/nginx/html&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;80:80&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    depends_on:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">overlay</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">overlay</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:   <span style="color:#75715e"># å®šä¹‰network-ç›¸å½“äº docker network create --subnet=172.20.0.0/24 springboot è¯¥å‘½ä»¤åˆ›å»ºçš„networké»˜è®¤ä¹Ÿæ˜¯æ¡¥æ¥æ¨¡å¼</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">springboot</span>:   <span style="color:#75715e"># networkåç§°</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">driver</span>: <span style="color:#ae81ff">bridge     </span> <span style="color:#75715e"># å®šä¹‰networkç±»å‹ä¸ºæ¡¥æ¥æ¨¡å¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ipam</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">driver</span>: <span style="color:#ae81ff">default</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">config</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#f92672">subnet</span>: <span style="color:#ae81ff">172.20.0.0</span><span style="color:#ae81ff">/24    </span> <span style="color:#75715e"># æŒ‡å®šç½‘æ®µä¿¡æ¯</span></span></span></code></pre></div></blockquote>
</blockquote>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="install_docker">Install_Docker</h1>

<h2 id="dockeréƒ¨ç½²"><code>Docker</code>éƒ¨ç½²</h2>
<h3 id="debianéƒ¨ç½²docker"><code>Debian</code>éƒ¨ç½²<code>Docker</code></h3>
<blockquote>
<ul>
<li>å¸è½½æ‰€æœ‰å†²çªçš„åŒ…</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ <span style="color:#66d9ef">for</span> pkg in docker.io docker-doc docker-compose podman-docker containerd runc; <span style="color:#66d9ef">do</span> sudo apt-get remove $pkg; <span style="color:#66d9ef">done</span></span></span></code></pre></div></blockquote>
<ul>
<li>è®¾ç½®<code>Docker</code>çš„<code>apt</code>å­˜å‚¨åº“</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># æ·»åŠ Dockerçš„å®˜æ–¹GPGå¯†é’¥</span>
</span></span><span style="display:flex;"><span>$ sudo apt-get update
</span></span><span style="display:flex;"><span>$ sudo apt-get install ca-certificates curl
</span></span><span style="display:flex;"><span>$ sudo install -m <span style="color:#ae81ff">0755</span> -d /etc/apt/keyrings
</span></span><span style="display:flex;"><span>$ sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc
</span></span><span style="display:flex;"><span>$ sudo chmod a+r /etc/apt/keyrings/docker.asc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å°†å­˜å‚¨åº“æ·»åŠ åˆ° Apt æº</span>
</span></span><span style="display:flex;"><span>$ echo <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#34;deb [arch=</span><span style="color:#66d9ef">$(</span>dpkg --print-architecture<span style="color:#66d9ef">)</span><span style="color:#e6db74"> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  </span><span style="color:#66d9ef">$(</span>. /etc/os-release <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;</span>$VERSION_CODENAME<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74"> stable&#34;</span> | <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span style="display:flex;"><span>$ sudo apt-get update</span></span></code></pre></div></blockquote>
<ul>
<li>æŒ‰ç…§<code>Docker</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># å®‰è£…æœ€æ–°ç‰ˆæœ¬ </span>
</span></span><span style="display:flex;"><span>$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ—å‡ºå¯ç”¨çš„ç‰ˆæœ¬</span>
</span></span><span style="display:flex;"><span>$ apt-cache madison docker-ce | awk <span style="color:#e6db74">&#39;{ print $3 }&#39;</span>
</span></span><span style="display:flex;"><span>5:26.1.0-1~debian.12~bookworm
</span></span><span style="display:flex;"><span>5:26.0.2-1~debian.12~bookworm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ VERSION_STRING<span style="color:#f92672">=</span>5:26.1.0-1~debian.12~bookworm
</span></span><span style="display:flex;"><span>$ sudo apt-get install docker-ce<span style="color:#f92672">=</span>$VERSION_STRING docker-ce-cli<span style="color:#f92672">=</span>$VERSION_STRING containerd.io docker-buildx-plugin docker-compose-plugin</span></span></code></pre></div></blockquote>
<ul>
<li>å¯åŠ¨</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo systemctl enable docker <span style="color:#f92672">&amp;&amp;</span> sudo systemctl start docker</span></span></code></pre></div></blockquote>
<ul>
<li>é…ç½®æ™®é€šç”¨æˆ·åŠ å…¥<code>Docker</code>ç»„</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo usermod -aG docker user_name</span></span></code></pre></div></blockquote>
<ul>
<li>é…ç½®<code>docker-compose</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ ln -s /usr/libexec/docker/cli-plugins/docker-compose /usr/bin/docker-compose</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="centoséƒ¨ç½²docker"><code>CentOS</code>éƒ¨ç½²<code>Docker</code></h3>
<blockquote>
<ul>
<li>å¸è½½æ—§ç‰ˆæœ¬</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo yum remove docker <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-client <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-client-latest <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-common <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-latest <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-latest-logrotate <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-logrotate <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                  docker-engine</span></span></code></pre></div></blockquote>
<ul>
<li>ä½¿ç”¨<code>rpm</code>å­˜å‚¨åº“å®‰è£…</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sudo yum install -y yum-utils
</span></span><span style="display:flex;"><span>$ sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre></div></blockquote>
<ul>
<li>å®‰è£…<code>Docker Engine</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># å®‰è£…æœ€æ–°ç‰ˆæœ¬</span>
</span></span><span style="display:flex;"><span>$ sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å®‰è£…ç‰¹å®šç‰ˆæœ¬</span>
</span></span><span style="display:flex;"><span>$ yum list docker-ce --showduplicates | sort -r
</span></span><span style="display:flex;"><span>docker-ce.x86_64    3:26.1.3-1.el9    docker-ce-stable
</span></span><span style="display:flex;"><span>docker-ce.x86_64    3:26.1.2-1.el9    docker-ce-stable
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io docker-buildx-plugin docker-compose-plugin</span></span></code></pre></div></blockquote>
<ul>
<li>å¯åŠ¨</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ $ sudo systemctl enable docker <span style="color:#f92672">&amp;&amp;</span> sudo systemctl start docker</span></span></code></pre></div></blockquote>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="../../../js/clipboard.min.js?1720186645" defer></script>
    <script src="../../../js/perfect-scrollbar.min.js?1720186645" defer></script>
    <script src="../../../js/theme.js?1720186645" defer></script>
  </body>
</html>

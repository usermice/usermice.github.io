<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="é…ç½®Tomcat æ¸…ç†Tomcatæ—¥å¿— æ¸…ç†è¶…è¿‡ä¸ƒå¤©ä»¥ä¸Šçš„æ—¥ $ echo &#34;#!/bin/bash/ tomdate=&#34;$(date &#43;&#34;%Y%m%d%s&#34;)&#34; tomlog=&#39;/opt/logs/tomcat*&#39; echo $tomdate # echo $tomlog find $tomlog/*.">
    <meta name="author" content="äºŒå“¥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Configure_Tomcat :: Hugo Relearn Theme">
    <meta name="twitter:description" content="é…ç½®Tomcat æ¸…ç†Tomcatæ—¥å¿— æ¸…ç†è¶…è¿‡ä¸ƒå¤©ä»¥ä¸Šçš„æ—¥ $ echo &#34;#!/bin/bash/ tomdate=&#34;$(date &#43;&#34;%Y%m%d%s&#34;)&#34; tomlog=&#39;/opt/logs/tomcat*&#39; echo $tomdate # echo $tomlog find $tomlog/*.">
    <meta property="og:url" content="https://erge.blog/systems/linux/backend/tomcat/configure_tomcat/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Configure_Tomcat :: Hugo Relearn Theme">
    <meta property="og:description" content="é…ç½®Tomcat æ¸…ç†Tomcatæ—¥å¿— æ¸…ç†è¶…è¿‡ä¸ƒå¤©ä»¥ä¸Šçš„æ—¥ $ echo &#34;#!/bin/bash/ tomdate=&#34;$(date &#43;&#34;%Y%m%d%s&#34;)&#34; tomlog=&#39;/opt/logs/tomcat*&#39; echo $tomdate # echo $tomlog find $tomlog/*.">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Systems">
    <meta property="article:published_time" content="2024-06-17T19:05:52+08:00">
    <meta property="article:modified_time" content="2024-06-17T19:05:52+08:00">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Configure_Tomcat :: Hugo Relearn Theme">
    <meta itemprop="description" content="é…ç½®Tomcat æ¸…ç†Tomcatæ—¥å¿— æ¸…ç†è¶…è¿‡ä¸ƒå¤©ä»¥ä¸Šçš„æ—¥ $ echo &#34;#!/bin/bash/ tomdate=&#34;$(date &#43;&#34;%Y%m%d%s&#34;)&#34; tomlog=&#39;/opt/logs/tomcat*&#39; echo $tomdate # echo $tomlog find $tomlog/*.">
    <meta itemprop="datePublished" content="2024-06-17T19:05:52+08:00">
    <meta itemprop="dateModified" content="2024-06-17T19:05:52+08:00">
    <meta itemprop="wordCount" content="290">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Configure_Tomcat :: Hugo Relearn Theme</title>
    <link href="../../../../../images/favicon.ico?1719330258" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../../../css/fontawesome-all.min.css?1719330259" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../../css/fontawesome-all.min.css?1719330259" rel="stylesheet"></noscript>
    <link href="../../../../../css/nucleus.css?1719330259" rel="stylesheet">
    <link href="../../../../../css/auto-complete.css?1719330259" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../../css/auto-complete.css?1719330259" rel="stylesheet"></noscript>
    <link href="../../../../../css/perfect-scrollbar.min.css?1719330259" rel="stylesheet">
    <link href="../../../../../css/fonts.css?1719330259" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../../css/fonts.css?1719330259" rel="stylesheet"></noscript>
    <link href="../../../../../css/theme.css?1719330259" rel="stylesheet">
    <link href="../../../../../css/theme-relearn-auto.css?1719330259" rel="stylesheet" id="R-variant-style">
    <link href="../../../../../css/chroma-relearn-auto.css?1719330259" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../../../css/variant.css?1719330259" rel="stylesheet">
    <link href="../../../../../css/print.css?1719330259" rel="stylesheet" media="print">
    <link href="../../../../../css/format-print.css?1719330259" rel="stylesheet">
    <script src="../../../../../js/variant.js?1719330259"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../../../systems/linux/backend/tomcat/configure_tomcat/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../../systems/linux/backend/"><span itemprop="name">Backend</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../../systems/linux/backend/tomcat/"><span itemprop="name">Tomcat</span></a><meta itemprop="position" content="4">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Configure_Tomcat</span><meta itemprop="position" content="5"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../../systems/linux/backend/tomcat/" title="Tomcat (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../../systems/linux/backend/tomcat/install_tomcat/" title="Install_Tomcat (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="configure_tomcat">Configure_Tomcat</h1>

<h2 id="é…ç½®tomcat">é…ç½®<code>Tomcat</code></h2>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->æ¸…ç†<!-- raw HTML omitted --><code>Tomcat</code><!-- raw HTML omitted -->æ—¥å¿—<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->æ¸…ç†è¶…è¿‡ä¸ƒå¤©ä»¥ä¸Šçš„æ—¥<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;#!/bin/bash/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">tomdate=&#34;</span><span style="color:#66d9ef">$(</span>date +<span style="color:#e6db74">&#34;%Y%m%d%s&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">tomlog=&#39;/opt/logs/tomcat*&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">echo </span>$tomdate<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># echo </span>$tomlog<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">find </span>$tomlog<span style="color:#e6db74">/*.log  -type f -ctime +7 -exec  rm  -f  {}  \;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">find </span>$tomlog<span style="color:#e6db74">/*.txt  -type f -ctime +7 -exec  rm  -f  {}  \; &#34;</span>&gt;/opt/scripts/DEL_TOMLOG.sh</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æ¸…ç†æ—¥å¿—è„šæœ¬æ·»åŠ åˆ°è®¡åˆ’ä»»åŠ¡<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;### tomcatè¶…éä¸ƒå¤©logåˆªé™¤
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">1 0 * * * /bin/bash /opt/scripts/DEL_TOMLOG.sh &gt;&gt; ~/del_tom.log 2&gt;&amp;1&#34;</span> &gt;&gt; /var/spool/cron/myadmin</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->æ—¥å¿—åšæ¯æ—¥åˆ‡å‰²<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#34;/opt/data/logs/tomcat/catalina.out{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">copytruncate
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">daily
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">rotate 7
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">missingok
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">compress
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">size 100k
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">su root root
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">} &#34;</span>&gt;&gt; /etc/logrotate.d/tomcat  </span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted -->å®‰å…¨è®¾ç½®è§„èŒƒ<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>  telnet</code><!-- raw HTML omitted -->ç®¡ç†ç«¯å£ä¿æŠ¤ï¼ˆå¼ºåˆ¶ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>telnet</code>ç®¡ç†ç«¯å£ä¿æŠ¤</td>
<td>1.ä¿®æ”¹é»˜è®¤çš„<code>8005</code>ç®¡ç†ç«¯å£ä¸ºä¸æ˜“çŒœæµ‹çš„ç«¯å£ï¼ˆå¤§äº1024ï¼‰ï¼›  <!-- raw HTML omitted -->2.ä¿®æ”¹<code>SHUTDOWN</code>æŒ‡ä»¤ä¸ºå…¶ä»–å­—ç¬¦ä¸²ï¼›</td>
<td><!-- raw HTML omitted --></td>
<td>1.ä»¥ä¸Šé…ç½®é¡¹çš„é…ç½®å†…å®¹åªæ˜¯å»ºè®®é…ç½®ï¼Œå¯ä»¥æŒ‰ç…§æœåŠ¡å®é™…æƒ…å†µè¿›è¡Œåˆç†é…ç½®ï¼Œä½†è¦æ±‚ç«¯å£é…ç½®åœ¨<strong>8000~8999</strong>ä¹‹é—´ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><code>ajp</code><!-- raw HTML omitted -->è¿æ¥ç«¯å£ä¿æŠ¤ï¼ˆæ¨èï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ajp  è¿æ¥ç«¯å£ä¿æŠ¤</td>
<td>1.ä¿®æ”¹é»˜è®¤çš„<code>ajp 8009</code>ç«¯å£ä¸ºä¸æ˜“å†²çªçš„å¤§äº1024ç«¯å£ï¼›  2.é€šè¿‡<code>iptables</code>è§„åˆ™é™åˆ¶<code>ajp</code>ç«¯å£è®¿é—®çš„æƒé™ä»…ä¸ºçº¿ä¸Šæœºå™¨ï¼›</td>
<td><!-- raw HTML omitted --></td>
<td>ä»¥ä¸Šé…ç½®é¡¹çš„é…ç½®å†…å®¹ä»…ä¸ºå»ºè®®é…ç½®ï¼Œè¯·æŒ‰ç…§æœåŠ¡å®é™…æƒ…å†µè¿›è¡Œåˆç†é…ç½®ï¼Œä½†è¦æ±‚ç«¯å£é…ç½®åœ¨<strong>8000~8999</strong>ä¹‹é—´ï¼›ï¼›  ä¿æŠ¤æ­¤ç«¯å£çš„ç›®çš„åœ¨äºé˜²æ­¢çº¿ä¸‹çš„æµ‹è¯•æµé‡è¢«<code>mod_jk</code>è½¬å‘è‡³çº¿ä¸Š<code>tomcat</code>æœåŠ¡å™¨ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->ç¦ç”¨ç®¡ç†ç«¯ï¼ˆå¼ºåˆ¶ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¦ç”¨ç®¡ç†ç«¯</td>
<td>1. åˆ é™¤é»˜è®¤çš„{<code>Tomcat</code>å®‰è£…ç›®å½•}<code>/conf/tomcat-users.xml</code>æ–‡ä»¶ï¼Œé‡å¯<code>tomcat</code>åå°†ä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„æ–‡ä»¶ï¼›  2. åˆ é™¤{<code>Tomcat</code>å®‰è£…ç›®å½•}<code>/webapps</code>ä¸‹é»˜è®¤çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼›  3.å°†<code>tomcat</code>åº”ç”¨æ ¹ç›®å½•é…ç½®ä¸º<code>tomcat</code>å®‰è£…ç›®å½•ä»¥å¤–çš„ç›®å½•ï¼›</td>
<td><!-- raw HTML omitted --></td>
<td>å¯¹äºå‰æ®µ<code>web</code>æ¨¡å—ï¼Œ<code>Tomcat</code>ç®¡ç†ç«¯å±äº<code>tomcat</code>çš„é«˜å±å®‰å…¨éšæ‚£ï¼Œä¸€æ—¦è¢«æ”»ç ´ï¼Œé»‘å®¢é€šè¿‡ä¸Šä¼ <code>web shell</code>çš„æ–¹å¼å°†ä¼šç›´æ¥å–å¾—æœåŠ¡å™¨çš„æ§åˆ¶æƒï¼Œåæœæå…¶ä¸¥é‡ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->é™æƒå¯åŠ¨ï¼ˆå¼ºåˆ¶ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>é™æƒå¯åŠ¨</td>
<td>1.<code>tomcat</code>å¯åŠ¨ç”¨æˆ·æƒé™å¿…é¡»ä¸ºé<code>root</code>æƒé™ï¼Œå°½é‡é™ä½<code>tomcat</code>å¯åŠ¨ç”¨æˆ·çš„ç›®å½•è®¿é—®æƒé™ï¼› <!-- raw HTML omitted --> 2.å¦‚éœ€ç›´æ¥å¯¹å¤–ä½¿ç”¨<code>80</code>ç«¯å£ï¼Œå¯é€šè¿‡æ™®é€šè´¦å·å¯åŠ¨åï¼Œé…ç½®<code>iptables</code>è§„åˆ™è¿›è¡Œè½¬å‘ï¼›</td>
<td>-</td>
<td>é¿å…ä¸€æ—¦<code>tomcat</code>æœåŠ¡è¢«å…¥ä¾µï¼Œé»‘å®¢ç›´æ¥è·å–é«˜çº§ç”¨æˆ·æƒé™å±å®³æ•´ä¸ª<code>server</code>çš„å®‰å…¨ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted --> æ–‡ä»¶åˆ—è¡¨è®¿é—®æ§åˆ¶ï¼ˆå¼ºåˆ¶ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–‡ä»¶åˆ—è¡¨è®¿é—®æ§åˆ¶</td>
<td>1.<code>conf/web.xml</code>æ–‡ä»¶ä¸­<code>default</code>éƒ¨åˆ†<code>listings</code>çš„é…ç½®å¿…é¡»ä¸º<code>false</code>ï¼›</td>
<td><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>listings</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>false</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --></td>
<td><code>false</code>ä¸ºä¸åˆ—å‡ºç›®å½•æ–‡ä»¶ï¼Œ<code>true</code>ä¸ºå…è®¸åˆ—å‡ºï¼Œé»˜è®¤ä¸º<code>false</code>ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->ç‰ˆæœ¬ä¿¡æ¯éšè—ï¼ˆå¼ºåˆ¶ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç‰ˆæœ¬ä¿¡æ¯éšè—</td>
<td>1.ä¿®æ”¹<code>conf/web.xml</code>ï¼Œé‡å®šå‘<code>403</code>ã€<code>404</code>ä»¥åŠ<code>500</code>ç­‰é”™è¯¯åˆ°æŒ‡å®šçš„é”™è¯¯é¡µé¢ï¼›  2.ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹åº”ç”¨ç¨‹åºç›®å½•ä¸‹çš„<code>WEB-INF/web.xml</code>ä¸‹çš„é…ç½®è¿›è¡Œé”™è¯¯é¡µé¢çš„é‡å®šå‘ï¼›</td>
<td><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>403</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>/forbidden.jsp</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted -->  <!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>404</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>/notfound.jsp</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted -->  <!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>500</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --><strong>/systembusy.jsp</strong><!-- raw HTML omitted -->  <!-- raw HTML omitted --></td>
<td>åœ¨é…ç½®ä¸­å¯¹ä¸€äº›å¸¸è§é”™è¯¯è¿›è¡Œé‡å®šå‘ï¼Œé¿å…å½“å‡ºç°é”™è¯¯æ—¶tomcaté»˜è®¤æ˜¾ç¤ºçš„é”™è¯¯é¡µé¢æš´éœ²æœåŠ¡å™¨å’Œç‰ˆæœ¬ä¿¡æ¯ï¼›  å¿…é¡»ç¡®ä¿ç¨‹åºæ ¹ç›®å½•ä¸‹çš„é”™è¯¯é¡µé¢å·²ç»å­˜åœ¨ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li>2.7 <!-- raw HTML omitted --><code>  Server header</code>é‡å†™ï¼ˆæ¨èï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Server header</code>é‡å†™</td>
<td>åœ¨<code>HTTP Connector</code>é…ç½®ä¸­åŠ å…¥<code>server</code>çš„é…ç½®ï¼›</td>
<td>server=&quot;<strong>webserver</strong>&quot;</td>
<td>å½“<code>tomcat HTTP</code>ç«¯å£ç›´æ¥æä¾›<code>web</code>æœåŠ¡æ—¶æ­¤é…ç½®ç”Ÿæ•ˆï¼ŒåŠ å…¥æ­¤é…ç½®ï¼Œå°†ä¼šæ›¿æ¢<code>http</code> å“åº”<code>Server header</code>éƒ¨åˆ†çš„é»˜è®¤é…ç½®ï¼Œé»˜è®¤æ˜¯<code>Apache-Coyote/1.1</code></td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted --> è®¿é—®é™åˆ¶ï¼ˆå¯é€‰ï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®æˆ–æ“ä½œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è®¿é—®é™åˆ¶</td>
<td>é€šè¿‡é…ç½®ï¼Œé™å®šè®¿é—®çš„<code>ip</code>æ¥æº</td>
<td><!-- raw HTML omitted -->  &lt;Valve  className=&ldquo;org.apache.catalina.valves.RemoteAddrValve&rdquo; <strong>allow=&ldquo;61.148.18.138,61.135.165.*&rdquo;  deny=&quot;*.*.*.*&quot;</strong>/&gt;  <!-- raw HTML omitted --></td>
<td>é€šè¿‡é…ç½®ä¿¡ä»»<code>ip</code>çš„ç™½åå•ï¼Œæ‹’ç»éç™½åå•<code>ip</code>çš„è®¿é—®ï¼Œæ­¤é…ç½®ä¸»è¦æ˜¯é’ˆå¯¹é«˜ä¿å¯†çº§åˆ«çš„ç³»ç»Ÿï¼Œä¸€èˆ¬äº§å“çº¿ä¸éœ€è¦ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->èµ·åœè„šæœ¬æƒé™å›æ”¶ï¼ˆæ¨èï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®æˆ–æ“ä½œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>èµ·åœè„šæœ¬æƒé™å›æ”¶</td>
<td>å»é™¤å…¶ä»–ç”¨æˆ·å¯¹<code>Tomcat</code>çš„<code>bin</code>ç›®å½•ä¸‹<code>shutdown.sh</code>ã€<code>startup.sh</code>ã€<code>catalina.sh</code>çš„å¯æ‰§è¡Œæƒé™ï¼›</td>
<td>chmod -R 744 tomcat/bin/*</td>
<td>é˜²æ­¢å…¶ä»–ç”¨æˆ·æœ‰èµ·åœçº¿ä¸Š<code>Tomcat</code>çš„æƒé™ï¼›</td>
</tr>
</tbody>
</table>
<ul>
<li><!-- raw HTML omitted -->è®¿é—®æ—¥å¿—æ ¼å¼è§„èŒƒï¼ˆæ¨èï¼‰<!-- raw HTML omitted --></li>
</ul>
<table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>é…ç½®å†…å®¹åŠè¯´æ˜</th>
<th>æ ‡å‡†é…ç½®æˆ–æ“ä½œ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>è®¿é—®æ—¥å¿—æ ¼å¼è§„èŒƒ</td>
<td>å¼€å¯<code>Tomcat</code>é»˜è®¤è®¿é—®æ—¥å¿—ä¸­çš„<code>Referer</code>å’Œ<code>User-Agent</code>è®°å½•</td>
<td><!-- raw HTML omitted --></td>
<td>å¼€å¯<code>Referer</code>å’Œ<code>User-Agent</code>æ˜¯ä¸ºäº†ä¸€æ—¦å‡ºç°å®‰å…¨é—®é¢˜èƒ½å¤Ÿæ›´å¥½çš„æ ¹æ®æ—¥å¿—è¿›è¡Œé—®é¢˜æ’æŸ¥ï¼›</td>
</tr>
</tbody>
</table>
</blockquote>
<ul>
<li>
<ol start="3">
<li><!-- raw HTML omitted -->å»ºè®®é…ç½®åŠæ ‡å‡†æ‰§è¡Œæ–¹æ¡ˆ<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->é…ç½®éƒ¨åˆ†<!-- raw HTML omitted --><code>${CATALINA_HOME}conf/server.xml</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;<span style="color:#e6db74">${</span>CATALINA_HOME<span style="color:#e6db74">}</span>conf/server.xml<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;Server port=&#34;8527&#34; shutdown=&#34; dangerous&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;!-- Define a non-SSL HTTP/1.1 Connector on port 8080 --&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;Connector port=&#34;8080&#34; server=&#34;webserver&#34;/&gt; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;!-- Define an AJP 1.3 Connector on port 8528 --&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;!--Define an accesslog --&gt; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;Valve className=&#34;org.apache.catalina.valves.AccessLogValve&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                 directory=&#34;logs&#34;  prefix=&#34;localhost_access_log.&#34; suffix=&#34;.txt&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                 pattern=&#34;%h %l %u %t %r %s %b %{Referer}i %{User-Agent}i %D&#34; resolveHosts=&#34;false&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &lt;Connector port=&#34;8528&#34; protocol=&#34;AJP/1.3&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;Context path=&#34;&#34; docBase=&#34;/home/work/local/tomcat_webapps&#34; debug=&#34;0&#34; reloadable=&#34;false&#34; crossContext=&#34;true&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->é…ç½®éƒ¨åˆ†<!-- raw HTML omitted --><code>${CATALINA_HOME}conf/web.xml</code><!-- raw HTML omitted -->æˆ–è€…<!-- raw HTML omitted --><code>WEB-INF/web.xml</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;<span style="color:#e6db74">${</span>CATALINA_HOME<span style="color:#e6db74">}</span>conf/web.xmlæˆ–è€…WEB-INF/web.xml<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;init-param&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;param-name&gt;listings&lt;/param-name&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;param-value&gt;false&lt;/param-value&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/init-param&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;error-code&gt;403&lt;/error-code&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;location&gt;/forbidden.jsp&lt;/location&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;error-code&gt;404&lt;/error-code&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;location&gt;/notfound.jsp&lt;/location&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;error-code&gt;500&lt;/error-code&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	&lt;location&gt;/systembusy.jsp&lt;/location&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/error-page&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->åˆ é™¤å¦‚ä¸‹<code>tomcat</code>çš„é»˜è®¤ç›®å½•å’Œé»˜è®¤æ–‡ä»¶<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ rm -rf tomcat/webapps/*
</span></span><span style="display:flex;"><span>$ rm -rf tomcat/conf/tomcat-user.xml</span></span></code></pre></div><ul>
<li><!-- raw HTML omitted -->å»é™¤å…¶ä»–ç”¨æˆ·å¯¹<code>tomcat</code>èµ·åœè„šæœ¬çš„æ‰§è¡Œæƒé™<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ chmod <span style="color:#ae81ff">744</span> â€“R tomcat/bin/*</span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../../../js/clipboard.min.js?1719330259" defer></script>
    <script src="../../../../../js/perfect-scrollbar.min.js?1719330259" defer></script>
    <script src="../../../../../js/theme.js?1719330259" defer></script>
  </body>
</html>

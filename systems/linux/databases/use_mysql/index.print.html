<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Êï∞ÊçÆÂ∫ì‰ΩøÁî® Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑ ÂêçÁß∞Âú∞ÂùÄ ÊèèËø∞ WorkBenCh MySQL‰∫ßÂìÅÊ°£Ê°à ‰∏ãËΩΩMySQL-8.0ÁöÑÁ¥¢Âºï MysqlÊ∑±ÂÖ•Â≠¶‰π†Á¨îËÆ∞ SQLyogÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ DBeaverÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ Mysql WorkBenChËèúÂçï‰∏≠ÊñáÊ±âÂåñ Navicat Premium 15ÂÆâË£Ö‰∏éÊøÄÊ¥ª Navicat Premium 16‰∏ãËΩΩ‰∏éÂÆâË£ÖÁ†¥Ëß£ÊïôÁ®ã ‰ΩøÁî®ÈÄöÁî®‰∫åËøõÂà∂Êñá‰ª∂Âú®Unix/Linux ÂÆâË£ÖMySQL Navicat Premium 15Ê∞∏‰πÖÁ†¥Ëß£ÊøÄÊ¥ªÂ∑•ÂÖ∑ÂèäÂÆâË£ÖÊïôÁ®ã Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§ Êï∞ÊçÆÂ∫ìÂëΩ‰ª§ ËØ¥Êòé ‰∏æ‰æã select ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñÊï∞ÊçÆ Êü•ÁúãÁî®Êà∑Êï∞ÊçÆÔºöselect user,host from mysql.">
    <meta name="author" content="‰∫åÂì•">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erge.blog/images/s2-1.png">
    <meta name="twitter:title" content="Use_Mysql :: Hugo Relearn Theme">
    <meta name="twitter:description" content="Êï∞ÊçÆÂ∫ì‰ΩøÁî® Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑ ÂêçÁß∞Âú∞ÂùÄ ÊèèËø∞ WorkBenCh MySQL‰∫ßÂìÅÊ°£Ê°à ‰∏ãËΩΩMySQL-8.0ÁöÑÁ¥¢Âºï MysqlÊ∑±ÂÖ•Â≠¶‰π†Á¨îËÆ∞ SQLyogÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ DBeaverÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ Mysql WorkBenChËèúÂçï‰∏≠ÊñáÊ±âÂåñ Navicat Premium 15ÂÆâË£Ö‰∏éÊøÄÊ¥ª Navicat Premium 16‰∏ãËΩΩ‰∏éÂÆâË£ÖÁ†¥Ëß£ÊïôÁ®ã ‰ΩøÁî®ÈÄöÁî®‰∫åËøõÂà∂Êñá‰ª∂Âú®Unix/Linux ÂÆâË£ÖMySQL Navicat Premium 15Ê∞∏‰πÖÁ†¥Ëß£ÊøÄÊ¥ªÂ∑•ÂÖ∑ÂèäÂÆâË£ÖÊïôÁ®ã Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§ Êï∞ÊçÆÂ∫ìÂëΩ‰ª§ ËØ¥Êòé ‰∏æ‰æã select ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñÊï∞ÊçÆ Êü•ÁúãÁî®Êà∑Êï∞ÊçÆÔºöselect user,host from mysql.">
    <meta property="og:url" content="https://erge.blog/systems/linux/databases/use_mysql/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Use_Mysql :: Hugo Relearn Theme">
    <meta property="og:description" content="Êï∞ÊçÆÂ∫ì‰ΩøÁî® Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑ ÂêçÁß∞Âú∞ÂùÄ ÊèèËø∞ WorkBenCh MySQL‰∫ßÂìÅÊ°£Ê°à ‰∏ãËΩΩMySQL-8.0ÁöÑÁ¥¢Âºï MysqlÊ∑±ÂÖ•Â≠¶‰π†Á¨îËÆ∞ SQLyogÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ DBeaverÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ Mysql WorkBenChËèúÂçï‰∏≠ÊñáÊ±âÂåñ Navicat Premium 15ÂÆâË£Ö‰∏éÊøÄÊ¥ª Navicat Premium 16‰∏ãËΩΩ‰∏éÂÆâË£ÖÁ†¥Ëß£ÊïôÁ®ã ‰ΩøÁî®ÈÄöÁî®‰∫åËøõÂà∂Êñá‰ª∂Âú®Unix/Linux ÂÆâË£ÖMySQL Navicat Premium 15Ê∞∏‰πÖÁ†¥Ëß£ÊøÄÊ¥ªÂ∑•ÂÖ∑ÂèäÂÆâË£ÖÊïôÁ®ã Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§ Êï∞ÊçÆÂ∫ìÂëΩ‰ª§ ËØ¥Êòé ‰∏æ‰æã select ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñÊï∞ÊçÆ Êü•ÁúãÁî®Êà∑Êï∞ÊçÆÔºöselect user,host from mysql.">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Systems">
    <meta property="article:published_time" content="2024-06-17T19:50:04+08:00">
    <meta property="article:modified_time" content="2024-06-17T19:50:04+08:00">
    <meta property="og:image" content="https://erge.blog/images/s2-1.png">
    <meta itemprop="name" content="Use_Mysql :: Hugo Relearn Theme">
    <meta itemprop="description" content="Êï∞ÊçÆÂ∫ì‰ΩøÁî® Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑ ÂêçÁß∞Âú∞ÂùÄ ÊèèËø∞ WorkBenCh MySQL‰∫ßÂìÅÊ°£Ê°à ‰∏ãËΩΩMySQL-8.0ÁöÑÁ¥¢Âºï MysqlÊ∑±ÂÖ•Â≠¶‰π†Á¨îËÆ∞ SQLyogÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ DBeaverÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑ Mysql WorkBenChËèúÂçï‰∏≠ÊñáÊ±âÂåñ Navicat Premium 15ÂÆâË£Ö‰∏éÊøÄÊ¥ª Navicat Premium 16‰∏ãËΩΩ‰∏éÂÆâË£ÖÁ†¥Ëß£ÊïôÁ®ã ‰ΩøÁî®ÈÄöÁî®‰∫åËøõÂà∂Êñá‰ª∂Âú®Unix/Linux ÂÆâË£ÖMySQL Navicat Premium 15Ê∞∏‰πÖÁ†¥Ëß£ÊøÄÊ¥ªÂ∑•ÂÖ∑ÂèäÂÆâË£ÖÊïôÁ®ã Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§ Êï∞ÊçÆÂ∫ìÂëΩ‰ª§ ËØ¥Êòé ‰∏æ‰æã select ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñÊï∞ÊçÆ Êü•ÁúãÁî®Êà∑Êï∞ÊçÆÔºöselect user,host from mysql.">
    <meta itemprop="datePublished" content="2024-06-17T19:50:04+08:00">
    <meta itemprop="dateModified" content="2024-06-17T19:50:04+08:00">
    <meta itemprop="wordCount" content="2988">
    <meta itemprop="image" content="https://erge.blog/images/s2-1.png">
    <title>Use_Mysql :: Hugo Relearn Theme</title>
    <link href="../../../../images/favicon.ico?1723803344" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../../css/fontawesome-all.min.css?1723803345" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fontawesome-all.min.css?1723803345" rel="stylesheet"></noscript>
    <link href="../../../../css/nucleus.css?1723803345" rel="stylesheet">
    <link href="../../../../css/auto-complete.css?1723803345" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/auto-complete.css?1723803345" rel="stylesheet"></noscript>
    <link href="../../../../css/perfect-scrollbar.min.css?1723803345" rel="stylesheet">
    <link href="../../../../css/fonts.css?1723803345" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../../css/fonts.css?1723803345" rel="stylesheet"></noscript>
    <link href="../../../../css/theme.css?1723803345" rel="stylesheet">
    <link href="../../../../css/theme-relearn-auto.css?1723803345" rel="stylesheet" id="R-variant-style">
    <link href="../../../../css/chroma-relearn-auto.css?1723803345" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../../css/variant.css?1723803345" rel="stylesheet">
    <link href="../../../../css/print.css?1723803345" rel="stylesheet" media="print">
    <link href="../../../../css/format-print.css?1723803345" rel="stylesheet">
    <script src="../../../../js/variant.js?1723803345"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/erge.blog';
      window.index_js_url="../../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../../systems/linux/databases/use_mysql/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/"><span itemprop="name">Systems</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/"><span itemprop="name">Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../../systems/linux/databases/"><span itemprop="name">Databases</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Use_Mysql</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/databases/install_canal/" title="Install_Canal (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../../systems/linux/databases/install_mysql/" title="Install_Mysql (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="use_mysql">Use_Mysql</h1>

<h1 id="Êï∞ÊçÆÂ∫ì‰ΩøÁî®">Êï∞ÊçÆÂ∫ì‰ΩøÁî®</h1>
<h2 id="Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ">Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ</h2>
<blockquote>
<ul>
<li><a href="https://www.cs.usfca.edu/~galles/visualization/" rel="external" target="_self">Êï∞ÊçÆÁªìÊûÑÂèØËßÜÂåñ</a></li>
</ul>
</blockquote>
<hr>
<h2 id="Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑">Êï∞ÊçÆÂ∫ìËøûÊé•Â∑•ÂÖ∑</h2>
<blockquote>
<table>
<thead>
<tr>
<th>ÂêçÁß∞Âú∞ÂùÄ</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://downloads.mysql.com/archives/workbench/" rel="external" target="_self"><code>WorkBenCh</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://downloads.mysql.com/archives/community/" rel="external" target="_self"><code>MySQL</code>‰∫ßÂìÅÊ°£Ê°à</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://mirrors.cloud.tencent.com/mysql/downloads/MySQL-8.0/" rel="external" target="_self">‰∏ãËΩΩ<code>MySQL-8.0</code>ÁöÑÁ¥¢Âºï</a></td>
<td></td>
</tr>
<tr>
<td><a href="http://www.notedeep.com/page/282" rel="external" target="_self"><code>Mysql</code>Ê∑±ÂÖ•Â≠¶‰π†Á¨îËÆ∞</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://sqlyog.softonic.cn/" rel="external" target="_self"><code>SQLyog</code>Êï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://dbeaver.io/download/" rel="external" target="_self"><code>DBeaver</code>Êï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØËøûÊé•Â∑•ÂÖ∑</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://github.com/pifeifei/mysql-workbench-zh-cn" rel="external" target="_self"><code>Mysql WorkBenCh</code>ËèúÂçï‰∏≠ÊñáÊ±âÂåñ</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://www.jianshu.com/p/4113cd5ef139" rel="external" target="_self"><code>Navicat Premium 15</code>ÂÆâË£Ö‰∏éÊøÄÊ¥ª</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://learnku.com/articles/67706" rel="external" target="_self"><code>Navicat Premium 16</code>‰∏ãËΩΩ‰∏éÂÆâË£ÖÁ†¥Ëß£ÊïôÁ®ã</a></td>
<td></td>
</tr>
<tr>
<td><a href="https://dev.mysql.com/doc/refman/8.0/en/binary-installation.html" rel="external" target="_self">‰ΩøÁî®ÈÄöÁî®‰∫åËøõÂà∂Êñá‰ª∂Âú®<code>Unix/Linux </code>ÂÆâË£Ö<code>MySQL</code></a></td>
<td></td>
</tr>
<tr>
<td><a href="https://www.jianshu.com/p/523c132006aa" rel="external" target="_self"><code>Navicat Premium 15</code>Ê∞∏‰πÖÁ†¥Ëß£ÊøÄÊ¥ªÂ∑•ÂÖ∑ÂèäÂÆâË£ÖÊïôÁ®ã</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h2 id="Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§">Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§</h2>
<blockquote>
<table>
<thead>
<tr>
<th>Êï∞ÊçÆÂ∫ìÂëΩ‰ª§</th>
<th>ËØ¥Êòé</th>
<th>‰∏æ‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>select</code></td>
<td>‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñÊï∞ÊçÆ</td>
<td>Êü•ÁúãÁî®Êà∑Êï∞ÊçÆÔºö<code>select user,host from mysql.user \G;</code></td>
</tr>
<tr>
<td><code>update</code></td>
<td>Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆ</td>
<td></td>
</tr>
<tr>
<td><code>delete</code></td>
<td>‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Âà†Èô§Êï∞ÊçÆ</td>
<td></td>
</tr>
<tr>
<td><code>insert into</code></td>
<td>ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÊèíÂÖ•Êï∞ÊçÆ</td>
<td>ÊèíÂÖ•Êï∞ÊçÆÔºö<code>insert into tiantian.tt1 values(1,'lisi');</code></td>
</tr>
<tr>
<td><code>create database</code></td>
<td>ÂàõÂª∫Êñ∞Êï∞ÊçÆÂ∫ì</td>
<td>ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºö<code>create database tiantian;</code></td>
</tr>
<tr>
<td><code>alter database</code></td>
<td>Êõ¥ÊîπÊï∞ÊçÆÂ∫ì</td>
<td></td>
</tr>
<tr>
<td><code>create table</code></td>
<td>ÂàõÂª∫Ë°®</td>
<td>ÂàõÂª∫Êï∞ÊçÆË°®Ôºö<code>create table tiantian.tt1(id int, name varchar(50));</code></td>
</tr>
<tr>
<td><code>alter table</code></td>
<td>Êõ¥ÊîπË°®</td>
<td></td>
</tr>
<tr>
<td><code>drop table</code></td>
<td>Âà†Èô§Ë°®</td>
<td></td>
</tr>
<tr>
<td><code>create index</code></td>
<td>ÂàõÂª∫Á¥¢Âºï(ÊêúÁ¥¢ÈîÆ)</td>
<td></td>
</tr>
<tr>
<td><code>drop index</code></td>
<td>Âà†Èô§Á¥¢Âºï</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><code>Where</code>ËØ≠Âè•‰∏≠ÁöÑËøêÁÆóÁ¨¶</th>
<th>ËØ¥Êòé</th>
<th>‰∏æ‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>=</code></td>
<td>Á≠â‰∫é</td>
<td></td>
</tr>
<tr>
<td><code>&lt;&gt;</code></td>
<td>‰∏çÁ≠â‰∫éÔºöÂú®<code>SQL</code>ÁöÑ‰∏Ä‰∫õÁâàÊú¨‰∏≠ÔºåÊîπÊìç‰ΩúÁ¨¶Ë¢´ÂÜôÊàê<code>!=</code></td>
<td></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>Â§ß‰∫é</td>
<td></td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>Â∞è‰∫é</td>
<td></td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>Â§ß‰∫éÁ≠â‰∫é</td>
<td></td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>Â∞è‰∫éÁ≠â‰∫é</td>
<td></td>
</tr>
<tr>
<td><code>BETWEEN</code></td>
<td>Âú®Êüê‰∏™ËåÉÂõ¥ÂÜÖ</td>
<td></td>
</tr>
<tr>
<td><code>LIKE</code></td>
<td>ÊêúÁ¥¢ÊüêÁßçÊ®°Âºè</td>
<td></td>
</tr>
<tr>
<td><code>IN</code></td>
<td>ÊåáÂÆöÈíàÂØπÊüê‰∏™ÂàóÁöÑÂ§ö‰∏™ÂèØËÉΩÂÄº</td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="Êü•ËØ¢ËøûÊé•Êï∞">Êü•ËØ¢ËøûÊé•Êï∞</h3>
<blockquote>
<ul>
<li>
<!-- raw HTML omitted -->
</li>
<li><strong>Êü•ÁúãÂΩìÂâçÊ¥ªÂä®Á∫øÁ®ãÁä∂ÊÄÅ</strong></li>
</ul>
<blockquote>
<ul>
<li><code>Threads_cached</code><!-- raw HTML omitted -->ÁºìÂ≠òÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºåËøô‰∫õÁ∫øÁ®ãÂ§Ñ‰∫éÁù°Áú†Áä∂ÊÄÅ‰ª•Â§áÂ§çÁî®<!-- raw HTML omitted --></li>
<li><code>Threads_connected</code><!-- raw HTML omitted -->ÂΩìÂâçÊâìÂºÄÁöÑËøûÊé•Êï∞<!-- raw HTML omitted --></li>
<li><code>Threads_created</code><!-- raw HTML omitted -->‰∏∫Â§ÑÁêÜËøûÊé•ËÄåÂàõÂª∫ÁöÑÁ∫øÁ®ãÊï∞<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> status <span style="color:#66d9ef">like</span>  <span style="color:#e6db74">&#39;Threads%&#39;</span>; </span></span></code></pre></div><ul>
<li>Â¶ÇÊûú<code>Threads_created</code>ÂæàÂ§ßÔºåÊÇ®ÂèØËÉΩÈúÄË¶ÅÂ¢ûÂä†<code>thread_cache_size</code>ÁöÑÂÄº„ÄÇÁºìÂ≠òÂ§±ËØØÁéáÂèØ‰ª•ÈÄöËøá<code>Threads_created/Connections</code>ËÆ°ÁÆó</li>
</ul>
</blockquote>
<ul>
<li><strong>ÊòæÁ§∫Áî®Êà∑Ê≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ã</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> full processlist;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êü•ÁúãÊúÄÂ§ßÈìæÊé•Êï∞</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> variables <span style="color:#66d9ef">like</span> <span style="color:#e6db74">&#39;%max_connections%&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏¥Êó∂Â¢ûÂä†ËøûÊé•Êï∞ÔºåÈÖçÁΩÆÊñá‰ª∂Â¢ûÂä†ÂèÇÊï∞Ôºömax_connections=4000
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">set</span> GLOBAL max_connections<span style="color:#f92672">=</span><span style="color:#ae81ff">4000</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êü•ÁúãËøûÊé•ÁöÑÁî®Êà∑Âíå</strong><code>IP</code><strong>‰ª•ÂèäË∂ÖÊó∂Êó∂Èó¥</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># Êü•ÁúãËøûÊé•ÁöÑÁî®Êà∑ÂíåIP‰ª•ÂèäË∂ÖÊó∂Êó∂Èó¥ÔºåÊàñËÄÖ‰ΩøÁî®Ôºöcount(*) ÁªüËÆ°ÊÄªÁªüËøûÊé•Êï∞
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> information_schema.processlist;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÁúãËøûÊé•ÁöÑÁî®Êà∑ÂíåÊØè‰∏™</strong><code>IP</code><strong>ÁöÑËøûÊé•ÊÄªÊï∞Âú∞ÂùÄ</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#a6e22e">substring_index</span>(host, <span style="color:#e6db74">&#39;:&#39;</span>,<span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">AS</span> host_ip,<span style="color:#f92672">`</span><span style="color:#66d9ef">user</span><span style="color:#f92672">`</span>,db,state,<span style="color:#a6e22e">count</span>(<span style="color:#f92672">*</span>) <span style="color:#66d9ef">FROM</span> information_schema.processlist <span style="color:#66d9ef">GROUP</span> <span style="color:#66d9ef">BY</span> state,host_ip,<span style="color:#f92672">`</span><span style="color:#66d9ef">user</span><span style="color:#f92672">`</span>,db;</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="Êü•ËØ¢ÊÖ¢ËØ≠Âè•">Êü•ËØ¢ÊÖ¢ËØ≠Âè•</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># Êü•ËØ¢Âç†Áî®Ë∂ÖÊó∂ÊÖ¢ËØ≠Âè•
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> information_schema.processlist <span style="color:#66d9ef">where</span> Command <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;Sleep&#39;</span> <span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> <span style="color:#66d9ef">Time</span> <span style="color:#66d9ef">desc</span> <span style="color:#960050;background-color:#1e0010">\</span>G;</span></span></code></pre></div></blockquote>
<hr>
<h3 id="‰∏âÁßç‰øÆÊîπÂØÜÁ†ÅÊñπÂºè">‰∏âÁßç‰øÆÊîπÂØÜÁ†ÅÊñπÂºè</h3>
<blockquote>
<ul>
<li><strong>Á¨¨‰∏ÄÁßç‰øÆÊîπÊñπÂºèÔºå</strong><code>8.0</code><strong>Áî®Ê≠§ÊñπÊ≥ï</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">user</span> <span style="color:#e6db74">&#39;root&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;123&#39;</span>;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">alter</span> <span style="color:#66d9ef">user</span> <span style="color:#e6db74">&#39;root&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">with</span> mysql_native_password <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;newpassword&#39;</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Á¨¨‰∫åÁßç‰øÆÊîπÊñπÂºè</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">set</span> password <span style="color:#66d9ef">for</span> <span style="color:#e6db74">&#39;root&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span><span style="color:#f92672">=</span><span style="color:#a6e22e">password</span>(<span style="color:#e6db74">&#39;newpassword&#39;</span>);</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Á¨¨‰∏âÁßç‰øÆÊîπÊñπÂºè</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">update</span> mysql.<span style="color:#66d9ef">user</span> <span style="color:#66d9ef">set</span> authentication_string<span style="color:#f92672">=</span><span style="color:#a6e22e">password</span>(<span style="color:#e6db74">&#39;123qwe&#39;</span>) <span style="color:#66d9ef">where</span> <span style="color:#66d9ef">user</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;root&#39;</span> <span style="color:#66d9ef">and</span> Host <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;localhost&#39;</span>; </span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êõ¥ÊîπÂØÜÁ†Å‰∏∫</strong><code>123456</code></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">update</span> destoon_member <span style="color:#66d9ef">set</span> password<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">‚Äô</span><span style="color:#ae81ff">14</span>e1b600b1fd579f47433b88e8d85291<span style="color:#960050;background-color:#1e0010">‚Ä≤</span> <span style="color:#66d9ef">where</span>
</span></span><span style="display:flex;"><span>username<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">‚Äô</span>admin<span style="color:#960050;background-color:#1e0010">‚Äô</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÂøòËÆ∞Êï∞ÊçÆÂ∫ìÂØÜÁ†Å</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">$</span> cat <span style="color:#f92672">&gt;/</span>etc<span style="color:#f92672">/</span>my.cnf<span style="color:#f92672">&lt;&lt;-</span>EOF
</span></span><span style="display:flex;"><span>[mysqld]  	<span style="color:#75715e"># Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊúÄ‰∏äÈù¢Ê∑ªÂä†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>skip<span style="color:#f92672">-</span><span style="color:#66d9ef">grant</span><span style="color:#f92672">-</span><span style="color:#66d9ef">tables</span>
</span></span><span style="display:flex;"><span>EOF
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈáçÂêØmysqlÊúçÂä°  Áõ¥Êé•‰ΩøÁî® mysql -uroot -p ‰∏çËæìÂÖ•ÂØÜÁ†ÅÁõ¥Êé•ÂõûËΩ¶ËøõÂÖ• ‰øÆÊîπÂØÜÁ†Å
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">update</span> <span style="color:#66d9ef">user</span> <span style="color:#66d9ef">set</span> authentication_string<span style="color:#f92672">=</span><span style="color:#a6e22e">password</span>(<span style="color:#e6db74">&#39;root&#39;</span>);</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="Êï∞ÊçÆÂ∫ìÂ§á‰ªΩËøòÂéü">Êï∞ÊçÆÂ∫ìÂ§á‰ªΩ„ÄÅËøòÂéü</h3>
<h4 id="Â§á‰ªΩ">Â§á‰ªΩ</h4>
<ul>
<li>
<ol>
<li><strong>‰ΩøÁî®<code>mysqldump</code>Â§á‰ªΩÊï∞ÊçÆÂ∫ì</strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><strong>ÊâãÂä®Â§á‰ªΩ</strong></li>
</ul>
<blockquote>
<ul>
<li><code>--all-databases</code><!-- raw HTML omitted -->Â§á‰ªΩÊâÄÊúâÊï∞ÊçÆÂ∫ì<!-- raw HTML omitted --></li>
<li><code>-B, --databases</code><!-- raw HTML omitted -->Â§á‰ªΩÊó∂ÊåáÂÆöÊï∞ÊçÆÂ∫ì<!-- raw HTML omitted --></li>
<li><code>--tables</code><!-- raw HTML omitted -->Â§á‰ªΩÊó∂ÊåáÂÆöÊï∞ÊçÆË°®<!-- raw HTML omitted --></li>
<li><code> --triggers</code><!-- raw HTML omitted -->Âú®Â§á‰ªΩÊó∂ÂåÖÊã¨Ëß¶ÂèëÂô®<!-- raw HTML omitted --></li>
<li><code>--routines</code><!-- raw HTML omitted -->Âú®Â§á‰ªΩÊó∂ÂåÖÊã¨Â≠òÂÇ®ËøáÁ®ã<!-- raw HTML omitted --></li>
<li><code>--events</code><!-- raw HTML omitted -->Âú®Â§á‰ªΩÊó∂ÂåÖÊã¨‰∫ã‰ª∂<!-- raw HTML omitted --></li>
<li><code>-S, --socket</code><!-- raw HTML omitted -->ÊúçÂä°Âô®ÈÄö‰ø°Êó∂Ë¶Å‰ΩøÁî®ÁöÑÂ•óÊé•Â≠óÊñá‰ª∂<!-- raw HTML omitted --></li>
<li><code>--flush-logs</code>ÂèÇÊï∞Áî®‰∫éÂú®Â§á‰ªΩ‰πãÂâçÂà∑Êñ∞<code>MySQL</code>ÁöÑ‰∫åËøõÂà∂Êó•ÂøóÔºåÁ°Æ‰øùÂ§á‰ªΩÂåÖÂê´ÊúÄÊñ∞ÁöÑÊï∞ÊçÆÊõ¥Êñ∞</li>
<li><code>--skip-lock-tables</code>ÂèÇÊï∞ÂÖÅËÆ∏Âú®ÂØºÂá∫<code>MySQL</code>Êï∞ÊçÆÂ∫ìË°®Êó∂Ë∑≥ËøáÂØπË°®ÁöÑÈîÅÂÆöÊìç‰ΩúÔºåÈÄÇÁî®‰∫éÈúÄË¶ÅÊúÄÂ∞èÂåñÊï∞ÊçÆÂ∫ìÂÅúÊú∫Êó∂Èó¥ÊàñÂØπÂØºÂá∫ËøáÁ®ãÂΩ±ÂìçËæÉÂ∞èÁöÑÊÉÖÂÜµ</li>
<li><code>--lock-tables=false</code><!-- raw HTML omitted -->ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå<!-- raw HTML omitted --><code>mysqldump</code> <!-- raw HTML omitted -->‰ºöÈîÅÂÆöË°®Ôºå‰ª•Á°Æ‰øùÂ§á‰ªΩÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÈúÄË¶ÅÈîÅÂÆöË°®ÔºåÂèØ‰ª•‰ΩøÁî®<!-- raw HTML omitted --><code>--lock-tables=false</code><!-- raw HTML omitted -->ÂèÇÊï∞<!-- raw HTML omitted --></li>
<li><code>--column-statistics=0</code><!-- raw HTML omitted -->ÔºöÁ¶ÅÁî®ÁªüËÆ°‰ø°ÊÅØÔºåÂú®<!-- raw HTML omitted --><code>MySQL8</code><!-- raw HTML omitted -->ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞ùËØïÊî∂ÈõÜÊØè‰∏™ÂàóÁöÑÁªüËÆ°‰ø°ÊÅØÔºåËøô‰∫õÁªüËÆ°‰ø°ÊÅØÂåÖÊã¨ÊØè‰∏™ÂàóÁöÑÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄº„ÄÅÂπ≥ÂùáÂÄºÂíåÊ†áÂáÜÂ∑ÆÁ≠âÔºå‰ª•‰æø‰ºòÂåñÊü•ËØ¢ËÆ°ÂàíÂíåÊâßË°å<!-- raw HTML omitted --></li>
<li><code>--no-autocommit</code> ÂèÇÊï∞Á¶ÅÁî®Ëá™Âä®Êèê‰∫§Ê®°ÂºèÔºåÂú®Â§á‰ªΩËøáÁ®ã‰∏≠‰ΩøÁî®‰∫ãÂä°Êù•Á°Æ‰øùÂ§á‰ªΩÁöÑ‰∏ÄËá¥ÊÄßÔºåÂπ∂ÂáèÂ∞ëÂØπÊï∞ÊçÆÂ∫ìÁöÑÈîÅÂÆöÊó∂Èó¥„ÄÇ</li>
<li><code>--master-data</code> ÂèÇÊï∞Âú®Â§á‰ªΩËæìÂá∫‰∏≠ÂåÖÂê´‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂ÂêçÂíå‰ΩçÁΩÆ‰ø°ÊÅØÔºåÂØπ‰∫é‰∏ª‰ªéÂ§çÂà∂ÁéØÂ¢É‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÊÅ¢Â§çÂ∞§ÂÖ∂ÊúâÁî®</li>
<li><code>--single-transaction</code> ÂèÇÊï∞Áî®‰∫é‰ΩøÁî®Âçï‰∏™‰∫ãÂä°ËøõË°åÂ§á‰ªΩÔºåÈÄÇÁî®‰∫é InnoDB Â≠òÂÇ®ÂºïÊìéÔºåÈÅøÂÖç‰∫ÜÂ§á‰ªΩÊúüÈó¥ÁöÑÈîÅË°®Êìç‰Ωú„ÄÇ</li>
<li><code>--set-gtid-purged=OFF</code><!-- raw HTML omitted -->ÔºöÂ¶ÇÊûúÊ∫êÂ∫ìÂºÄÂêØ‰∫Ü<!-- raw HTML omitted --><code>GTID</code><!-- raw HTML omitted -->ÁâπÊÄßÔºå‰ΩøÁî®<!-- raw HTML omitted --><code>mysqldump</code><!-- raw HTML omitted -->ÂØºÂá∫Êï∞ÊçÆÊó∂ÔºåÂ≠òÂú®ÈúÄË¶Å<!-- raw HTML omitted --><code>super</code><!-- raw HTML omitted -->ÊùÉÈôêÊâßË°åÁöÑËØ≠Âè•Ôºö<!-- raw HTML omitted --><code>SET @@SESSION.SQL_LOG_BIN= 0;</code>Ôºå<code>SET @@GLOBAL.GTID_PURGED=¬¥18f9a804-343b-11e5-a21d-b083fed01601:1-2;</code></li>
<li><strong>Â§á‰ªΩÁî®Êà∑ÊùÉÈôê</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">SELECT</span>,RELOAD,<span style="color:#66d9ef">LOCK</span> <span style="color:#66d9ef">TABLES</span>,REPLICATION CLIENT,<span style="color:#66d9ef">SHOW</span> VIEW,EVENT,<span style="color:#66d9ef">TRIGGER</span>,PROCESS <span style="color:#66d9ef">ON</span> <span style="color:#f92672">*</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;backup&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">BY</span> <span style="color:#e6db74">&#39;passwoord&#39;</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Â§á‰ªΩÂ§ö‰∏™Êï∞ÊçÆÂ∫ì</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /bin/mysql -u root -p<span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /tmp/mysqld.sock  -e <span style="color:#e6db74">&#39;show databases;&#39;</span>| <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>grep -E -v <span style="color:#e6db74">&#34;sys|mysql|information_schema|performance_schema|Database&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>|grep -E <span style="color:#e6db74">&#34;.*datebases1</span>$<span style="color:#e6db74">|.*datebases2</span>$<span style="color:#e6db74">&#34;</span> | <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>xargs /bin/mysqldump -u root -p<span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /tmp/mysqld.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--single-transaction --no-autocommit <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--master-data<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> --skip-lock-tables --databases &gt;<span style="color:#e6db74">`</span>date +%F<span style="color:#e6db74">`</span>-datebases_name.sql</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÂØºÂá∫ÂÖ®ÈÉ®Â∫ì</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mysqldump -uroot -p<span style="color:#e6db74">&#39;passowrd&#39;</span> --all-databases &gt; /tmp/all_databases.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysqldump -u root -p<span style="color:#e6db74">&#39;passowrd&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /tmp/mysqld.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--all-databases --lock-tables<span style="color:#f92672">=</span>false <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--routines --single_transaction --flush-logs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--skip-lock-tables --master-data<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>| gzip &gt;/tmp/mysql-all-<span style="color:#e6db74">`</span>date +%F_%H%M%S<span style="color:#e6db74">`</span>.sql.gz </span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÂØºÂá∫Âçï‰∏™Â∫ì</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mysqldump -uroot -p --databases databases_name &gt; /tmp/databases_name.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ /bin/mysqldump -uroot -p<span style="color:#e6db74">&#39;passowrd&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--set-gtid-purged<span style="color:#f92672">=</span>OFF --single-transaction <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--master-data<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --flush-logs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /tmp/mysqld.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--databases database_name | gzip &gt;/tmp/database<span style="color:#e6db74">`</span>date +%F_%H%M%S<span style="color:#e6db74">`</span>.sql.gz</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÂØºÂá∫ÊåáÂÆöË°®</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ mysqldump -uroot -p --databases databases_name --tables tables_name &gt; /tmp/databases_name_tables_name.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/mysql -u root -p<span style="color:#e6db74">&#39;password&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /tmp/mysqld.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#39;select table_name from information_schema.tables where table_schema like &#34;game\-center\_ali&#34;;&#39;</span>|egrep <span style="color:#e6db74">&#34;.*record&#34;</span> | xargs /bin/mysqldump -u root -p<span style="color:#e6db74">&#39;password&#39;</span> -S /tmp/mysqld.sock  --databases databases_name --tables tables_name &gt;/tmp/tables_name.sql</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÂØºÂá∫Ë°®ÁªìÊûÑÂä†<code>-d</code>ÂèÇÊï∞</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /bin/mysqldump -d -uroot -p<span style="color:#e6db74">&#39;passowrd&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-S /opt/data/data_3306/mysql.sock --databases database_name &gt; database_name.sql</span></span></code></pre></div></blockquote>
</blockquote>
<ul>
<li><strong>‰ΩøÁî®<code>Mysql</code>ËÑöÊú¨Â§á‰ªΩÂπ∂ÈÄöÁü•<code>Telegram</code></strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/opt/script/Backup_Mysql.sh<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">DATA=$(date +%F_%H%M%S)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## set ff=unix # ‰øÆÊîπÊç¢Ë°åÁ¨¶
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂÆö‰πâÂ§á‰ªΩÁõÆÂΩï
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MYSQL_BACKUP_PATH=/opt/backup/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂÆö‰πâTelegram Êú∫Âô®‰∫∫IDÂíåÊä•Ë≠¶ÁªÑ
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">TELEGRAM_BOT_ID=&#39;Telegram BOT_ID:BOT_Key&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">TELEGRAM_GROUP_ID=&#39;GROUP_ID&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂÆö‰πâËøûÊé•Êï∞ÊçÆÂ∫ì Ë¥¶Êà∑ÂØÜÁ†ÅIP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_NAME=&#39;backup&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_PASSWORD=&#39;pass&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">DATABASES=&#39;databases name&#39;  	# Â§á‰ªΩË°®Áî®
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_HOST_1=&#39;IP_1&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_HOST_2=&#39;IP_2&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ËøáÊª§Êï∞ÊçÆÂ∫ì, xargsÂíåsed &#39;1d&#39;ÊïàÊûú‰∏ÄÊ†∑
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">DATABASES_1=`/bin/mysql -u${USER_NAME} -p&#34;${USER_PASSWORD}&#34; -h&#34;${USER_HOST_1}&#34; -e &#39;show databases;&#39; | grep -E -v &#34;sys|mysql|information_schema|performance_schema|Database&#34; | /bin/xargs`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## DATABASES_2=`/bin/mysql -u${USER_NAME} -p&#34;${USER_PASSWORD}&#34; -h&#34;${USER_HOST_2}&#34; -e &#39;show databases;&#39; | grep -E -v &#34;sys|mysql|information_schema|performance_schema|Database&#34; | sed &#39;1d&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## Ê£ÄÊµãÂ§á‰ªΩÁõÆÂΩïÊòØÂê¶Â≠òÂú®Ôºå‰∏çÂ≠òÂú®Â∞±ÂàõÂª∫
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## /bin/test -d /opt/backup
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">function TEST_BACKUP_DIR() {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ ! -d ${MYSQL_BACKUP_PATH} ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	/bin/mkdir -p ${MYSQL_BACKUP_PATH}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂºÄÂßãÂáÜÂ§áÂ§á‰ªΩÊï∞ÊçÆÂ∫ì
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">cd ${MYSQL_BACKUP_PATH}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/bin/curl -X POST &#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage&#34; -d &#34;chat_id=${TELEGRAM_GROUP_ID}&amp;text=ÂºÄÂßãÂ§á‰ªΩÔºö${DATABASES_1} ${DATABASES_2} Êï∞ÊçÆÂ∫ì&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">for i in ${DATABASES_1};do
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	/usr/local/mysql/bin/mysqldump -u${USER_NAME} -p&#34;${USER_PASSWORD}&#34; -h${USER_HOST_1} --single-transaction --no-autocommit --master-data=1 --skip-lock-tables ${i} &gt; ${MYSQL_BACKUP_PATH}${i}-`date +%F`.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">done
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ $? -eq 0 ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> /bin/tar -zcvf ${MYSQL_BACKUP_PATH}${i}-`date +%F`.tar.gz ${i}-`date +%F`.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	/bin/curl -X POST &#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage&#34; -d &#34;chat_id=${TELEGRAM_GROUP_ID}&amp;text=${DATABASES_1} ${DATABASES_2} Êï∞ÊçÆÂ∫ìÂ§á‰ªΩÂÆåÊàê&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">else
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	/bin/curl -X POST &#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage&#34; -d &#34;chat_id=${TELEGRAM_GROUP_ID}&amp;text=${DATABASES_1} ${DATABASES_2} Êï∞ÊçÆÂ∫ìÂ§á‰ªΩÂ§±Ë¥•&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/bin/rm -rf ${MYSQL_BACKUP_PATH}*.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## Â§á‰ªΩÊï∞ÊçÆË°®
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">function BACKUP_MYSQL_TABLES() {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	cd ${MYSQL_BACKUP_PATH}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	for DATABASES in ${DATABASES_1};do
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	TABLES_1=$(/bin/mysql -u${USER_NAME} -p&#34;${USER_PASSWORD}&#34; -h&#34;${USER_HOST_1}&#34; ${DATABASES} -e &#34;show tables;&#34;|sed &#39;1d&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		for I in ${TABLES_1};do
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">			/usr/local/mysql/bin/mysqldump -u${USER_NAME} -p&#34;${USER_PASSWORD}&#34; -h${USER_HOST_1} --single-transaction --no-autocommit --master-data=1 --skip-lock-tables ${I} &gt; ${MYSQL_BACKUP_PATH}${i}-`date +%F`.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		done
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		/bin/tar -zcvf ${MYSQL_BACKUP_PATH}${DATABASES}-`date +%F`.tar.gz *.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		/bin/rm -rf ${MYSQL_BACKUP_PATH}*.sql
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	done	
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	if [ $? -eq 0 ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		/bin/curl -X POST &#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage&#34; -d &#34;chat_id=${TELEGRAM_GROUP_ID}&amp;text=${DATABASES_1} ${DATABASES_2} Êï∞ÊçÆÂ∫ìÂ§á‰ªΩÂÆåÊàê&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	else
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">		/bin/curl -X POST &#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage&#34; -d &#34;chat_id=${TELEGRAM_GROUP_ID}&amp;text=${DATABASES_1} ${DATABASES_2} Êï∞ÊçÆÂ∫ìÂ§á‰ªΩÂ§±Ë¥•&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/bin/find ${MYSQL_BACKUP_PATH} -name &#34;databases-*&#34; -mtime +15 -exec  rm  {} \;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h4 id="ËøòÂéü">ËøòÂéü</h4>
<blockquote>
<ul>
<li><strong>Êï∞ÊçÆÂ∫ìËøòÂéü„ÄÅÂØºÂÖ•</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Á¨¨‰∏ÄÁßçÊñπÂºè</span>
</span></span><span style="display:flex;"><span>$ /bin/mysql -u root -p<span style="color:#e6db74">&#39;passowrd&#39;</span> -S /opt/data/data_16303/mysql.sock &lt; /root/all.sql  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Á¨¨‰∫åÁßçÊñπÂºè  </span>
</span></span><span style="display:flex;"><span>mysql&gt; use mysql;
</span></span><span style="display:flex;"><span>mysql&gt; source /root/databases.sql  	<span style="color:#75715e"># ÂΩìÂâçÁõÆÂΩïÁªùÂØπË∑ØÂæÑ</span></span></span></code></pre></div></blockquote>
<ul>
<li><code>.qp</code><strong>Êñá‰ª∂Êï∞ÊçÆÂ∫ìÊÅ¢Â§ç</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ xbstream -x -p <span style="color:#ae81ff">4</span> &lt; ./databases.qp -C /opt/mysql/backup</span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h4 id="‰ΩøÁî®perconaÂ§á‰ªΩÂ∑•ÂÖ∑">‰ΩøÁî®<code>percona</code>Â§á‰ªΩÂ∑•ÂÖ∑</h4>
<blockquote>
<ul>
<li><a href="https://segmentfault.com/a/1190000019305858" rel="external" target="_self"><code>Linux</code>ËøêÁª¥ <code>mysql</code>Êï∞ÊçÆÂ∫ìÁöÑÂ§á‰ªΩ‰∏éÊÅ¢Â§ç</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1119183" rel="external" target="_self"><code>innobackupex</code>Â§á‰ªΩÊÅ¢Â§ç<code>+</code>Â¢ûÈáèÂ§á‰ªΩ‰∏éÊÅ¢Â§ç</a></li>
<li><code>innobackupex</code>ÔºöÊõ¥Â§öÈ´òÁ∫ßÁÆ°ÁêÜÂäüËÉΩÂíåËá™Âä®ÂåñÂ§á‰ªΩËÑöÊú¨</li>
<li><code>xtrabackup</code>ÔºöÈúÄË¶ÅÂü∫Êú¨ÁöÑÁâ©ÁêÜÂ§á‰ªΩÂíåÊÅ¢Â§çÂäüËÉΩÔºåÂπ∂‰∏îÊÑøÊÑèÊâãÂä®ÁÆ°ÁêÜÂ§á‰ªΩÊµÅÁ®ã</li>
<li>ÂÆâË£Ö<a href="https://www.percona.com/software/mysql-database/percona-xtrabackup" rel="external" target="_self"><code>XtraBackup</code></a></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Ê∑ªÂä†yumÊ∫ê</span>
</span></span><span style="display:flex;"><span>$ wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂÆâË£Ö‰æùËµñÂåÖ</span>
</span></span><span style="display:flex;"><span>$ yum -y install perl perl-devel libaio libaio-devel perl-Time-HiRes perl-DBD-MySQL
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ãËΩΩrpmÂåÖ</span>
</span></span><span style="display:flex;"><span>$ wget https://downloads.percona.com/downloads/Percona-XtraBackup-2.4/Percona-XtraBackup-2.4.27/binary/redhat/7/x86_64/percona-xtrabackup-24-2.4.27-1.el7.x86_64.rpm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂÆâË£Ö</span>
</span></span><span style="display:flex;"><span>$ yum -y install percona-xtrabackup-24-2.4.27-1.el7.x86_64.rpm</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÊâãÂä®Â§á‰ªΩ</strong></li>
</ul>
<blockquote>
<ul>
<li><strong>ÂÆåÊï¥‰ª•ÂèäÂ¢ûÈáèÂ§á‰ªΩ</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ÂÆåÊï¥Â§á‰ªΩ</span>
</span></span><span style="display:flex;"><span>$ innobackupex --host<span style="color:#f92672">=</span>IP --user<span style="color:#f92672">=</span>name --password<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> --prot<span style="color:#f92672">=</span><span style="color:#ae81ff">3306</span> --no-timestamp /opt/backup/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Â¢ûÈáèÂ§á‰ªΩ  Âü∫‰∫éÂÖ®ÈáèÂ§á‰ªΩÂÆûÁé∞Â¢ûÈáèÂ§á‰ªΩÔºåÂ¢ûÈáèÂ§á‰ªΩÂè™ÊîØÊåÅInnodb</span>
</span></span><span style="display:flex;"><span>$ innobackupex --host<span style="color:#f92672">=</span>IP --user<span style="color:#f92672">=</span>root --password<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> --prot<span style="color:#f92672">=</span><span style="color:#ae81ff">3306</span> --no-timestamp --incremental /opt/backup/ --incremental-basedir<span style="color:#f92672">=</span>/opt/backup/<span style="color:#66d9ef">$(</span>date +%F_%T<span style="color:#66d9ef">)</span></span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êï∞ÊçÆÂ∫ìÊÅ¢Â§çÊµÅÁ®ã</strong></li>
</ul>
<blockquote>
<ul>
<li><code>--decompress</code><!-- raw HTML omitted -->ËØ•ÈÄâÈ°πË°®Á§∫Ëß£Âéã<!-- raw HTML omitted --><code>--compress</code><!-- raw HTML omitted -->ÈÄâÈ°πÂéãÁº©Êñá‰ª∂<!-- raw HTML omitted --></li>
<li><code>--parallel</code><!-- raw HTML omitted -->ËØ•ÈÄâÈ°πË°®Á§∫ÂÖÅËÆ∏Â§ö‰∏™Êñá‰ª∂ÂêåÊó∂Ëß£Âéã„ÄÇ‰∏∫‰∫ÜËß£ÂéãÔºå<!-- raw HTML omitted --><code>qpress</code><!-- raw HTML omitted -->Â∑•ÂÖ∑ÂøÖÈ°ªÊúâÂÆâË£ÖÂπ∂‰∏îËÆøÈóÆËøô‰∏™Êñá‰ª∂ÁöÑÊùÉÈôê„ÄÇËøô‰∏™ËøõÁ®ãÂ∞ÜÂú®Âêå‰∏Ä‰∏™‰ΩçÁΩÆÁßªÈô§ÂéüÊù•ÁöÑÂéãÁº©/Âä†ÂØÜÊñá‰ª∂<!-- raw HTML omitted --></li>
<li><code>--apply-log</code><!-- raw HTML omitted -->ËØ•ÈÄâÈ°πË°®Á§∫Âêå<!-- raw HTML omitted --><code>xtrabackup</code><!-- raw HTML omitted -->ÁöÑ<!-- raw HTML omitted --><code>--prepare</code><!-- raw HTML omitted -->ÂèÇÊï∞,‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã,Âú®Â§á‰ªΩÂÆåÊàêÂêéÔºåÊï∞ÊçÆÂ∞ö‰∏î‰∏çËÉΩÁî®‰∫éÊÅ¢Â§çÊìç‰ΩúÔºåÂõ†‰∏∫Â§á‰ªΩÁöÑÊï∞ÊçÆ‰∏≠ÂèØËÉΩ‰ºöÂåÖÂê´Â∞öÊú™Êèê‰∫§ÁöÑ‰∫ãÂä°ÊàñÂ∑≤ÁªèÊèê‰∫§‰ΩÜÂ∞öÊú™ÂêåÊ≠•Ëá≥Êï∞ÊçÆÊñá‰ª∂‰∏≠ÁöÑ‰∫ãÂä°„ÄÇÂõ†Ê≠§ÔºåÊ≠§Êó∂Êï∞ÊçÆ Êñá‰ª∂‰ªçÂ§ÑÁêÜ‰∏ç‰∏ÄËá¥Áä∂ÊÄÅ<!-- raw HTML omitted --></li>
<li><code>--apply-log</code><!-- raw HTML omitted -->ÁöÑ‰ΩúÁî®ÊòØÈÄöËøáÂõûÊªöÊú™Êèê‰∫§ÁöÑ‰∫ãÂä°ÂèäÂêåÊ≠•Â∑≤ÁªèÊèê‰∫§ÁöÑ‰∫ãÂä°Ëá≥Êï∞ÊçÆÊñá‰ª∂‰ΩøÊï∞ÊçÆÊñá‰ª∂Â§Ñ‰∫é‰∏ÄËá¥ÊÄßÁä∂ÊÄÅ<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 1.Êã∑Ë¥ùÂ§á‰ªΩÂà∞data3306(Âè™Êã∑Ë¥ùÊó•ÊúüÊñá‰ª∂Â§π‰∏ãÈù¢ÁöÑÊñá‰ª∂)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2.cd /opt/data3306</span>
</span></span><span style="display:flex;"><span>$ innobackupex --defaults-file<span style="color:#f92672">=</span>/opt/conf/my_3306.cnf --decompress --parallel<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span> ./
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3.Âà†Èô§ÊâÄÊúâ.qpÊñá‰ª∂</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4.ÊÅ¢Â§çÊï∞ÊçÆÂ∫ì(ÂÖ®Èáè)</span>
</span></span><span style="display:flex;"><span>$ cd /opt/data3306
</span></span><span style="display:flex;"><span>$ innobackupex --defaults-file<span style="color:#f92672">=</span>/opt/conf/my_3306.cnf --apply-log  --use-memory<span style="color:#f92672">=</span>4G ./</span></span></code></pre></div></blockquote>
<ul>
<li><strong>ÊâãÂä®ÊÅ¢Â§ç</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ service mysql stop
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂàùÂßãÂåñÂÖ®ÈáèÂ§á‰ªΩ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ innobackupex --apply-log --redo-only /opt/backup/ --incremental-dir<span style="color:#f92672">=</span>/opt/backup/<span style="color:#66d9ef">$(</span>date +%F_%T<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂàùÂßãÂåñÊï¥ÂêàÂ¢ûÈáèÂ§á‰ªΩ</span>
</span></span><span style="display:flex;"><span>$ innobackupex --apply-log --redo-only /data/backup/2017-08-24_22-57-43 --incremental-dir<span style="color:#f92672">=</span>/data/backup/2017-08-24_23-10-21
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊääÊï¥ÂêàÂ•ΩÁöÑÂ¢ûÈáèÂÜçÊ¨°ÂàùÂßãÂåñ</span>
</span></span><span style="display:flex;"><span>$ innobackupex --apply-log  /data/backup/2017-08-24_22-57-43
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Â§á‰ªΩMySQL‰∏ãdataÊï∞ÊçÆÁõÆÂΩïË¶ÅÊÅ¢Â§çÁöÑÊï∞ÊçÆÂ∫ì</span>
</span></span><span style="display:flex;"><span>$ mv  /usr/local/mysql/data/ceshi/  /opt/backup/<span style="color:#66d9ef">$(</span>date +%F_%T<span style="color:#66d9ef">)</span>/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊääÊï¥ÂêàÂêéÁöÑÂÖ®ÈáèÂ§á‰ªΩÁõÆÂΩï‰∏ãË¶ÅÊÅ¢Â§çÁöÑÊï∞ÊçÆÂ∫ìÂ§çÂà∂Âà∞MySQL‰∏ãdataÁõÆÂΩï</span>
</span></span><span style="display:flex;"><span>$ cp -a  /opt/backup/quanliang/ceshi /usr/local/mysql/data/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈáçÊñ∞Ëµã‰∫àÂ±ûÁªÑmysqlÊùÉÈôê</span>
</span></span><span style="display:flex;"><span>$ chown -R mysql.mysql   /usr/local/mysql/data/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂêØÂä®Êï∞ÊçÆÂ∫ì</span>
</span></span><span style="display:flex;"><span>$ service mysql start</span></span></code></pre></div></blockquote>
<ul>
<li><strong>‰ΩøÁî®<code>--copy</code>ÂèÇÊï∞ÂÆûÁé∞Â§á‰ªΩÊÅ¢Â§ç</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ service mysql stop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊäädataÊï∞ÊçÆÁõÆÂΩï‰∏ãÊï∞ÊçÆËøõË°åÂ§á‰ªΩ</span>
</span></span><span style="display:flex;"><span>$ cp -a  /usr/local/mysql/data/* /opt/backup/<span style="color:#66d9ef">$(</span>date +%F_%T<span style="color:#66d9ef">)</span>/
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊääË¶ÅÊÅ¢Â§çÁöÑÊï∞ÊçÆÂ§á‰ªΩÁîüÊàê</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ innobackupex  --apply-log --redo-only /opt/backup/quanliang/ceshi_danku/  	<span style="color:#75715e"># Ëøô‰∏™ÊòØÂçïÂ∫ìÂ§á‰ªΩÁõÆÂΩï</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dataÁõÆÂΩïÂøÖÈ°ª‰∏∫Á©∫</span>
</span></span><span style="display:flex;"><span>$ innobackupex  --copy-back /opt/backup/quanliang/ceshi_danku/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈáçÊñ∞Ëµã‰∫àÂ±ûÁªÑÊùÉÈôê</span>
</span></span><span style="display:flex;"><span>$ chown -R mysql.mysql /usr/local/mysql/data/
</span></span><span style="display:flex;"><span>$ service mysql start</span></span></code></pre></div></blockquote>
<ul>
<li><strong>‰ΩøÁî®<code>Mysql</code>ËÑöÊú¨Â§á‰ªΩÂπ∂ÈÄöÁü•ÈíâÈíâÊé•Âè£</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;/opt/script/Backup_Mysql_innobackupex.sh<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ***************************************************************#
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">##  Create: DBA
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ***************************************************************#
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## echo `hostname -I` |sed &#39;s/ /#/g&#39; -  &gt;/tmp/ipaddr.txt
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># ÂÆö‰πâTelegram Êú∫Âô®‰∫∫IDÂíåÊä•Ë≠¶ÁªÑ
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">TELEGRAM_BOT_ID=&#39;Telegram bot_id:bot_key&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">TELEGRAM_GROUP_ID=&#39;GROUP_ID&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">IP_ADDRE=$(hostname -I |awk &#39;{print $1}&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_NAME=&#39;backup&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">USER_PASSWORD=&#39;IvV8BhpvHb/7EA==&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">DATABASES=&#39;databases name&#39; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">backup_time=`date +&#39;%Y%m%d%m&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">backup_base=&#34;/opt/backup/dbback&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">backup_dir=&#34;$backup_base/full&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">backup_log=&#34;$backup_base/log/xtra_${backup_time}.log&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">slave_days=0
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÈíâÈíâÊé•Âè£
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">function SendToDingding_error(){
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> #Dingding_Url=&#34;https://oapi.dingtalk.com/robot/send?access_token=d5201a579163dc6045b6da6d8dbc1cdc1d935698050971ceddb5a8956e9507ee&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> Dingding_Url=&#34;https://api.telegram.org/bot${TELEGRAM_BOT_ID}/sendMessage?chat_id=${TELEGRAM_GROUP_ID}&amp;text=%22${IP_ADDRE}mysqlbak%20failure!Please check %22&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> # ÂèëÈÄÅÈíâÈíâÊ∂àÊÅØ
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> curl &#34;${Dingding_Url}&#34; -H &#39;Content-Type: application/json&#39; -d &#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     \&#34;actionCard\&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         \&#34;title\&#34;: \&#34;$1\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         \&#34;text\&#34;: \&#34;$2\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         \&#34;hideAvatar\&#34;: \&#34;0\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         \&#34;btnOrientation\&#34;: \&#34;0\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         \&#34;btns\&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">             {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                 \&#34;title\&#34;: \&#34;$1\&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                 \&#34;actionURL\&#34;: \&#34;\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">             }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         ]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     },
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     \&#34;msgtype\&#34;: \&#34;actionCard\&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> }&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂÆâË£ÖÂ§á‰ªΩÂ∑•ÂÖ∑ innobackupex Êàñ xtrabackup
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ ! -x /usr/bin/innobackupex ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     yum -y install  http://www.percona.com/downloads/percona-release/redhat/0.1-4/percona-release-0.1-4.noarch.rpm
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     yum -y install percona-xtrabackup-24 qpress
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂºÄÂßãÂàõÂª∫ÁõÆÂΩï
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ ! -d ${backup_dir} ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> mkdir -p ${backup_dir}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ ! -d ${backup_base}/log ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> mkdir -p ${backup_base}/log
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">start_time=`date +&#39;%Y%m%d_%H:%M:%S&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">start_file=`date +&#39;%Y-%m-%d_%H-%M-%S&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## ÂºÄÂßãÂ§á‰ªΩÊï∞ÊçÆÂ∫ì
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">echo -e &#34;`date +&#39;%Y-%m-%d %H:%M:%S&#39;` ÂºÄÂßãÁâ©ÁêÜÂ§á‰ªΩÊï∞ÊçÆÂ∫ì ${ipaddr} ...&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">/usr/bin/innobackupex --defaults-file=/opt/conf/my_16303.cnf --user=${backup_user} --password=${backup_password} --host=&#39;localhost&#39; --socket=/opt/data/data_16303/mysql.sock --use-memory=1G --compress --compress-threads=32 --parallel=3 --slave-info ${backup_dir} 2&gt;&gt;${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ $? -ne 0 ];then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> echo -e &#34;`date +&#39;%Y%m%d_%H:%M:%S&#39;` Â§á‰ªΩÊï∞ÊçÆÂ∫ìÂèëÁîüÈîôËØØ,ÂÖ∑‰ΩìÁúãÊó•Âøó&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> Subject=&#34;Áâ©ÁêÜÂ§á‰ªΩxtraÂ§á‰ªΩÂ§±Ë¥•&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> Body=&#34;&#39;${ipaddr}&#39;_Áâ©ÁêÜÂ§á‰ªΩÂ§±Ë¥•,ËØ∑ÂèÇËÄÉÊó•Âøó:${backup_log}&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> SendToDingding_error $Subject $Body
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> exit 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">cd ${backup_dir}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">file_time=`date +&#39;%Y-%m-%d&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">flie_name=`ls -l | grep &#34;$file_time&#34;|tail -n 1|awk &#39;{print $9}&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">tar -zcf ${file_time}.tar.gz ${flie_name}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">rm -rf ${flie_name}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">## rsync -avz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if [ ! -z &#34;`tail -1 ${backup_log} | grep &#39;completed OK&#39;`&#34; ]; then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> finish_time=`date +&#39;%Y%m%d_%H:%M:%S&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> file_size=`du -sm ${backup_dir} |awk &#39;{print $1}&#39;`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> echo -e &#34;${ipaddr}Êï∞ÊçÆÂ∫ìxtrabackupÁâ©ÁêÜÂ§á‰ªΩÂ∑•‰ΩúÂÆåÊàê!\n ÂºÄÂßãÊó∂Èó¥Ôºö${start_time} ÁªìÊùüÊó∂Èó¥Ôºö${finish_time}\n Â§á‰ªΩÁõÆÂΩï${backup_dir}\n
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Â§á‰ªΩÊñá‰ª∂Â§ßÂ∞è${file_size} MB&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> # Âà†Èô§‰ª•ÂâçÁöÑÂ§á‰ªΩ
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> echo -e &#34;`date +&#39;%Y%m%d_%H:%M:%S&#39;` ÂºÄÂßãÂà†Èô§${slave_days}Â§©‰ª•ÂâçÁöÑÂ§á‰ªΩ&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> cd ${backup_base}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> for tfile in $(/usr/bin/find ${backup_dir}  -mindepth 1 -maxdepth 1 -mtime +${slave_days})
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   do
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      cd ${backup_dir} &amp;&amp; rm -rf ${tfile} 2&gt;&gt;${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      echo -e &#34;---- delete file :${file} -----&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   done
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> echo -e &#34;`date +&#39;%Y%m%d_%H%M%S&#39;` Âà†Èô§${slave_days}Â§©‰ª•ÂâçÁöÑÂ§á‰ªΩ-ÂÆåÊàê&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> find $backup_base/log  -mindepth 1 -maxdepth 1  -mtime +${slave_days} -type f |xargs  rm -f
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">else
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> echo -e &#34;`date +&#39;%Y%m%d_%H:%M:%S&#39;` Â§á‰ªΩÊï∞ÊçÆÂ∫ìÂèëÁîüÈîôËØØ,ÂÖ∑‰ΩìÁúãÊó•Âøó&#34; &gt;&gt; ${backup_log}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> Subject=&#34;Áâ©ÁêÜÂ§á‰ªΩxtraÂ§á‰ªΩÂ§±Ë¥•&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> Body=&#34;${ipaddr}_Áâ©ÁêÜÂ§á‰ªΩÂ§±Ë¥•,ËØ∑ÂèÇËÄÉÊó•Âøó:${backup_log}&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> SendToDingding_error $Subject $Body
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">exit
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h3 id="Êü•ÁúãÂØºÂá∫Ê∏ÖÁêÜbinlogÊó•Âøó">Êü•Áúã„ÄÅÂØºÂá∫„ÄÅÊ∏ÖÁêÜ<code>binlog</code>Êó•Âøó</h3>
<ul>
<li>
<ol>
<li><strong>Êü•Áúã<code>binlog</code></strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># ÊåáÂÆöÊü•ËØ¢ mysql-bin.000002Ëøô‰∏™Êñá‰ª∂Ôºå‰ªéposÁÇπ:624ÂºÄÂßãÊü•Ëµ∑ÔºåÂÅèÁßª2Ë°åÔºàÂç≥‰∏≠Èó¥Ë∑≥Ëøá2‰∏™ÔºâÔºåÊü•ËØ¢10Êù°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> binlog events <span style="color:#66d9ef">in</span> <span style="color:#e6db74">&#39;mysql-bin.000002&#39;</span> <span style="color:#66d9ef">from</span> <span style="color:#ae81ff">624</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">10</span><span style="color:#960050;background-color:#1e0010">\</span>G;</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><strong>ÂØºÂá∫Êï∞ÊçÆÂ∫ì<code>binlog</code>Êó•Âøó</strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>--base64-output=</code>Ôºö<code>decode-rows</code><!-- raw HTML omitted -->Â∞ÜË°å‰∫ã‰ª∂Ëß£Á†Å‰∏∫Ê≥®Èáä‰º™<!-- raw HTML omitted --><code>SQL</code><!-- raw HTML omitted -->ËØ≠Âè•<!-- raw HTML omitted --></li>
<li><code>--no-defaults</code></li>
<li><code>--database=&quot;Êï∞ÊçÆÂ∫ìÂêç&quot;</code>Ôºö<!-- raw HTML omitted -->‰ªÖÂàóÂá∫Ê≠§Êï∞ÊçÆÂ∫ìÁöÑÊù°ÁõÆ(‰ªÖÈôêÊú¨Âú∞Êó•Âøó)<!-- raw HTML omitted --></li>
<li><code>--start-datetime=''</code>Ôºö<!-- raw HTML omitted --><!-- raw HTML omitted -->ÂºÄÂßãÊó∂Èó¥<!-- raw HTML omitted -->ÂèÇÊï∞ÂøÖÈ°ªÊòØÊú¨Âú∞Êó∂Âå∫ÁöÑÊó•ÊúüÂíåÊó∂Èó¥ÔºåÊ†ºÂºè‰∏çÈôê<code>MySQL</code>ÊúçÂä°Âô®Êé•Âèó<code>DATETIME</code>Âíå<code>TIMESTAMP</code>Á±ªÂûãÔºå‰æãÂ¶ÇÔºö<!-- raw HTML omitted --><code>2004-12-25 11:25:56</code></li>
<li><code>--stop-datetime=''</code>Ôºö<!-- raw HTML omitted --><!-- raw HTML omitted -->ÁªìÊùüÊó∂Èó¥<!-- raw HTML omitted -->ÂèÇÊï∞ÂøÖÈ°ªÊòØÊú¨Âú∞Êó∂Âå∫ÁöÑÊó•ÊúüÂíåÊó∂Èó¥ÔºåÊ†ºÂºè‰∏çÈôê<code>MySQL</code>ÊúçÂä°Âô®Êé•Âèó<code>DATETIME</code>Âíå<code>TIMESTAMP</code>Á±ªÂûãÔºå‰æãÂ¶ÇÔºö<!-- raw HTML omitted --><code>2004-12-25 11:25:56</code></li>
<li><code>--start-position=875</code>Ôºö<!-- raw HTML omitted -->ÂÅèÁßªÈáèÂºÄÂßãËØªÂèñ‰ΩçÁΩÆ<!-- raw HTML omitted --></li>
<li><code>--stop-position=954</code>Ôºö<!-- raw HTML omitted -->ÂÅèÁßªÈáèÂÅúÊ≠¢ËØªÂèñ‰ΩçÁΩÆ<!-- raw HTML omitted --></li>
<li><code>-v</code>Ôºö<!-- raw HTML omitted -->‰ªéË°å‰∫ã‰ª∂‰∏≠ÈáçÂª∫‰º™<!-- raw HTML omitted --><code>SQL</code><!-- raw HTML omitted -->ËØ≠Âè•Ôºå<!-- raw HTML omitted --><code>-vv</code><!-- raw HTML omitted -->Ê∑ªÂä†ÂØπÂàóÊï∞ÊçÆÁ±ªÂûãÁöÑÊ≥®Èáä<!-- raw HTML omitted --></li>
<li><code>-r</code>Ôºö<!-- raw HTML omitted -->Áõ¥Êé•ËæìÂá∫Âà∞ÁªôÂÆöÁöÑÊñá‰ª∂<!-- raw HTML omitted --></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /bin/mysqlbinlog <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--base64-output<span style="color:#f92672">=</span>decode-rows <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--no-defaults --database<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Êï∞ÊçÆÂ∫ìÂêç&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--start-datetime<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2019-04-11 00:00:00&#39;</span> <span style="color:#ae81ff">\ </span> 	<span style="color:#75715e"># ÂºÄÂßãÊó∂Èó¥</span>
</span></span><span style="display:flex;"><span>--stop-datetime<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2019-04-11 15:00:00&#39;</span> <span style="color:#ae81ff">\ </span> 	<span style="color:#75715e"># ÁªìÊùüÊó∂Èó¥</span>
</span></span><span style="display:flex;"><span>-v /opt/data/mysql/mysql-bin.000007 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-r /opt/binlog<span style="color:#e6db74">`</span>date <span style="color:#e6db74">&#39;+%F&#39;</span><span style="color:#e6db74">`</span>.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊñπÊ≥ï‰∫å</span>
</span></span><span style="display:flex;"><span>$ /bin/mysqlbinlog <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--no-defaults --database<span style="color:#f92672">=</span>db <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--start-datetime<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2019-04-11 00:00:00&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--stop-datetime<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2019-04-11 15:00:00&#39;</span> mysql-bin.000007 | more
</span></span><span style="display:flex;"><span>mysqlbinlog <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--base64-output<span style="color:#f92672">=</span>decode-rows <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--start-position<span style="color:#f92672">=</span><span style="color:#ae81ff">2966</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--stop-position<span style="color:#f92672">=</span><span style="color:#ae81ff">2966</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-v mysql-bin.000125</span></span></code></pre></div><ul>
<li><strong>‰ªé<code>binlog</code>Êó•Âøó‰∏≠Âæó<code>DELETE</code>Âà†Èô§Êç¢Êàê<code>INSERT INTO</code>ÊèíÂÖ•ËØ≠Âè•</strong></li>
</ul>
<blockquote>
<p><a href="https://www.cnblogs.com/yhq1314/p/13970044.html" rel="external" target="_self"><code>mysql binlg delete</code>ËØ≠Âè•Ëß£Êûê‰∏∫<code>insert</code>ËØ≠Âè•</a></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ find /path/to/binlog/directory -name <span style="color:#e6db74">&#34;binlog.*&#34;</span> -printf <span style="color:#e6db74">&#34;%T@ %p\n&#34;</span> | sort -n | cut -d<span style="color:#e6db74">&#39; &#39;</span> -f2- | xargs mysqlbinlog &gt; combined_binlog.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ find ./ -name <span style="color:#e6db74">&#34;mysql-bin.266*&#34;</span> -printf <span style="color:#e6db74">&#34;%T@ %p\n&#34;</span> | sort -n | cut -d<span style="color:#e6db74">&#39; &#39;</span> -f2- | xargs /usr/local/mysql/bin/mysqlbinlog -vv  --base64-output<span style="color:#f92672">=</span>DECODE-ROWS --set-charset<span style="color:#f92672">=</span>UTF8 mysql-bin.266770 --database<span style="color:#f92672">=</span>databases_name -r new_binlog.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#####  	Ëß£ÊûêbinlogÂπ∂ËøòÂéüÊàêÊèíÂÖ•ËØ≠Âè•  	#####</span>
</span></span><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysqlbinlog -vv --base64-output<span style="color:#f92672">=</span>DECODE-ROWS --set-charset<span style="color:#f92672">=</span>UTF8 mysql-bin.merged.9 --database<span style="color:#f92672">=</span>databases_name &gt;&gt;/mnt/new_binlog.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Âè™ËøáÊª§Êüê‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊüê‰∏™Ë°®‰∏≠ÁöÑÂà†Èô§ËØ≠Âè•</span>
</span></span><span style="display:flex;"><span>$ cat new_binlog.sql | awk <span style="color:#e6db74">&#39;/DELETE FROM/ &amp;&amp; (/databases_name.tables_name/ || /`databases_name`.`tables_name`/) { while(1) { print $0; getline; if($0 !~ /^###/) { break; }; }}&#39;</span> &gt; new_binlog-1.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÂéªÊéâÔºö###</span>
</span></span><span style="display:flex;"><span>$ cp new_binlog-1.sql new_binlog-2.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#39;s/^### //g&#39;</span> new_binlog-2.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Âà†Èô§ËØ≠Âè•ÊõøÊç¢‰∏∫ÊèíÂÖ•ËØ≠Âè•</span>
</span></span><span style="display:flex;"><span>$ cp new_binlog-2.sql new_binlog-3.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/^DELETE FROM/INSERT INTO/g&#34;</span> new_binlog-3.sql 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êù°‰ª∂ÊõøÊç¢‰∏∫ÂÄº</span>
</span></span><span style="display:flex;"><span>$ cp new_binlog-3.sql new_binlog-4.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/^WHERE/VALUES(/g&#34;</span> new_binlog-4.sql 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># @21 ËøôÈáåË¶ÅÁúãËß£ÊûêÂêéÁöÑÂÖ∑‰ΩìË°åÊï∞Ôºå </span>
</span></span><span style="display:flex;"><span>$ cp new_binlog-4.sql new_binlog-5.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#39;/@21=.*/a );&#39;</span> new_binlog-5.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat new_binlog-5.sql | awk -F<span style="color:#e6db74">&#34;=|/*&#34;</span> <span style="color:#e6db74">&#39;{ if($0 ~ /^INSERT|^VALUES|^);/) { print $0; } else { printf $2&#34;,&#34;; };}&#39;</span> &gt;new_binlog-6.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cp  new_binlog-6.sql new_binlog-7.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/,);</span>$<span style="color:#e6db74">/);/g&#34;</span> new_binlog-7.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cp new_binlog-7.sql new_binlog-8.sql
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#39;s/,INSERT/);INSERT/g&#39;</span> new_binlog-8.sql</span></span></code></pre></div></blockquote>
</blockquote>
<ul>
<li>
<ol start="3">
<li><strong>Ê∏ÖÁêÜ<code>binlog</code></strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.cnblogs.com/xxoome/p/9802684.html" rel="external" target="_self"><code>mysql binlog</code>Êó•ÂøóËá™Âä®Ê∏ÖÁêÜÂèäÊâãÂä®Âà†Èô§</a>„ÄÅ<a href="https://developer.aliyun.com/article/712256" rel="external" target="_self"><code>Mysql</code>Ê∏ÖÁêÜ<code>binlog</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># Ê∏ÖÈô§MySQL-bin.010Êó•Âøó
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">PURGE</span> MASTER LOGS <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;MySQL-bin.010&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ê∏ÖÈô§2008-06-22 13:00:00ÂâçbinlogÊó•Âøó
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">PURGE</span> MASTER LOGS <span style="color:#66d9ef">BEFORE</span> <span style="color:#e6db74">&#39;2008-06-22 13:00:00&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ê∏ÖÈô§3Â§©ÂâçbinlogÊó•ÂøóBEFOREÔºåÂèòÈáèÁöÑdateËá™ÂèòÈáèÂèØ‰ª•‰∏∫&#39;YYYY-MM-DD hh:mm:ss&#39;Ê†ºÂºè„ÄÇ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">PURGE</span> MASTER LOGS <span style="color:#66d9ef">BEFORE</span> <span style="color:#a6e22e">DATE_SUB</span>( <span style="color:#a6e22e">NOW</span>( ), <span style="color:#66d9ef">INTERVAL</span> <span style="color:#ae81ff">3</span> DAY);</span></span></code></pre></div></blockquote>
<hr>
<h3 id="ÂàõÂª∫ÊéàÊùÉÂà†Èô§Áî®Êà∑">ÂàõÂª∫„ÄÅÊéàÊùÉ„ÄÅÂà†Èô§Áî®Êà∑</h3>
<ul>
<li>
<ol>
<li><strong>ÂàõÂª∫„ÄÅÊéàÊùÉ</strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><strong><code>5.7.*</code>‰∏Ä‰∏ãÂàõÂª∫‰ª•ÂèäÊéàÊùÉ</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">grant</span> <span style="color:#66d9ef">all</span> <span style="color:#66d9ef">on</span> <span style="color:#f92672">*</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">to</span> root<span style="color:#f92672">@</span><span style="color:#e6db74">&#39;10.14.23.%&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;123456&#39;</span>;  	<span style="color:#75715e"># 192.168.%.% Ë°®Á§∫ÁΩëÊÆµ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">grant</span> <span style="color:#66d9ef">all</span> <span style="color:#66d9ef">privileges</span> <span style="color:#66d9ef">on</span> <span style="color:#66d9ef">database</span>.<span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">to</span> <span style="color:#e6db74">&#39;user&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#34;password&#34;</span>;</span></span></code></pre></div><ul>
<li><strong><code>Myslq 8.0</code>ËØ≠Âè•ÊâßË°åÔºå<code>8.0</code>ÁâàÊú¨‰πãÂêéÂàõÂª∫Áî®Êà∑ÂíåÊéàÊùÉÂàÜÂºÄ‰∫Ü</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># ÂàõÂª∫Áî®Êà∑
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;username&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;127.0.0.1&#39;</span> <span style="color:#66d9ef">IDENTIFIED</span> <span style="color:#66d9ef">BY</span> <span style="color:#e6db74">&#39;passowrd&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êéà‰∫àÊùÉÈôê
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">ON</span> <span style="color:#f92672">*</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">TO</span> <span style="color:#e6db74">&#39;username&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;127.0.0.1&#39;</span> <span style="color:#66d9ef">WITH</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">OPTION</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Âà†Èô§ÊùÉÈôê
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">REVOKE</span> <span style="color:#66d9ef">all</span> <span style="color:#66d9ef">privileges</span> <span style="color:#66d9ef">ON</span> databasename.tablename <span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">&#39;username&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>; </span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><strong>ÂàõÂª∫‰ªéÂ∫ìÁî®Êà∑Âπ∂ÊéàÂ§çÂà∂ÊùÉÈôê</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>MySQL<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">grant</span> replication slave, replication client <span style="color:#66d9ef">on</span> <span style="color:#f92672">*</span>.<span style="color:#f92672">*</span> <span style="color:#66d9ef">to</span> <span style="color:#e6db74">&#39;lisi&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;10.14.23.%&#39;</span> <span style="color:#66d9ef">identified</span> <span style="color:#66d9ef">by</span> <span style="color:#e6db74">&#39;123456&#39;</span>;</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><strong>Êí§ÈîÄÁî®Êà∑ÊùÉÈôê</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">REVOKE</span> privilege <span style="color:#66d9ef">ON</span> databasename.tablename <span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">&#39;username&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;  </span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="4">
<li><strong>Âà†Èô§Áî®Êà∑„ÄÅÊï∞ÊçÆ</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">user</span> <span style="color:#e6db74">&#39;username&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;host&#39;</span>;  	<span style="color:#75715e"># Â¶ÇÊûúÊòØÂΩìÂâçÁôªÈôÜÁî®Êà∑Áî®SET PASSWORD = PASSWORD(&#34;newpassword&#34;); 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">delete</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">‚Äò</span>xx<span style="color:#960050;background-color:#1e0010">‚Äô</span> <span style="color:#66d9ef">and</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;xx&#39;</span>;  	<span style="color:#75715e"># ÊéàÊùÉÊü•ÁúãÊï∞ÊçÆÂ∫ìÁî®Êà∑ÔºàclintÔºâ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">delete</span> <span style="color:#66d9ef">from</span> mysql.<span style="color:#66d9ef">user</span> <span style="color:#66d9ef">where</span> <span style="color:#66d9ef">user</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;slave&#34;</span> <span style="color:#66d9ef">and</span> host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.14.23.%&#34;</span>;  </span></span></code></pre></div></blockquote>
<hr>
<h3 id="ÂàõÂª∫Â∫ìË°®">ÂàõÂª∫Â∫ì„ÄÅË°®</h3>
<ul>
<li>
<ol>
<li><strong>ÂàõÂª∫Â∫ì</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">database</span> db2 <span style="color:#66d9ef">character</span> <span style="color:#66d9ef">set</span> utf8 <span style="color:#66d9ef">collate</span> utf8_general_ci;</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><strong>ÂàõÂª∫Ë°®</strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><code>NOT NULL</code>Ôºö<!-- raw HTML omitted -->ÊØè‰∏ÄË°åÈÉΩÂøÖÈ°ªÂê´ÊúâÂÄºÔºà‰∏çËÉΩ‰∏∫Á©∫ÔºâÔºå<code>null</code>ÂÄºÊòØ‰∏çÂÖÅËÆ∏ÁöÑ<!-- raw HTML omitted --></li>
<li><code>DEFAULT value</code>Ôºö<!-- raw HTML omitted -->ËÆæÁΩÆÈªòËÆ§ÂÄº<!-- raw HTML omitted --></li>
<li><code>UNSIGNED</code>Ôºö<!-- raw HTML omitted -->‰ΩøÁî®Êó†Á¨¶Âè∑Êï∞ÂÄºÁ±ªÂûãÔºå<!-- raw HTML omitted --><code>0</code><!-- raw HTML omitted -->ÂèäÊ≠£Êï∞<!-- raw HTML omitted --></li>
<li><code>AUTO INCREMENT</code>Ôºö<!-- raw HTML omitted -->ËÆæÁΩÆ<!-- raw HTML omitted --><code>MySQL</code><!-- raw HTML omitted -->Â≠óÊÆµÁöÑÂÄºÂú®Êñ∞Â¢ûËÆ∞ÂΩïÊó∂ÊØèÊ¨°Ëá™Âä®Â¢ûÈïø<!-- raw HTML omitted --><code>1</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> databases_name.<span style="color:#a6e22e">tables_name</span>(id <span style="color:#66d9ef">int</span> <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>, name <span style="color:#66d9ef">varchar</span>(<span style="color:#ae81ff">50</span>)<span style="color:#66d9ef">not</span> <span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">1</span> row <span style="color:#a6e22e">affected</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)  	<span style="color:#75715e"># not null ‰∏ç‰∏∫Á©∫
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ËÆæÁΩÆÊï∞ÊçÆË°®‰∏≠ÊØèÊù°ËÆ∞ÂΩïÁöÑÂîØ‰∏ÄÊ†áËØÜ„ÄÇ ÈÄöÂ∏∏ÂàóÁöÑ PRIMARY KEY ËÆæÁΩÆ‰∏∫ ID Êï∞ÂÄºÔºå‰∏éAUTO_INCREMENT ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> <span style="color:#f92672">`</span>databases_name<span style="color:#f92672">`</span>.<span style="color:#f92672">`</span>tables_name<span style="color:#f92672">`</span>(name) <span style="color:#66d9ef">values</span>(<span style="color:#e6db74">&#39;lisi&#39;</span>);
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">1</span> row <span style="color:#a6e22e">affected</span> (<span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">00</span> sec)  	<span style="color:#75715e"># ‰∏çÂÜôid
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> <span style="color:#f92672">`</span>databases_name<span style="color:#f92672">`</span>.<span style="color:#f92672">`</span>tables_name<span style="color:#f92672">`</span>(id,content,add_time) <span style="color:#66d9ef">values</span>(<span style="color:#ae81ff">4</span>,<span style="color:#e6db74">&#39;Text&#39;</span>,<span style="color:#e6db74">&#39;2023-01-11 02:52:54&#39;</span>);</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><strong>ÊåâÊó•ÊúüÂà†Èô§Ë°®</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">USE</span> example_db;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> table_name <span style="color:#66d9ef">FROM</span> information_schema.<span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">WHERE</span> table_schema <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;example_db&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#a6e22e">CONCAT</span>(<span style="color:#e6db74">&#39;DROP TABLE IF EXISTS &#39;</span>, table_name, <span style="color:#e6db74">&#39;;&#39;</span>) <span style="color:#66d9ef">AS</span> sql_statement <span style="color:#66d9ef">FROM</span> information_schema.<span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">WHERE</span> table_schema <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;example_db&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> table_name <span style="color:#66d9ef">FROM</span> information_schema.<span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">WHERE</span> table_name <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;prefix_%&#39;</span> <span style="color:#66d9ef">AND</span> table_name <span style="color:#66d9ef">BETWEEN</span> <span style="color:#e6db74">&#39;prefix_2022-02-01&#39;</span> <span style="color:#66d9ef">AND</span> <span style="color:#e6db74">&#39;prefix_2022-03-01&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#a6e22e">CONCAT</span>(<span style="color:#e6db74">&#39;DROP TABLE IF EXISTS &#39;</span>, table_name, <span style="color:#e6db74">&#39;;&#39;</span>) <span style="color:#66d9ef">AS</span> sql_statement <span style="color:#66d9ef">FROM</span> information_schema.<span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">WHERE</span> table_name <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;prefix_%&#39;</span> <span style="color:#66d9ef">AND</span> table_name <span style="color:#66d9ef">BETWEEN</span> <span style="color:#e6db74">&#39;prefix_2022-02-01&#39;</span> <span style="color:#66d9ef">AND</span> <span style="color:#e6db74">&#39;prefix_2022-03-01&#39;</span>;</span></span></code></pre></div></blockquote>
<hr>
<h3 id="Êü•ËØ¢Â∫ìË°®ÂÆπÈáèÂ§ßÂ∞è">Êü•ËØ¢Â∫ì„ÄÅË°®ÂÆπÈáèÂ§ßÂ∞è</h3>
<blockquote>
<ul>
<li><strong>Êü•ËØ¢ÊâÄÊúâÂ∫ìÂÆπÈáèÂ§ßÂ∞è</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> 
</span></span><span style="display:flex;"><span>table_schema <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂ∫ì&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(table_rows) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;ËÆ∞ÂΩïÊï∞&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(data_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(index_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¥¢ÂºïÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(DATA_FREE<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¢éÁâáÂç†Áî®(MB)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> information_schema.<span style="color:#66d9ef">tables</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> table_schema
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> <span style="color:#a6e22e">sum</span>(data_length) <span style="color:#66d9ef">desc</span>, <span style="color:#a6e22e">sum</span>(index_length) <span style="color:#66d9ef">desc</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êü•ÁúãÊåáÂÆöÂ∫ìÁöÑÂÆπÈáèÂ§ßÂ∞è</strong></li>
</ul>
<blockquote>
<ul>
<li>Êü•Áúã<code>MySQL</code>„ÄåÊåáÂÆöÂ∫ì„ÄçÁöÑÂÆπÈáèÂ§ßÂ∞èÔºö<code>database_name</code>Êõ¥Êîπ‰∏∫Ë¶ÅÊü•ËØ¢ÁöÑÂ∫ì</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> 
</span></span><span style="display:flex;"><span>table_schema <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂ∫ì&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(table_rows) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;ËÆ∞ÂΩïÊï∞&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(data_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(index_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¥¢ÂºïÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">truncate</span>(DATA_FREE<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>)) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¢éÁâáÂç†Áî®(MB)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> information_schema.<span style="color:#66d9ef">tables</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> table_schema<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;database_name&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> data_length <span style="color:#66d9ef">desc</span>, index_length <span style="color:#66d9ef">desc</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êü•ÁúãÊåáÂÆöÂ∫ì‰∏≠ÊâÄÊúâË°®ÁöÑÂÆπÈáèÂ§ßÂ∞è</strong></li>
</ul>
<blockquote>
<ul>
<li>Êü•Áúã<code>MySQL</code>„ÄåÊåáÂÆöÂ∫ì„Äç‰∏≠„ÄåÊâÄÊúâË°®„ÄçÁöÑÂÆπÈáèÂ§ßÂ∞è</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>table_schema <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂ∫ì&#39;</span>,
</span></span><span style="display:flex;"><span>table_name <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Ë°®Âêç&#39;</span>,
</span></span><span style="display:flex;"><span>table_rows <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;ËÆ∞ÂΩïÊï∞&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(data_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(index_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¥¢ÂºïÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(DATA_FREE<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¢éÁâáÂç†Áî®(MB)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> information_schema.<span style="color:#66d9ef">tables</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> table_schema<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;database_name&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> data_length <span style="color:#66d9ef">desc</span>, index_length <span style="color:#66d9ef">desc</span>;</span></span></code></pre></div></blockquote>
<ul>
<li><strong>Êü•ÁúãÊåáÂÆöÂ∫ì‰∏≠ÊåáÂÆöË°®ÁöÑÂÆπÈáèÂ§ßÂ∞è</strong></li>
</ul>
<blockquote>
<ul>
<li>Êü•Áúã<code>MySQL</code>„ÄåÊåáÂÆöÂ∫ì„Äç‰∏≠„ÄåÊåáÂÆöË°®„ÄçÁöÑÂÆπÈáèÂ§ßÂ∞èÔºöÂ∞Ü‰ª£Á†Å‰∏≠<code>database_name</code>Êï∞ÊçÆÂ∫ìÂêçÊîπ‰∏∫‰Ω†Ë¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÂ∫ìÂêçÔºå<code>tables_name</code>Êîπ‰∏∫‰Ω†Ë¶ÅÊü•ËØ¢ÁöÑË°®Âêç</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span>
</span></span><span style="display:flex;"><span>table_schema <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂ∫ì&#39;</span>,
</span></span><span style="display:flex;"><span>table_name <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Ë°®Âêç&#39;</span>,
</span></span><span style="display:flex;"><span>table_rows <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;ËÆ∞ÂΩïÊï∞&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(data_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Êï∞ÊçÆÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(index_length<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¥¢ÂºïÂÆπÈáè(MB)&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">truncate</span>(DATA_FREE<span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1024</span>, <span style="color:#ae81ff">2</span>) <span style="color:#66d9ef">as</span> <span style="color:#e6db74">&#39;Á¢éÁâáÂç†Áî®(MB)&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> information_schema.<span style="color:#66d9ef">tables</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">where</span> table_schema<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;database_name&#39;</span><span style="color:#66d9ef">and</span> table_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;tables_name&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> data_length <span style="color:#66d9ef">desc</span>, index_length <span style="color:#66d9ef">desc</span>;</span></span></code></pre></div></blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># Êü•ËØ¢Âπ∂‰∏îËøõË°åAESËß£Á†Å
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#a6e22e">aes_decrypt</span>(<span style="color:#a6e22e">from_base64</span>(mobile),<span style="color:#e6db74">&#39;key&#39;</span>,<span style="color:#e6db74">&#39;Âä†ÂØÜÊé©Á†Å&#39;</span>) <span style="color:#66d9ef">from</span> yl_users <span style="color:#66d9ef">where</span> member <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;</span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><strong>ÊéíÊü•<code>Mysql</code>Âç†Áî®ÂÜÖÂ≠òÂéüÂõ†</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Êü•ÁúãMySQLÁöÑPid</span>
</span></span><span style="display:flex;"><span>$ ps -ef | grep -i mysqld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êü•ÁúãMySQLÂÆûÊó∂Êìç‰ΩúÁ≥ªÁªüÁ∫øÁ®ãPid</span>
</span></span><span style="display:flex;"><span>$ top -p <span style="color:#e6db74">&#34;Mysql Pid&#34;</span> -H
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êï∞ÊçÆÂ∫ì‰∏≠Êü•ÁúãPid ÂÖ∑‰ΩìÊìç‰ΩúÂÜÖÂÆπ</span>
</span></span><span style="display:flex;"><span>Mysql&gt; SELECT THREAD_ID,name ,PROCESSLIST_ID FROM <span style="color:#e6db74">`</span>performance_schema<span style="color:#e6db74">`</span>.threads WHERE THREAD_OS_ID <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mysql Pid&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ê†πÊçÆËé∑ÂèñÂà∞MySQL‰∏≠ÁöÑ Thread_id Ëé∑ÂèñSQL</span>
</span></span><span style="display:flex;"><span>mysql&gt; SELECT SQL_TEXT FROM <span style="color:#e6db74">`</span>performance_schema<span style="color:#e6db74">`</span>.events_statements_current WHERE THREAD_ID <span style="color:#f92672">=</span> Thread_id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">###########################</span>
</span></span><span style="display:flex;"><span>mysql&gt; SELECT VARIABLE_NAME,VARIABLE_VALUE, CONCAT<span style="color:#f92672">(</span>VARIABLE_VALUE/1024/1024,<span style="color:#e6db74">&#39; MB&#39;</span><span style="color:#f92672">)</span> AS VARIABLE_VALUE_MB FROM information_schema.SESSION_VARIABLES WHERE VARIABLE_NAME IN <span style="color:#f92672">(</span><span style="color:#e6db74">&#39;innodb_buffer_pool_size&#39;</span>,<span style="color:#e6db74">&#39;innodb_log_buffer_size&#39;</span>,<span style="color:#e6db74">&#39;innodb_additional_mem_pool_size&#39;</span>,<span style="color:#e6db74">&#39;key_buffer_size&#39;</span>,<span style="color:#e6db74">&#39;query_cache_size&#39;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; SHOW VARIABLES LIKE <span style="color:#e6db74">&#39;%show_compatibility_56%&#39;</span>;
</span></span><span style="display:flex;"><span>mysql&gt; SET GLOBAL show_compatibility_56<span style="color:#f92672">=</span>on;</span></span></code></pre></div></blockquote>
<hr>
<h3 id="ÂÖ∂‰ªñÂëΩ‰ª§">ÂÖ∂‰ªñÂëΩ‰ª§</h3>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted --><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># MySQL-master,Êü•ÁúãÊï∞ÊçÆÂ∫ìÂÅèÁßªÈáè
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> master status;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> reset master;  <span style="color:#75715e"># Ê∏ÖÁêÜresetÊó•Âøó
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰ªéÂ∫ìÊâßË°åÔºåÊµãËØïËøûÊé•‰∏ªÂ∫ì
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span><span style="color:#66d9ef">show</span> grants;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> mysql_secure_installation  	<span style="color:#75715e"># mysqlÂÆâÂÖ®ÈÖçÁΩÆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Enter current password <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">root</span> (enter <span style="color:#66d9ef">for</span> none):  	<span style="color:#75715e"># ËæìÂÖ•ËøõÂÖ•Êï∞ÊçÆÂ∫ìÂØÜÁ†ÅÔºåÈªòËÆ§‰∏∫Á©∫ÔºåÊåâÂõûËΩ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">Set</span> root password<span style="color:#f92672">?</span> [Y<span style="color:#f92672">/</span>n]  	<span style="color:#75715e"># ËÆæÁΩÆmysqlÊï∞ÊçÆÂ∫ìrootÁî®Êà∑ÁöÑÂØÜÁ†Å
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Remove anonymous users<span style="color:#f92672">?</span> [Y<span style="color:#f92672">/</span>n]  	<span style="color:#75715e"># ÁßªÈô§ÂåøÂêçÁî®Êà∑Y
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Disallow root login remotely<span style="color:#f92672">?</span> [Y<span style="color:#f92672">/</span>n]  	<span style="color:#75715e"># ‰∏çÂÖÅËÆ∏rootÁî®Êà∑ËøúÁ®ãÁôªÈôÜY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Remove test <span style="color:#66d9ef">database</span> <span style="color:#66d9ef">and</span> access <span style="color:#66d9ef">to</span> it<span style="color:#f92672">?</span> [Y<span style="color:#f92672">/</span>n]  	<span style="color:#75715e"># ÁßªÈô§testÊï∞ÊçÆÂ∫ìÂíåËÆøÈóÆY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Reload privilege <span style="color:#66d9ef">tables</span> now<span style="color:#f92672">?</span> [Y<span style="color:#f92672">/</span>n]   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Á≠õÈÄâÊï∞ÊçÆ‰∏çÂêåÂÄº
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">distinct</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span>;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">15</span> <span style="color:#66d9ef">and</span> (<span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ÈÄâÈ°π&#39;</span> <span style="color:#66d9ef">or</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ÈÄâÈ°π&#39;</span>);
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">order</span> <span style="color:#66d9ef">by</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç„ÄÅÂàóÂêç</span> <span style="color:#66d9ef">desc</span>(<span style="color:#960050;background-color:#1e0010">ÈôçÂ∫è</span>)<span style="color:#960050;background-color:#1e0010">„ÄÅ</span><span style="color:#66d9ef">asc</span>(<span style="color:#960050;background-color:#1e0010">ÂçáÂ∫è„ÄÅÈªòËÆ§ÂçáÂ∫è</span>);
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">limit</span> <span style="color:#ae81ff">2</span>  	<span style="color:#75715e"># Êü•ÁúãÂâç‰∏§Êù°Êï∞ÊçÆ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">like</span> <span style="color:#e6db74">&#39;È¶ñ‰∏™ÂÖ≥ÈîÆÂ≠ó%&#39;</span>;  	<span style="color:#75715e"># %ÂåπÈÖçÊâÄÊúâ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">like</span> <span style="color:#e6db74">&#39;%xx%&#39;</span>;  	<span style="color:#75715e"># ÂèçÂêëÊü•Êâæ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">in</span> (<span style="color:#e6db74">&#39;ÂÖ≥ÈîÆÂ≠ó&#39;</span>,<span style="color:#960050;background-color:#1e0010">‚ÄòÂÖ≥ÈîÆÂ≠ó‚Äô</span>)<span style="color:#960050;background-color:#1e0010">Ôºõ</span>
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">between</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">and</span> <span style="color:#ae81ff">20</span>;  	<span style="color:#75715e"># ÈÄâÂèñ1Âà∞20‰πãÈó¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">between</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">and</span> <span style="color:#ae81ff">20</span>;  	<span style="color:#75715e"># ÂèñÂèç
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">where</span> (<span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">between</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">and</span> <span style="color:#ae81ff">20</span>) <span style="color:#66d9ef">and</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span> <span style="color:#66d9ef">not</span> <span style="color:#66d9ef">in</span> (<span style="color:#e6db74">&#39;ÂÖ≥ÈîÆÂ≠ó&#39;</span>)<span style="color:#960050;background-color:#1e0010">Ôºõ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êõ¥Êñ∞„ÄÅÊõ¥ÊîπÊï∞ÊçÆÊï∞ÊçÆ‰ª•ÂèäÁî®Êà∑ÊùÉÈôê
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">update</span> <span style="color:#960050;background-color:#1e0010">Ë°®Âêç</span> <span style="color:#66d9ef">set</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;333&#39;</span>, <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;cn&#39;</span> <span style="color:#66d9ef">where</span> <span style="color:#960050;background-color:#1e0010">ÂàóÂêç</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;xxx&#39;</span>;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">update</span> <span style="color:#66d9ef">user</span> <span style="color:#66d9ef">set</span> host <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;%&#39;</span> <span style="color:#66d9ef">where</span> <span style="color:#66d9ef">user</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;root&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰øÆÊîπÊï∞ÊçÆÂ∫ìÂêåÊ≠•Á∫øÁ®ãmysql
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">set</span> global sync_binlog<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">set</span> global innodb_flush_log_at_trx_commit<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰øÆÊîπsqlÁ∫øÁ®ãÊï∞
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> STOP SLAVE SQL_THREAD;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SET</span> GLOBAL slave_parallel_type<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;LOGICAL_CLOCK&#39;</span>;
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SET</span> GLOBAL slave_parallel_workers<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>;  	
</span></span><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> START SLAVE SQL_THREAD;	</span></span></code></pre></div></blockquote>
<hr>
<h2 id="mysqlÊü•ËØ¢ÈîÅË°®ËØ≠Âè•"><code>MySQL</code>Êü•ËØ¢ÈîÅË°®ËØ≠Âè•</h2>
<ul>
<li>
<ol>
<li><a href="https://www.cnblogs.com/better-farther-world2099/articles/14721482.html" rel="external" target="_self"><code>MySQL</code>Êü•ËØ¢ÈîÅË°®ËØ≠Âè•</a></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><strong>Êü•ËØ¢ÊòØÂê¶ÈîÅË°®</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">show</span> OPEN <span style="color:#66d9ef">TABLES</span> <span style="color:#66d9ef">where</span> In_use <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>;</span></span></code></pre></div><ul>
<li><strong>Êü•ÁúãÊ≠£Âú®ÈîÅÁöÑ‰∫ãÂä°</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> INFORMATION_SCHEMA.INNODB_LOCKS; </span></span></code></pre></div><ul>
<li><strong>Êü•ÁúãÁ≠âÂæÖÈîÅÁöÑ‰∫ãÂä°</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> INFORMATION_SCHEMA.INNODB_LOCK_WAITS;</span></span></code></pre></div><ul>
<li><strong>Êü•ÁúãÂΩìÂâçÁöÑ‰∫ãÂä°</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> INFORMATION_SCHEMA.INNODB_TRX;</span></span></code></pre></div><ul>
<li><strong>Êü•ÁúãÂΩìÂâçÈîÅÂÆöÁöÑ‰∫ãÂä°</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> INFORMATION_SCHEMA.INNODB_LOCKS;</span></span></code></pre></div><ul>
<li><strong>Êü•ÁúãÂΩìÂâçÁ≠âÈîÅÁöÑ‰∫ãÂä°</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> INFORMATION_SCHEMA.INNODB_LOCK_WAITS;</span></span></code></pre></div><ul>
<li><strong>Êü•ËØ¢Ê≠ªÈîÅËØ¶ÊÉÖ</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SELECT</span> r.trx_id waiting_trx_id,r.trx_mysql_thread_id waiting_thread,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">TIMESTAMPADD</span>(SECOND,r.trx_wait_started,<span style="color:#66d9ef">CURRENT_TIMESTAMP</span>) wait_time,
</span></span><span style="display:flex;"><span>r.trx_query waiting_query,
</span></span><span style="display:flex;"><span>l.lock_table waiting_table_lock,
</span></span><span style="display:flex;"><span>b.trx_id blocking_trx_id,b.trx_mysql_thread_id blocking_thread,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SUBSTRING</span>(p.<span style="color:#f92672">`</span>HOST<span style="color:#f92672">`</span>,<span style="color:#ae81ff">1</span>,<span style="color:#a6e22e">INSTR</span>(p.<span style="color:#f92672">`</span>HOST<span style="color:#f92672">`</span>,<span style="color:#e6db74">&#39;:&#39;</span>)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) blocking_host,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">SUBSTRING</span>(p.<span style="color:#f92672">`</span>HOST<span style="color:#f92672">`</span>,<span style="color:#a6e22e">INSTR</span>(p.<span style="color:#f92672">`</span>HOST<span style="color:#f92672">`</span>,<span style="color:#e6db74">&#39;:&#39;</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) blocking_port,
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">IF</span>(p.COMMAND <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Sleep&#39;</span>,p.<span style="color:#66d9ef">TIME</span>,<span style="color:#ae81ff">0</span>) idle_in_trx,
</span></span><span style="display:flex;"><span>b.trx_query blocking_query
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">from</span> information_schema.INNODB_LOCK_WAITS w
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INNER</span> <span style="color:#66d9ef">JOIN</span> information_schema.INNODB_TRX b <span style="color:#66d9ef">ON</span> b.trx_id <span style="color:#f92672">=</span> w.blocking_lock_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INNER</span> <span style="color:#66d9ef">JOIN</span> information_schema.INNODB_TRX r <span style="color:#66d9ef">ON</span> r.trx_id <span style="color:#f92672">=</span> w.requesting_trx_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">INNER</span> <span style="color:#66d9ef">JOIN</span> information_schema.INNODB_LOCKS l <span style="color:#66d9ef">ON</span> l.lock_id <span style="color:#f92672">=</span> w.requested_lock_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> information_schema.<span style="color:#f92672">`</span>PROCESSLIST<span style="color:#f92672">`</span> p <span style="color:#66d9ef">ON</span> p.id <span style="color:#f92672">=</span> b.trx_mysql_thread_id
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">ORDER</span> <span style="color:#66d9ef">BY</span> wait_time <span style="color:#66d9ef">desc</span>;</span></span></code></pre></div></blockquote>
<hr>
<h2 id="ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰∏ª‰ªéÂ§çÂà∂">ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰∏ª‰ªéÂ§çÂà∂</h2>
<ul>
<li>
<ol>
<li><strong>‰∏ªÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ‰ª•ÂèäÊéàÊùÉ</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ‰øÆÊîπID</span>
</span></span><span style="display:flex;"><span>$ server_id<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>hostname -I |awk <span style="color:#e6db74">&#34;{print </span>$1<span style="color:#e6db74">}&#34;</span>|awk -F<span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#e6db74">&#34;{print </span>$4<span style="color:#e6db74">}&#34;</span><span style="color:#e6db74">`</span>  
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/server-id = 16303110/server-id = 16303</span>$server_id<span style="color:#e6db74">/g&#34;</span> /etc/my.cnf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊéàÊùÉ‰ªéÂ∫ìËøûÊé•Ë¥¶Êà∑ÂØÜÁ†Å</span>
</span></span><span style="display:flex;"><span>mysql&gt; grant replication slave on *.* to myuser@<span style="color:#e6db74">&#39;host IP&#39;</span> identified by <span style="color:#e6db74">&#39;password&#39;</span>;
</span></span><span style="display:flex;"><span>mysql&gt; flush privileges;
</span></span><span style="display:flex;"><span>mysql&gt; reset master; <span style="color:#e6db74">&#34;</span></span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><strong>ÈÖçÁΩÆ‰ªéÂ∫ìËøûÊé•‰∏ªÂ∫ì</strong></li>
</ol>
</li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ‰øÆÊîπID</span>
</span></span><span style="display:flex;"><span>$ server_id<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>hostname -I |awk <span style="color:#e6db74">&#39;{print $1}&#39;</span>|awk -F<span style="color:#e6db74">&#39;.&#39;</span> <span style="color:#e6db74">&#39;{print $4}&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/server-id = 16303110/server-id = 16303</span>$server_id<span style="color:#e6db74">/g&#34;</span> /etc/my.cnf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈÖçÁΩÆËøûÊé•‰∏ªÂ∫ì</span>
</span></span><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysql -uroot -p -S /tmp/mysql.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#34;CHANGE MASTER TO MASTER_HOST=&#39;127.0.0.1&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_USER=&#39;myuser&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_PASSWORD=&#39;password&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_PORT=16303, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_LOG_FILE=&#39;mysql-bin.000001&#39;, \  	# ‰∏ªÊú∫show master status;‰∏≠ÁöÑFile
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_LOG_POS=154,MASTER_CONNECT_RETRY=15;&#34;</span>  	<span style="color:#75715e"># ‰∏ªÊú∫show master status;‰∏≠ÁöÑPosition.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysql -uroot -p -S /tmp/mysql.sock -e <span style="color:#e6db74">&#34;start slave;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysql -uroot -p -S /tmp/mysql.sock -e <span style="color:#e6db74">&#34;show slave status\G&#34;</span></span></span></code></pre></div><ul>
<li><strong>ÈÖçÁΩÆÂ§öÊ∫êÂ§çÂà∂</strong></li>
</ul>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ /usr/local/mysql/bin/mysql -uroot -p -S /tmp/mysql.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>-e <span style="color:#e6db74">&#34;CHANGE MASTER TO MASTER_HOST=&#39;127.0.0.1&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_USER=&#39;myuser&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_PASSWORD=&#39;password&#39;, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">MASTER_PORT=16303, \
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">master_auto_position=1  for  channel &#39;rep_master_1&#39;;&#34;</span>  	<span style="color:#75715e"># ÂçèÂïÜ„ÄÅÂÆö‰πâÈ¢ëÈÅìÂá†‰∏™‰∏ªÊú∫ÂÆö‰πâÂá†Ê¨°„ÄÇ</span></span></span></code></pre></div></blockquote>
</blockquote>
<hr>
<h2 id="Êï∞ÊçÆÂ∫ìÂºÄÂêØgtidÊµÅÁ®ã">Êï∞ÊçÆÂ∫ìÂºÄÂêØ<code>GTID</code>ÊµÅÁ®ã</h2>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># Â¶ÇÊûúÂèØ‰ª•ÂÖàÊöÇÂÅú‰∏öÂä°ÔºåÊü•ËØ¢ÊòØÂê¶ËøòÊúâ‰∏öÂä°ËøûÊé•</span>
</span></span><span style="display:flex;"><span>mysql&gt; show processlist;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ª‰ªé‰æùÊ¨°ÊâßË°åÔºö‰∏ªÂ∫ìÊâßË°åÂ•ΩÂêéÔºåÂéª‰ªéÂ∫ìÊâßË°å ÔºåÂÜçÊâßË°å‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§</span>
</span></span><span style="display:flex;"><span>mysql&gt; SET @@GLOBAL.ENFORCE_GTID_CONSISTENCY<span style="color:#f92672">=</span>WARN;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êü•ËØ¢‰∏ª‰ªéÈîôËØØÊó•ÂøóÔºåÁúãÁúãÊòØÂê¶ÊúâÊä•ÈîôÔºåÂú®ÂÅö‰∏ã‰∏ÄÊ≠•</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ªÂ∫ìÊâßË°åÂ•ΩÂêéÔºåÂéª‰ªéÂ∫ìÊâßË°å ÔºåÂÜçÊâßË°å‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§</span>
</span></span><span style="display:flex;"><span>mysql&gt; SET @@GLOBAL.ENFORCE_GTID_CONSISTENCY<span style="color:#f92672">=</span>ON;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ªÂ∫ìÊâßË°åÂ•ΩÂêéÔºåÂéª‰ªéÂ∫ìÊâßË°å ÔºåÂÜçÊâßË°å‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§</span>
</span></span><span style="display:flex;"><span>mysql&gt; SET @@GLOBAL.GTID_MODE<span style="color:#f92672">=</span>OFF_PERMISSIVE;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ªÂ∫ìÊâßË°åÂ•ΩÂêéÔºåÂéª‰ªéÂ∫ìÊâßË°å ÔºåÂÜçÊâßË°å‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§</span>
</span></span><span style="display:flex;"><span>mysql&gt; SET @@GLOBAL.GTID_MODE<span style="color:#f92672">=</span>ON_PERMISSIVE;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰ªéÂ∫ìÊü•ËØ¢ÔºöÁ≠âÂæÖ‰ªéÂ∫ìËøô‰∏™Áä∂ÊÄÅÂèò‰∏∫0</span>
</span></span><span style="display:flex;"><span>mysql&gt; show status like <span style="color:#e6db74">&#39;ONGOING_ANONYMOUS_TRANSACTION_COUNT&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰∏ª‰ªéÊâßË°åÔºö</span>
</span></span><span style="display:flex;"><span>mysql&gt; SET @@GLOBAL.gtid_mode<span style="color:#f92672">=</span>on;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ‰ªéÂ∫ìÊâßË°åÔºö</span>
</span></span><span style="display:flex;"><span>mysql&gt; stop slave;
</span></span><span style="display:flex;"><span>mysql&gt; change master to master_auto_position<span style="color:#f92672">=</span>1;
</span></span><span style="display:flex;"><span>mysql&gt; start slave;</span></span></code></pre></div></blockquote>
<hr>
<h2 id="mysqlÂºÄÂêØÊó•ÂøóÂÆ°ËÆ°"><code>Mysql</code>ÂºÄÂêØÊó•ÂøóÂÆ°ËÆ°</h2>
<blockquote>
<ul>
<li></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ËøûÊé•Êï∞ÊçÆÂ∫ìÊâßË°åËØ≠Âè•Ôºö</span>
</span></span><span style="display:flex;"><span>mysql&gt; CREATE TABLE <span style="color:#e6db74">`</span>mysql<span style="color:#e6db74">`</span>.<span style="color:#e6db74">`</span>audit_login<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>ID<span style="color:#e6db74">`</span> bigint NOT NULL AUTO_INCREMENT COMMENT <span style="color:#e6db74">&#39;Ëá™Â¢ûID&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>USER<span style="color:#e6db74">`</span> varchar<span style="color:#f92672">(</span>128<span style="color:#f92672">)</span>  NOT NULL COMMENT <span style="color:#e6db74">&#39;Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÁî®Êà∑&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>HOST<span style="color:#e6db74">`</span> varchar<span style="color:#f92672">(</span>64<span style="color:#f92672">)</span>  DEFAULT NULL COMMENT <span style="color:#e6db74">&#39;ÁôªÂΩïÁöÑIP&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>DB<span style="color:#e6db74">`</span> varchar<span style="color:#f92672">(</span>64<span style="color:#f92672">)</span>  DEFAULT NULL COMMENT <span style="color:#e6db74">&#39;ËÆøÈóÆÁöÑÊï∞ÊçÆÂ∫ì&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>PROCESSLIST_ID<span style="color:#e6db74">`</span> bigint NOT NULL COMMENT <span style="color:#e6db74">&#39;Áî®Êà∑ËøûÊé•&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>LOGIN_TIME<span style="color:#e6db74">`</span> datetime<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> DEFAULT CURRENT_TIMESTAMP<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> COMMENT <span style="color:#e6db74">&#39;ÁôªÂΩïÊó∂Èó¥&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>UPDATE_TIME<span style="color:#e6db74">`</span> datetime<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> DEFAULT CURRENT_TIMESTAMP<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> ON UPDATE CURRENT_TIMESTAMP<span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> COMMENT <span style="color:#e6db74">&#39;ËÆ∞ÂΩïËøôË°åÊï∞ÊçÆ‰∏äÊ¨°Ë¢´‰øÆÊîπÁöÑÊó∂Èó¥,ÈªòËÆ§Á≠â‰∫éLOGIN_TIME&#39;</span>,
</span></span><span style="display:flex;"><span>PRIMARY KEY <span style="color:#f92672">(</span><span style="color:#e6db74">`</span>ID<span style="color:#e6db74">`</span><span style="color:#f92672">)</span>,
</span></span><span style="display:flex;"><span>KEY <span style="color:#e6db74">`</span>IDX_USER<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span><span style="color:#e6db74">`</span>USER<span style="color:#e6db74">`</span><span style="color:#f92672">)</span>,
</span></span><span style="display:flex;"><span>KEY <span style="color:#e6db74">`</span>IDX_HOST<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span><span style="color:#e6db74">`</span>HOST<span style="color:#e6db74">`</span><span style="color:#f92672">)</span>,
</span></span><span style="display:flex;"><span>KEY <span style="color:#e6db74">`</span>IDX_LOGIN_TIME<span style="color:#e6db74">`</span> <span style="color:#f92672">(</span><span style="color:#e6db74">`</span>LOGIN_TIME<span style="color:#e6db74">`</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span> ENGINE<span style="color:#f92672">=</span>InnoDB COMMENT <span style="color:#e6db74">&#34;Áî®Êà∑ÁôªÂΩïÂÆ°ËÆ°Êó•ÂøóË°®&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êü•ËØ¢ÊéàÊùÉSQLÔºåÂ§çÂà∂Êü•ËØ¢Âá∫Êù•ÁöÑSQLËØ≠Âè•ÔºåÊâßË°åÊéàÊùÉ</span>
</span></span><span style="display:flex;"><span>mysql&gt; <span style="color:#66d9ef">select</span> concat<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;grant select,insert on mysql.audit_login to &#39;&#34;</span>,user,<span style="color:#e6db74">&#34;&#39;@&#39;&#34;</span>,host,<span style="color:#e6db74">&#34;&#39;;&#34;</span><span style="color:#f92672">)</span> grants_sql from mysql.user where user not in <span style="color:#f92672">(</span><span style="color:#e6db74">&#39;mysql.session&#39;</span>,<span style="color:#e6db74">&#39;mysql.sys&#39;</span><span style="color:#f92672">)</span> and Super_priv<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;N&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊâßË°åÔºö</span>
</span></span><span style="display:flex;"><span>mysql&gt; set global init_connect<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;insert into mysql.audit_login(USER,HOST,DB,PROCESSLIST_ID) values(current_user(),substring_index(user(),&#39;@&#39;,-1),database(),connection_id());&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈÖçÁΩÆÂèÇÊï∞Êñá‰ª∂Ôºö</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld<span style="color:#f92672">]</span> 
</span></span><span style="display:flex;"><span>init_connect<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;insert into mysql.audit_login(USER,HOST,DB,PROCESSLIST_ID) values(current_user(),substring_index(user(),&#39;@&#39;,-1),database(),connection_id());&#34;</span>;  <span style="color:#75715e">#DBA add</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÊúÄÂêéÊâßË°åÁúãÁúãÊúâÊ≤°ÊúâÊï∞ÊçÆÔºö</span>
</span></span><span style="display:flex;"><span>mysql&gt; <span style="color:#66d9ef">select</span> * from mysql.audit_login;</span></span></code></pre></div></blockquote>
<hr>
<h2 id="‰∏ª‰ªéË∑≥ËøáÂ§çÂà∂ÈîôËØØ">‰∏ª‰ªéË∑≥ËøáÂ§çÂà∂ÈîôËØØ</h2>
<blockquote>
<ul>
<li>
<ol>
<li><a href="https://blog.51cto.com/arthur376/1969935" rel="external" target="_self">‰∏ª‰ªéË∑≥ËøáÂ§çÂà∂ÈîôËØØ</a></li>
</ol>
</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#75715e"># ÂÅúÊ≠¢Â§çÂà∂
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> slave stop;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ËÆæÂÆöË∑≥Ëøá‰∏Ä‰∏™‰∫ãÂä°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">SET</span> GLOBAL SQL_SLAVE_SKIP_COUNTER <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ÈáçÊñ∞ÂºÄÂêØÂ§çÂà∂
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span>slave start
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ËøôÊ†∑Â∞±Ê≠£Â∏∏‰∫ÜÔºå‰ΩÜÊòØÔºåÂΩìÁÑ∂ËøòÊòØË¶ÅÊääÊï∞ÊçÆ‰øÆÊîπ‰∏äÂéª
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>mysql<span style="color:#f92672">&gt;</span><span style="color:#66d9ef">update</span> <span style="color:#66d9ef">tables</span> <span style="color:#66d9ef">set</span> <span style="color:#960050;background-color:#1e0010">„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ</span></span></span></code></pre></div></blockquote>
<hr>
<h2 id="sql‰ºòÂåñÂÆ°Ê†∏Âπ≥Âè∞Â∑•ÂÖ∑"><code>SQL</code>‰ºòÂåñ„ÄÅÂÆ°Ê†∏Âπ≥Âè∞Â∑•ÂÖ∑</h2>
<ul>
<li>
<ol>
<li><!-- raw HTML omitted -->ÂÆâË£Ö<a href="https://guide.yearning.io/install.html" rel="external" target="_self"><code>Yearning</code></a><code>SQL</code>ÂÆ°Ê†∏Â∑•ÂÖ∑<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><!-- raw HTML omitted -->ÈªòËÆ§Ë¥¶Âè∑/ÂØÜÁ†ÅÔºö<!-- raw HTML omitted --><code>admin/Yearning_admin</code></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install wget unzip
</span></span><span style="display:flex;"><span>$ wget -P /opt/src/ https://github.com/cookieY/Yearning/releases/download/v3.1.0/Yearning-v3.1.0-linux-amd64.zip  
</span></span><span style="display:flex;"><span>$ unzip -d /opt/yearning /opt/src/Yearning-v3.1.0-linux-amd64.zip  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/Port = &#34;</span>3306<span style="color:#e6db74">&#34;/Port = &#34;</span>16303<span style="color:#e6db74">&#34;/g&#34;</span> /opt/apps/yearning/conf.toml  
</span></span><span style="display:flex;"><span>$ sed -i <span style="color:#e6db74">&#34;s/Password = &#39;xxxx&#39;/Password = &#39;p@ssw0rd&#39;/g&#34;</span> /opt/apps/yearning/conf.toml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ /bin/mysql -uroot <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -S /opt/data/data_16303/mysql.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -p -e <span style="color:#e6db74">&#34;create database Yearning DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/mysql -uroot <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -S /opt/data/data_16303/mysql.sock <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -p -e <span style="color:#e6db74">&#34;grant all on *.* to root@&#39;127.0.0.1&#39; identified by &#34;</span>p@ssw0rd<span style="color:#e6db74">&#34;;&#34;</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ./Yearning install  	<span style="color:#75715e"># ÂÖàÂàùÂßãÂåñ</span>
</span></span><span style="display:flex;"><span>$ ./Yearning run
</span></span><span style="display:flex;"><span>$ ./Yearning run --push <span style="color:#e6db74">&#34;ÂüüÂêç„ÄÅÊàñËÄÖIPÂú∞ÂùÄ&#34;</span> --port <span style="color:#e6db74">&#34;8000&#34;</span>  	<span style="color:#75715e"># ÊåáÂÆöÂüüÂêçÁ´ØÂè£ÊñπÂºèÂêØÂä®</span></span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="2">
<li><!-- raw HTML omitted -->ÂÆâË£ÖÁæéÂõ¢<code>SQL</code>‰ºòÂåñÂ∑•ÂÖ∑<a href="https://github.com/Meituan-Dianping/SQLAdvisor/blob/master/doc/QUICK_START.md" rel="external" target="_self"><code>SQL-Advisor</code></a><!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://segmentfault.com/a/1190000022883633" rel="external" target="_self"><code>MySQL-SQLAdvisor</code>ÁöÑÁÆÄÂçïÂÆâË£Ö‰ΩøÁî®</a></li>
<li><a href="https://tech.meituan.com/2017/03/09/sqladvisor-pr.html" rel="external" target="_self">ÁæéÂõ¢ÁÇπËØÑ<code>SQL</code>‰ºòÂåñÂ∑•ÂÖ∑<code>SQLAdvisor</code>ÂºÄÊ∫ê</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ yum -y install git wget cmake libaio-devel libffi-devel glib2 glib2-devel  
</span></span><span style="display:flex;"><span>$ yum -y install --enablerepo<span style="color:#f92672">=</span>Percona56 Percona-Server-shared-56  
</span></span><span style="display:flex;"><span>$ git clone https://github.com/Meituan-Dianping/SQLAdvisor.git /opt/src/sqladvisor  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cd /opt/src/sqladvisor
</span></span><span style="display:flex;"><span>$ cmake -DBUILD_CONFIG<span style="color:#f92672">=</span>mysql_release <span style="color:#ae81ff">\ </span>
</span></span><span style="display:flex;"><span> -DCMAKE_BUILD_TYPE<span style="color:#f92672">=</span>debug <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span> -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>/usr/local/sqlparser ./
</span></span><span style="display:flex;"><span>$ make <span style="color:#f92672">&amp;&amp;</span> make install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. DCMAKE_INSTALL_PREFIX‰∏∫sqlparserÂ∫ìÊñá‰ª∂ÂíåÂ§¥Êñá‰ª∂ÁöÑÂÆâË£ÖÁõÆÂΩïÔºåÂÖ∂‰∏≠libÁõÆÂΩïÂåÖÂê´Â∫ìÊñá‰ª∂libsqlparser.soÔºåincludeÁõÆÂΩïÂåÖÂê´ÊâÄÈúÄÁöÑÊâÄÊúâÂ§¥Êñá‰ª∂„ÄÇ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. DCMAKE_INSTALL_PREFIXÂÄºÂ∞ΩÈáè‰∏çË¶Å‰øÆÊîπÔºåÂêéÈù¢ÂÆâË£Ö‰æùËµñËøô‰∏™ÁõÆÂΩï„ÄÇ  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cd SQLAdvisor/sqladvisor/
</span></span><span style="display:flex;"><span>$ cmake -DCMAKE_BUILD_TYPE<span style="color:#f92672">=</span>debug ./
</span></span><span style="display:flex;"><span>$ make
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Âú®Êú¨Ë∑ØÂæÑ‰∏ãÁîüÊàê‰∏Ä‰∏™sqladvisorÂèØÊâßË°åÊñá‰ª∂ÔºåËøôÂç≥ÊòØÊàë‰ª¨ÊÉ≥Ë¶Å</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cat &gt;sql.cnf<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">[sqladvisor]
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">username=xx
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">password=xx
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">host=xx
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">port=xx
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">dbname=xx
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># sqls=sql1;sql2;sql3....
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cmd: ./sqladvisor -f sql.cnf  -v 1</span></span></span></code></pre></div></blockquote>
<ul>
<li>
<ol start="3">
<li><a href="https://www.justdojava.com/2021/07/20/canal/" rel="external" target="_self">ÁõëÂê¨<code>MySQL binlog</code>ÂÆûÁé∞Êï∞ÊçÆÂèòÂåñÂêéÁöÑÂÆûÊó∂ÈÄöÁü•</a></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://github.com/alibaba/canal" rel="external" target="_self"><code>Github Alibaba Canal</code></a></li>
</ul>
</blockquote>
<ul>
<li>
<ol start="4">
<li><code>explain</code><!-- raw HTML omitted -->ÁöÑ‰ΩøÁî®<!-- raw HTML omitted --></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://developer.aliyun.com/article/1104750#slide-12" rel="external" target="_self"><code>Mysql</code>‰ºòÂåñÈ´òÁ∫ßÁØá</a></li>
<li><code>explain</code>+<code>sql</code>ËØ≠Âè•</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">explain</span> <span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> Tables_name;</span></span></code></pre></div><blockquote>
<ul>
<li><code>id</code>ÔºöË°®ÁöÑËØªÂèñÈ°∫Â∫è</li>
<li><code>select_type</code>ÔºöÊï∞ÊçÆËØªÂèñÊìç‰ΩúÁöÑÊìç‰ΩúÁ±ªÂûã</li>
<li><code>possible_keys</code>ÔºöÂì™‰∫õÁ¥¢ÂºïÂèØ‰ª•‰ΩøÁî®</li>
<li><code>key</code>ÔºöÂì™‰∫õÁ¥¢ÂºïË¢´ÂÆûÈôÖ‰ΩøÁî®</li>
<li><code>ref</code>ÔºöË°®‰πãÈó¥ÁöÑÂºïÁî®</li>
<li><code>rows</code>ÔºöÊØèÂº†Ë°®ÊúâÂ§öÂ∞ëË°åË¢´‰ºòÂåñÂô®Êü•ËØ¢</li>
</ul>
</blockquote>
</blockquote>
<ul>
<li>
<ol start="5">
<li><code>SQL</code>ÂÆ°ËÆ°</li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://www.jianshu.com/p/513b7c95e1e8" rel="external" target="_self"><code>MySQL</code>ÂÆ°ËÆ°Êèí‰ª∂‰ªãÁªç</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># ËøõÂÖ•Êï∞ÊçÆÂ∫ìÂÆâË£ÖÂÆ°ËÆ°Êèí‰ª∂</span>
</span></span><span style="display:flex;"><span>mysql&gt; INSTALL PLUGIN server_audit SONAME <span style="color:#e6db74">&#39;server_audit.so&#39;</span>;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">0</span> rows affected <span style="color:#f92672">(</span>0.07 sec<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; show plugins;
</span></span><span style="display:flex;"><span>+----------------------------+--------+--------------------+-----------------+---------+
</span></span><span style="display:flex;"><span>| Name                       | Status | Type               | Library         | License |
</span></span><span style="display:flex;"><span>+----------------------------+--------+--------------------+-----------------+---------+
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>| SERVER_AUDIT               | ACTIVE | AUDIT              | server_audit.so | GPL     |
</span></span><span style="display:flex;"><span>+----------------------------+--------+--------------------+-----------------+---------+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Êü•Áúã audit ÂàùÂßãÂèÇÊï∞ÈÖçÁΩÆ</span>
</span></span><span style="display:flex;"><span>mysql&gt; show variables like <span style="color:#e6db74">&#39;%audit%&#39;</span>;
</span></span><span style="display:flex;"><span>+-------------------------------+-----------------------+
</span></span><span style="display:flex;"><span>| Variable_name                 | Value                 |
</span></span><span style="display:flex;"><span>+-------------------------------+-----------------------+
</span></span><span style="display:flex;"><span>| server_audit_events           |                       |
</span></span><span style="display:flex;"><span>| server_audit_excl_users       |                       |
</span></span><span style="display:flex;"><span>| server_audit_file_path        | server_audit.log      |
</span></span><span style="display:flex;"><span>| server_audit_file_rotate_now  | OFF                   |
</span></span><span style="display:flex;"><span>| server_audit_file_rotate_size | <span style="color:#ae81ff">1000000</span>               |
</span></span><span style="display:flex;"><span>| server_audit_file_rotations   | <span style="color:#ae81ff">9</span>                     |
</span></span><span style="display:flex;"><span>| server_audit_incl_users       |                       |
</span></span><span style="display:flex;"><span>| server_audit_loc_info         |                       |
</span></span><span style="display:flex;"><span>| server_audit_logging          | OFF                   |
</span></span><span style="display:flex;"><span>| server_audit_mode             | <span style="color:#ae81ff">1</span>                     |
</span></span><span style="display:flex;"><span>| server_audit_output_type      | file                  |
</span></span><span style="display:flex;"><span>| server_audit_query_log_limit  | <span style="color:#ae81ff">1024</span>                  |
</span></span><span style="display:flex;"><span>| server_audit_syslog_facility  | LOG_USER              |
</span></span><span style="display:flex;"><span>| server_audit_syslog_ident     | mysql-server_auditing |
</span></span><span style="display:flex;"><span>| server_audit_syslog_info      |                       |
</span></span><span style="display:flex;"><span>| server_audit_syslog_priority  | LOG_INFO              |
</span></span><span style="display:flex;"><span>+-------------------------------+-----------------------+
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Âú®Á∫øÂºÄÂêØÂÆ°ËÆ°</span>
</span></span><span style="display:flex;"><span>mysql&gt; set global server_audit_logging<span style="color:#f92672">=</span>on;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">0</span> rows affected <span style="color:#f92672">(</span>0.00 sec<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; set global server_audit_events<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;connect,table,query_ddl,query_dcl,query_dml_no_select&#39;</span>;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">0</span> rows affected <span style="color:#f92672">(</span>0.00 sec<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; set global server_audit_file_path <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/data/mysql/logs/server_audit.log&#39;</span>;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">0</span> rows affected <span style="color:#f92672">(</span>0.00 sec<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; set global server_audit_file_rotate_size<span style="color:#f92672">=</span>104857600;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#ae81ff">0</span> rows affected <span style="color:#f92672">(</span>0.01 sec<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># [mysqld]‰∏ãÊ∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆ ‰ΩøÂæóÊ∞∏‰πÖÁîüÊïà</span>
</span></span><span style="display:flex;"><span>server_audit<span style="color:#f92672">=</span>FORCE_PLUS_PERMANENT
</span></span><span style="display:flex;"><span>server_audit_logging<span style="color:#f92672">=</span>ON
</span></span><span style="display:flex;"><span>server_audit_file_path<span style="color:#f92672">=</span>/data/mysql/logs/server_audit.log         
</span></span><span style="display:flex;"><span>server_audit_events<span style="color:#f92672">=</span>connect,table,query_ddl,query_dcl,query_dml_no_select
</span></span><span style="display:flex;"><span>server_audit_file_rotate_size<span style="color:#f92672">=</span><span style="color:#ae81ff">104857600</span></span></span></code></pre></div></blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../../js/clipboard.min.js?1723803345" defer></script>
    <script src="../../../../js/perfect-scrollbar.min.js?1723803345" defer></script>
    <script src="../../../../js/theme.js?1723803345" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.125.4">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="Lua语言使用 IDE插件 EmmyLua for IntelliJ IDEA EmmyLua插件中文文档 LDT基于Eclipse Eclipse-LDT 保留关键字 保留关键字 描述 if 如果 then 执行 elseif 其它 else 否则 for do 执行 while 循环 in end 结束 true 数字：0等代表：true false and or not break until return repeat nil 空值，可以代表 false local 代表局部变量 function Lua注释 行注释 -- 两个减号是行注释 块注释 --[[ 我是块注释 一块一块的 --]] 循环 while循环 local i = 0 local max = 10 while i &lt;= max do i = i &#43;1 print(i) end if-else语句 local age = 140 -- 局部变量 local sex = &#34;Male&#34; if age == 40 and sex == &#34;Male&#34; then print(&#34; 男人四十一枝花&#34;) elseif age &gt; 60 and sex ~= &#34;Female&#34; then -- 大于60，并且 不定于Female print(&#34;old man!">
    <meta name="author" content="二哥">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://usermice.github.io/images/hero.png">
    <meta name="twitter:title" content="Language_Lua :: Hugo Relearn Theme">
    <meta name="twitter:description" content="Lua语言使用 IDE插件 EmmyLua for IntelliJ IDEA EmmyLua插件中文文档 LDT基于Eclipse Eclipse-LDT 保留关键字 保留关键字 描述 if 如果 then 执行 elseif 其它 else 否则 for do 执行 while 循环 in end 结束 true 数字：0等代表：true false and or not break until return repeat nil 空值，可以代表 false local 代表局部变量 function Lua注释 行注释 -- 两个减号是行注释 块注释 --[[ 我是块注释 一块一块的 --]] 循环 while循环 local i = 0 local max = 10 while i &lt;= max do i = i &#43;1 print(i) end if-else语句 local age = 140 -- 局部变量 local sex = &#34;Male&#34; if age == 40 and sex == &#34;Male&#34; then print(&#34; 男人四十一枝花&#34;) elseif age &gt; 60 and sex ~= &#34;Female&#34; then -- 大于60，并且 不定于Female print(&#34;old man!">
    <meta property="og:url" content="https://usermice.github.io/language/lua/language_lua/">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="Language_Lua :: Hugo Relearn Theme">
    <meta property="og:description" content="Lua语言使用 IDE插件 EmmyLua for IntelliJ IDEA EmmyLua插件中文文档 LDT基于Eclipse Eclipse-LDT 保留关键字 保留关键字 描述 if 如果 then 执行 elseif 其它 else 否则 for do 执行 while 循环 in end 结束 true 数字：0等代表：true false and or not break until return repeat nil 空值，可以代表 false local 代表局部变量 function Lua注释 行注释 -- 两个减号是行注释 块注释 --[[ 我是块注释 一块一块的 --]] 循环 while循环 local i = 0 local max = 10 while i &lt;= max do i = i &#43;1 print(i) end if-else语句 local age = 140 -- 局部变量 local sex = &#34;Male&#34; if age == 40 and sex == &#34;Male&#34; then print(&#34; 男人四十一枝花&#34;) elseif age &gt; 60 and sex ~= &#34;Female&#34; then -- 大于60，并且 不定于Female print(&#34;old man!">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Languges">
    <meta property="article:published_time" content="2024-06-13T00:02:19+08:00">
    <meta property="article:modified_time" content="2024-06-13T00:02:19+08:00">
    <meta property="og:image" content="https://usermice.github.io/images/hero.png">
    <meta itemprop="name" content="Language_Lua :: Hugo Relearn Theme">
    <meta itemprop="description" content="Lua语言使用 IDE插件 EmmyLua for IntelliJ IDEA EmmyLua插件中文文档 LDT基于Eclipse Eclipse-LDT 保留关键字 保留关键字 描述 if 如果 then 执行 elseif 其它 else 否则 for do 执行 while 循环 in end 结束 true 数字：0等代表：true false and or not break until return repeat nil 空值，可以代表 false local 代表局部变量 function Lua注释 行注释 -- 两个减号是行注释 块注释 --[[ 我是块注释 一块一块的 --]] 循环 while循环 local i = 0 local max = 10 while i &lt;= max do i = i &#43;1 print(i) end if-else语句 local age = 140 -- 局部变量 local sex = &#34;Male&#34; if age == 40 and sex == &#34;Male&#34; then print(&#34; 男人四十一枝花&#34;) elseif age &gt; 60 and sex ~= &#34;Female&#34; then -- 大于60，并且 不定于Female print(&#34;old man!">
    <meta itemprop="datePublished" content="2024-06-13T00:02:19+08:00">
    <meta itemprop="dateModified" content="2024-06-13T00:02:19+08:00">
    <meta itemprop="wordCount" content="586">
    <meta itemprop="image" content="https://usermice.github.io/images/hero.png">
    <title>Language_Lua :: Hugo Relearn Theme</title>
    <link href="../../../images/favicon.ico?1728660462" rel="icon" type="image/x-icon" sizes="any">
    <link href="../../../css/fontawesome-all.min.css?1728660464" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fontawesome-all.min.css?1728660464" rel="stylesheet"></noscript>
    <link href="../../../css/nucleus.css?1728660464" rel="stylesheet">
    <link href="../../../css/auto-complete.css?1728660464" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/auto-complete.css?1728660464" rel="stylesheet"></noscript>
    <link href="../../../css/perfect-scrollbar.min.css?1728660464" rel="stylesheet">
    <link href="../../../css/fonts.css?1728660464" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="../../../css/fonts.css?1728660464" rel="stylesheet"></noscript>
    <link href="../../../css/theme.css?1728660464" rel="stylesheet">
    <link href="../../../css/theme-relearn-auto.css?1728660464" rel="stylesheet" id="R-variant-style">
    <link href="../../../css/chroma-relearn-auto.css?1728660464" rel="stylesheet" id="R-variant-chroma-style">
    <link href="../../../css/variant.css?1728660464" rel="stylesheet">
    <link href="../../../css/print.css?1728660464" rel="stylesheet" media="print">
    <link href="../../../css/format-print.css?1728660464" rel="stylesheet">
    <script src="../../../js/variant.js?1728660464"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/usermice.github.io';
      window.index_js_url="../../../index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red', 'my-branding' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>Partial intended to be overwritten to add custom headers, like CSS or any other info
<style>
    
</style>


  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="../../../language/lua/language_lua/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>



          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../language/"><span itemprop="name">Languges</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="../../../language/lua/"><span itemprop="name">Lua</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Lua</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">


            <div class="topbar-button topbar-button-prev" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../language/lua/" title="Lua (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>

            <div class="topbar-button topbar-button-next" data-content-empty="show" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="../../../language/yaml/" title="Yaml (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>



          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="language_lua">Language_Lua</h1>

<h2 id="lua语言使用"><code>Lua</code>语言使用</h2>
<blockquote>
<ul>
<li>
<ol>
<li><strong><code>IDE</code>插件</strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://github.com/EmmyLua/IntelliJ-EmmyLua" rel="external" target="_self"><code>EmmyLua for IntelliJ IDEA</code></a></li>
<li><a href="https://emmylua.github.io/zh_CN/" rel="external" target="_self"><code>EmmyLua</code>插件中文文档</a></li>
</ul>
</blockquote>
<ul>
<li>
<ol start="2">
<li><strong><code>LDT</code>基于<code>Eclipse</code></strong></li>
</ol>
</li>
</ul>
<blockquote>
<ul>
<li><a href="https://eclipse.dev/ldt/" rel="external" target="_self"><code>Eclipse-LDT</code></a></li>
</ul>
</blockquote>
</blockquote>
<hr>
<h3 id="保留关键字">保留关键字</h3>
<blockquote>
<table>
<thead>
<tr>
<th>保留关键字</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>if</code></td>
<td>如果</td>
</tr>
<tr>
<td><code>then</code></td>
<td>执行</td>
</tr>
<tr>
<td><code>elseif</code></td>
<td>其它</td>
</tr>
<tr>
<td><code>else</code></td>
<td>否则</td>
</tr>
<tr>
<td><code>for</code></td>
<td></td>
</tr>
<tr>
<td><code>do</code></td>
<td>执行</td>
</tr>
<tr>
<td><code>while</code></td>
<td>循环</td>
</tr>
<tr>
<td><code>in</code></td>
<td></td>
</tr>
<tr>
<td><code>end</code></td>
<td>结束</td>
</tr>
<tr>
<td><code>true</code></td>
<td>数字：<code>0</code>等代表：<code>true</code></td>
</tr>
<tr>
<td><code>false</code></td>
<td></td>
</tr>
<tr>
<td><code>and</code></td>
<td></td>
</tr>
<tr>
<td><code>or</code></td>
<td></td>
</tr>
<tr>
<td><code>not</code></td>
<td></td>
</tr>
<tr>
<td><code>break</code></td>
<td></td>
</tr>
<tr>
<td><code>until</code></td>
<td></td>
</tr>
<tr>
<td><code>return</code></td>
<td></td>
</tr>
<tr>
<td><code>repeat</code></td>
<td></td>
</tr>
<tr>
<td><code>nil</code></td>
<td>空值，可以代表 <code>false</code></td>
</tr>
<tr>
<td><code>local</code></td>
<td>代表局部变量</td>
</tr>
<tr>
<td><code>function</code></td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<hr>
<h3 id="lua注释"><code>Lua</code>注释</h3>
<blockquote>
<ul>
<li>
<ol>
<li><strong>行注释</strong></li>
</ol>
</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- 两个减号是行注释</span></span></span></code></pre></div><ul>
<li>
<ol start="2">
<li><strong>块注释</strong></li>
</ol>
</li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--[[
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">我是块注释
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">一块一块的
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">--]]</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="循环">循环</h3>
<h4 id="while循环"><code>while</code>循环</h4>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> max <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;=</span> max <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	i <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	print(i)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div></blockquote>
<hr>
<h4 id="if-else语句"><code>if-else</code>语句</h4>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> age <span style="color:#f92672">=</span> <span style="color:#ae81ff">140</span>  <span style="color:#75715e">-- 局部变量</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> sex <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Male&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> age <span style="color:#f92672">==</span> <span style="color:#ae81ff">40</span> <span style="color:#f92672">and</span> sex <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Male&#34;</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34; 男人四十一枝花&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elseif</span> age <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">and</span> sex <span style="color:#f92672">~=</span> <span style="color:#e6db74">&#34;Female&#34;</span> <span style="color:#66d9ef">then</span>  	<span style="color:#75715e">-- 大于60，并且 不定于Female</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;old man!!!&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elseif</span> age <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">20</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    io.write(<span style="color:#e6db74">&#34;too yung, too simple!!!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Your age is&#34;</span><span style="color:#f92672">..</span>age)  <span style="color:#75715e">-- 使用：.. 引用变量</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div></blockquote>
<hr>
<h4 id="for语句使用"><code>for</code>语句使用</h4>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">do</span>  	<span style="color:#75715e">-- i 等于100， i小于1，i减2。其它写法：i=0, 100, +2</span>
</span></span><span style="display:flex;"><span>	sum <span style="color:#f92672">=</span> sum <span style="color:#f92672">+</span> i
</span></span><span style="display:flex;"><span>	print(sum)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>print(sum)</span></span></code></pre></div></blockquote>
<hr>
<h3 id="function函数"><code>function</code>函数</h3>
<blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">myPower</span>(x,y)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> y<span style="color:#f92672">+</span>x
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>power2 <span style="color:#f92672">=</span> myPower(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(power2)</span></span></code></pre></div><div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">newCounter</span>()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>	i <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> i
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c1 <span style="color:#f92672">=</span> newCounter()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(c1())  	<span style="color:#75715e">-- 等于 1</span>
</span></span><span style="display:flex;"><span>print(c1())  	<span style="color:#75715e">-- 等于 2</span>
</span></span><span style="display:flex;"><span>print(c1())  	<span style="color:#75715e">-- 等于 3</span></span></span></code></pre></div><div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isMyGirl</span>(name)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;shangsan&#39;</span>, name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> bol,name <span style="color:#f92672">=</span> isMyGirl(<span style="color:#e6db74">&#39;zhangsan&#39;</span>)
</span></span><span style="display:flex;"><span>print(name,bol)</span></span></code></pre></div><ul>
<li><strong><code>key value</code>键值对方式</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>man <span style="color:#f92672">=</span> {name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;lisi&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>,height<span style="color:#f92672">=</span><span style="color:#ae81ff">1.75</span>}
</span></span><span style="display:flex;"><span>man.age<span style="color:#f92672">=</span><span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>print(man.name,man.age,man.height)
</span></span><span style="display:flex;"><span>print(man)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><ul>
<li><strong>数组，使用下标取值</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>array <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;string&#39;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#39;man&#39;</span>,<span style="color:#66d9ef">function</span>() print(<span style="color:#e6db74">&#39;lisi&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">end</span>}
</span></span><span style="display:flex;"><span>print(array[<span style="color:#ae81ff">4</span>]())
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span></span></span></code></pre></div><ul>
<li><strong>遍历数组</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>array <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;string&#39;</span>, <span style="color:#ae81ff">100</span>, <span style="color:#e6db74">&#39;man&#39;</span>,<span style="color:#66d9ef">function</span>() print(<span style="color:#e6db74">&#39;lisi&#39;</span>) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">end</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> key, value <span style="color:#66d9ef">in</span> pairs(array) <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    print(key, value)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><ul>
<li><strong>函数添加值</strong></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> {name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zhangsan&#39;</span>, age <span style="color:#f92672">=</span> <span style="color:#ae81ff">23</span>}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">person</span>.<span style="color:#a6e22e">eat</span>(food)
</span></span><span style="display:flex;"><span>        print(person.name <span style="color:#f92672">..</span><span style="color:#e6db74">&#34; 正在 &#34;</span><span style="color:#f92672">..</span>food)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person.eat(<span style="color:#e6db74">&#39;吃火锅&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div></blockquote>
<hr>
<h3 id="lua连接redis"><code>Lua</code>连接<code>Redis</code></h3>
<blockquote>
<ul>
<li><a href="https://github.com/steve0511/resty-redis-cluster" rel="external" target="_self"><code>Lua Redis-Cluster</code>集群支持</a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;conf/lua/redis.lua<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local redis = require &#34;resty.redis&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	local red = redis:new()  	-- 创建新连接
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	res:set_tineouts(1000, 1000, 1000) -- 1 sec  	-- 超过一秒为连接超时
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local ok, error = red:connect(&#34;127.0.0.1&#34;, 6379)  	-- 连接地址
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not ok then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	ngx.say(&#34;failed to connect: &#34;, error)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ok, error = red:set(&#34;dog&#34;, &#34;an animal&#34;)  	-- 写入数据
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not ok then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	ngx.say(&#34;failed to set dog: &#34;, error)  	-- 写入不成功报错
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ngx.say(&#34;set result: &#34;, ok)  	-- 写入成功
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local res, error = red:get(&#34;dog&#34;)  	-- 获取数据
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">fi not res then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	ngx.say(&#34;failed to get dog: &#34;, error)  	-- 获取不到报错
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if res == ngx.null then  	-- 空值
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	ngx.say(&#34;dog not found.&#34;)  	-- 空值提醒
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ngx.say(&#34;dog: &#34;, res)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="lua连接mysql"><code>Lua</code>连接<code>Mysql</code></h3>
<blockquote>
<ul>
<li><a href="https://github.com/openresty/lua-resty-mysql" rel="external" target="_self"><code>Lua-Resty-Mysql</code></a></li>
</ul>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ cat &gt;conf/lua/mysql.lua<span style="color:#e6db74">&lt;&lt;-EOF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local mysql = require &#34;resty.mysql&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local db, error = mysql:new()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not db then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	ngx.say(&#34;failed to instantiate mysql: &#34;, error)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">db:set_timeout(1000) -- 1 sec
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local ok, error, errcode, sqlstate = db:connect{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	host = &#34;192.168.1.1&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	port = 3306,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	database = &#34;db_name&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    user = &#34;root&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    password = &#34;password&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    charset = &#34;utf8&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    max_packet_size = 1024 * 1024,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ngx.say(&#34;connected to mysql.&lt;br&gt;&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- 删除cats表
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local res, error, errcode, sqlstate = db:query(&#34;drop table if exists cats&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not res then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	ngx.say(&#34;bad result: &#34;, error, &#34;: &#34;, errcode, &#34;: &#34;, sqlstate, &#34;.&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- 创建cats表
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">res, error, errcode, sqlstate = db:query(&#34;create table cats &#34;..&#34;(id serial primary key. &#34;..&#34;name varchar(5))&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not res then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	ngx.say(&#34;bad result: &#34;, error, &#34;: &#34;, errcode, &#34;: &#34;, sqlstate, &#34;.&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ngx.say(&#34;table cats created.&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- 查询表
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">res, error, errcode, sqlstate = db:query(&#34;select * from t_emp&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not res then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	ngx.say(&#34;bad result: &#34;, error, &#34;: &#34;, errcode, &#34;: &#34;, sqlstate, &#34;.&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- 返回结果转义为Json格式
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local cjson = require &#34;cjson&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ngx.say(&#34;result: &#34;, cjson.encode(res))
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- 复用连接池
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">local ok, error = db:set_keepalive(10000, 100)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">if not ok then
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	ngx.say(&#34;failed to set keepalive: &#34;, error)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">	return
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">end
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span></span></span></code></pre></div></blockquote>
<hr>
<h3 id="模板引擎">模板引擎</h3>
<blockquote>
<ul>
<li><a href="https://github.com/bungle/lua-resty-template" rel="external" target="_self"><code>Lua-Resty-Template</code></a></li>
</ul>
</blockquote>
<hr>
<h3 id="lua开源项目"><code>Lua</code>开源项目</h3>
<blockquote>
<ul>
<li><a href="https://github.com/unixhot/waf" rel="external" target="_self"><code>WAF</code>防火墙</a></li>
<li><a href="https://github.com/loveshell/ngx_lua_waf" rel="external" target="_self"><code>Ngx_Lua_Waf</code>防火墙</a></li>
<li><a href="https://github.com/kong/kong" rel="external" target="_self"><code>Kong</code>流量网关</a></li>
<li><a href="https://github.com/CNSRE/ABTestingGateway" rel="external" target="_self"><code>ABTestingGateway</code>动态分流策略网关</a></li>
<li><a href="https://apisix.apache.org/" rel="external" target="_self"><code>ApiSix</code>网关、入口控制</a></li>
</ul>
</blockquote>
<hr>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="../../../js/clipboard.min.js?1728660464" defer></script>
    <script src="../../../js/perfect-scrollbar.min.js?1728660464" defer></script>
    <script src="../../../js/theme.js?1728660464" defer></script>
  </body>
</html>
